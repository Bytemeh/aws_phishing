(window.billingConsoleJsonpModules=window.billingConsoleJsonpModules||[]).push(["tax",function(e){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n=window.taxConsoleJsonp;window.taxConsoleJsonp=function(t,i,o){for(var r,s,c=0,l=[];c<t.length;c++)s=t[c],a[s]&&l.push(a[s][0]),a[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(n&&n(t,i,o);l.length;)l.shift()()};var i={},a={9:0};return t.e=function(e){function n(){r.onerror=r.onload=null,clearTimeout(s);var t=a[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),a[e]=void 0)}if(0===a[e])return Promise.resolve();if(a[e])return a[e][2];var i=new Promise(function(t,n){a[e]=[t,n]});a[e][2]=i;var o=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.timeout=12e4,t.nc&&r.setAttribute("nonce",t.nc),r.src=t.p+""+e+".js";var s=setTimeout(n,12e4);return r.onerror=r.onload=n,o.appendChild(r),i},t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e},t(t.s=56)}([function(e,t){e.exports=angular},function(e,t,n){var i=n(33),a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){function i(e,t){var n=o(e,t);return a(n)?n:void 0}var a=n(110),o=n(139);e.exports=i},function(e,t,n){var i=n(1),a=i.Symbol;e.exports=a},function(e,t,n){function i(e){return null==e?void 0===e?c:s:l&&l in Object(e)?o(e):r(e)}var a=n(4),o=n(136),r=n(165),s="[object Null]",c="[object Undefined]",l=a?a.toStringTag:void 0;e.exports=i},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var a=n(151),o=n(152),r=n(153),s=n(154),c=n(155);i.prototype.clear=a,i.prototype.delete=o,i.prototype.get=r,i.prototype.has=s,i.prototype.set=c,e.exports=i},function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}var a=n(21);e.exports=i},function(e,t,n){function i(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}var a=n(148);e.exports=i},function(e,t,n){var i=n(3),a=i(Object,"create");e.exports=a},function(e,t,n){function i(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var a=n(15),o=1/0;e.exports=i},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function i(e){return null!=e&&o(e.length)&&!a(e)}var a=n(38),o=n(23);e.exports=i},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function i(e){return"symbol"==typeof e||o(e)&&a(e)==r}var a=n(5),o=n(6),r="[object Symbol]";e.exports=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(3),a=n(1),o=i(a,"Map");e.exports=o},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var a=n(156),o=n(157),r=n(158),s=n(159),c=n(160);i.prototype.clear=a,i.prototype.delete=o,i.prototype.get=r,i.prototype.has=s,i.prototype.set=c,e.exports=i},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&a.test(e))&&e>-1&&e%1==0&&e<t}var i=9007199254740991,a=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function i(e,t){if(a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}var a=n(2),o=n(15),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=i},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var i=n(107),a=n(6),o=Object.prototype,r=o.hasOwnProperty,s=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return a(e)&&r.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}var i=9007199254740991;e.exports=n},function(e,t,n){function i(e){return r(e)?a(e):o(e)}var a=n(99),o=n(113),r=n(13);e.exports=i},function(e,t,n){function i(e){var t=this.__data__=new a(e);this.size=t.size}var a=n(7),o=n(173),r=n(174),s=n(175),c=n(176),l=n(177);i.prototype.clear=o,i.prototype.delete=r,i.prototype.get=s,i.prototype.has=c,i.prototype.set=l,e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}e.exports=n},function(e,t,n){function i(e,t){t=a(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}var a=n(31),o=n(11);e.exports=i},function(e,t,n){function i(e,t,n,r,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:a(e,t,n,r,i,s))}var a=n(108),o=n(6);e.exports=i},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function i(e,t){return a(e)?e:o(e,t)?[e]:r(s(e))}var a=n(2),o=n(20),r=n(178),s=n(187);e.exports=i},function(e,t,n){function i(e,t,n,i,l,u){var d=n&s,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var _=u.get(e);if(_&&u.get(t))return _==t;var m=-1,g=!0,h=n&c?new a:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var v=e[m],x=t[m];if(i)var y=d?i(x,v,m,t,e,u):i(v,x,m,e,t,u);if(void 0!==y){if(y)continue;g=!1;break}if(h){if(!o(t,function(e,t){if(!r(h,t)&&(v===e||l(v,e,n,i,u)))return h.push(t)})){g=!1;break}}else if(v!==x&&!l(v,x,n,i,u)){g=!1;break}}return u.delete(e),u.delete(t),g}var a=n(94),o=n(100),r=n(125),s=1,c=2;e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(16))},function(e,t,n){function i(e){return e===e&&!a(e)}var a=n(14);e.exports=i},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t){function n(e){if(null!=e){try{return a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var i=Function.prototype,a=i.toString;e.exports=n},function(e,t,n){(function(e){var i=n(1),a=n(186),o="object"==typeof t&&t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===o,c=s?i.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||a;e.exports=u}).call(t,n(41)(e))},function(e,t,n){function i(e){if(!o(e))return!1;var t=a(e);return t==s||t==c||t==r||t==l}var a=n(5),o=n(14),r="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",l="[object Proxy]";e.exports=i},function(e,t,n){var i=n(111),a=n(30),o=n(164),r=o&&o.isTypedArray,s=r?a(r):i;e.exports=s},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function r(){m&&f&&(m=!1,f.length?_=f.concat(_):g=-1,_.length&&s())}function s(){if(!m){var e=a(r);m=!0;for(var t=_.length;t;){for(f=_,_=[];++g<t;)f&&f[g].run();g=-1,t=_.length}f=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,_=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_.push(new c(e,t)),1!==_.length||m||a(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[u];l=t.reduce(function(t,n){var i=_.find(e,{id:n}),o=_.get(i,c,{});return _.set(t,[n,c],a({},o)),t},{})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return!!_.get(l,[t,c,e],!1)}t.a=r,t.b=s;var c="features",l={},u="tax"},function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var r=n(0),s=n.n(r),c=n(87),l=n(85),u=n(84),d=n(86),p=n(45),f=n(58),_=n(57),m=n(59),g=n(61),h=n(46),v=n(63),x=n(81),y=n(80);t.a=s.a.module("tax",["ngRoute","ngResource","ngSanitize","aws-billing-console-localization",c.a,"AWS-UI-Components",p.a,f.a,_.a,v.a,y.a,x.a,h.a,g.a].concat(function(e){return o(e)||a(e)||i()}([m.a]))).config(u.a).controller("TaxCtrl",l.a).directive("tax",d.a).name},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("tax.compileDynamicHtml",[]).directive("compileDynamicHtml",["$compile",function(e){var t=function(e,t,n){var i=/#\//g;return/ng-click/g.test(t)?"<a "+t+">"+n+"</a>":"<a "+(i.test(t)?"":'target="_blank" ')+'href="'+t+'">'+n+"</a>"};return{link:function(n,i,a){var o=/\[(\S+)\s(.*?)]/g;n.$watch(a.compileDynamicHtml,function(a){a&&(o.test(a)?(a="<span>"+a.replace(o,t)+"</span>",i.html(e(a)(n))):(a="<span>"+a+"</span>",i.html(e(a)(n))))})}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(51),r=n(55),s=n(53),c=n(47),l=n(48),u=n(50),d=n(49),p=n(52),f=n(54);t.a=a.a.module("tax-directives",[o.a,r.a,s.a,f.a,c.a,l.a,u.a,p.a,d.a]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("taxCharacterLimit",[]).directive("characterLimit",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){encodeURI(e).split(/%..|./).length-1>n.characterLimit?i.$setValidity("characterLimit",!1):i.$setValidity("characterLimit",!0)};t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})})}}}]).directive("fieldLength",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){encodeURI(e).split(/%..|./).length-1!=n.fieldLength?i.$setValidity("fieldLength",!1):i.$setValidity("fieldLength",!0)};e.$watch("ctrl.$viewValue",function(){a(i.$viewValue)}),t.on("change",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})})}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("taxRequireState",[]).directive("isStateRequired",[function(){return{scope:{countryCode:"=isStateRequired"},template:'<span ng-show="isStateRequired">*</span>',link:function(e,t,n,i){e.$watch("countryCode",function(t){e.isStateRequired="US"===t||"MX"===t||"CA"===t||"AU"===t||"IT"===t},!0)}}}]).directive("requireState",["$compile",function(e){return{require:"ngModel",scope:!0,link:function(e,t,n,i){if(i){e.countryCode=null,n.required=!0;var a=function(t){return e.countryCode&&("US"===e.countryCode||"MX"===e.countryCode||"CA"===e.countryCode||"AU"===e.countryCode||"IT"===e.countryCode)&&n.required&&i.$isEmpty(t)?void i.$setValidity("required",!1):(i.$setValidity("required",!0),t)};n.$observe("required",function(){a(i.$viewValue)}),t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}),e.$watch(n.requireState,function(t){e.countryCode=t,a(i.$viewValue)},!0)}}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("taxUserAuthorization",[]).directive("userAuthorization",["$timeout","$compile","$http","$rootScope",function(e,t,n,i){return{link:function(e,n,i){e.$watch(i.userAuthorization,function(a){if(!a){var o='<div class="iamAccessAlert alert alert-error alert-icon"><h3 once-text="\'_Unauthorized_User_\' | i18n"></h3><p compile-dynamic-html="\'_Unauthorized_User_Description_\' | i18n"></p></div>';i.authMessage&&i.authHeading&&(o='<div class="alert alert-error alert-icon"><h3 once-text="\''+i.authHeading+"' | i18n\"></h3><p once-text=\"'"+i.authMessage+"' | i18n\"></p></div>");var r=t(o)(e);n.replaceWith(r)}})}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("taxValidateCharacters",[]).directive("validateCharacters",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t=/[&<>"'\\%\t\n\|]/g,n=t.test(String(e));i.$setValidity("invalidCharacters",!n)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).directive("validateCharactersApostropheOk",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t=/[&<>"\\%\t\n\|]/g,n=t.test(String(e));i.$setValidity("invalidCharacters",!n)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).directive("validateBusinessLegalName",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t=/[<>"\\%\t\n\|]/g,n=t.test(String(e));i.$setValidity("invalidCharacters",!n)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).directive("validateItalyBusinessLegalName",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t=/[<>\-"\\%\t\n\|]/g,n=t.test(String(e));i.$setValidity("invalidCharactersForItaly",!n)};e.$watch("ctrl.$viewValue",function(){a(i.$viewValue)}),n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).directive("validateLatinCharacters",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t=/^[\x00-\xFF]*$/g,n=!t.test(String(e));i.$setValidity("hasNonLatinCharacters",!n)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("validateBankName",[]).directive("validateBankName",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){n.validateBankName;i.$setValidity("validateBankName",e!==n.validateBankName)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),a()}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("validateEmail",[]).directive("validateEmail",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){if(e){var t=/^[A-Z0-9\._%\+-]+@[A-Z0-9\.-]+\.[A-Z]{2,6}$/gi,n=!t.test(String(e));i.$setValidity("invalidEmail",!n)}else i.$setValidity("invalidEmail",!0)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("change",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).directive("checkEmailUnnecessity",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){e&&n.customerSdi?i.$setValidity("requiredSdiAndEmail",!1):i.$setValidity("requiredSdiAndEmail",!0)};n.$observe("customerSdi",function(){a(i.$viewValue)}),n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("change",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("validatePanNumber",[]).directive("validatePanNumber",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t=/^[a-zA-Z]{5}[0-9]{4}[a-zA-Z]$/,n=!t.test(String(e));i.$setValidity("invalidPan",!n)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("blur",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("validateSdiNumber",[]).directive("validateSdiNumber",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){if(e){var t=/^[0-9a-zA-Z]{6,7}$|^[\*]{7}$/g,n=!t.test(String(e));i.$setValidity("invalidSdi",!n)}else i.$setValidity("invalidSdi",!0)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("change",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).directive("checkSdiUnnecessity",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){e&&n.certifiedEmail?i.$setValidity("requiredSdiAndEmail",!1):i.$setValidity("requiredSdiAndEmail",!0)};n.$observe("certifiedEmail",function(){a(i.$viewValue)}),n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("mousedown",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("validateTaxNumber",[]).directive("validateTaxNumber",[function(){return{require:"ngModel",link:function(e,t,n,i){var a=function(e){var t;switch(n.taxCountry){case"TW":t=/^[0-9]{8}$/;break;case"RS":case"BY":t=/^[0-9]{9}$/;break;case"AE":case"SA":t=/^([0-9]{10}|[0-9]{15})$/;break;case"AU":t=/^[0-9]{11}$/;break;case"IN":t=/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z][0-9A-Z]{3}$/;break;case"IL":t=/^[0-9]{1,9}$/;break;case"TR":t=/^[0-9]{10}$/;break;case"AL":t=/^[A-Z][0-9]{8}[A-Z]$/;break;case"AM":t=/^0[0-9]{7}$/;break;case"BH":t=/^[0-9]{15}$/;break;case"BD":t=/^([0-9]{9}|[0-9]{11}|[0-9]{14})$/;break;case"SG":t=/^([A-Z0-9]{1,10})$/;break;case"ZA":t=/^[0-9]{10}$/;break;default:t=/^.*$/}i.$setValidity("armeniaNonBusiness",!0),i.$setValidity("invalidTaxNumber",t.test(String(e).replace(/[-\s+]/g,""))),i.$valid||"AM"===n.taxCountry&&/^[0-9]{8}$/.test(String(e).replace(/[-\s+]/g,""))&&i.$setValidity("armeniaNonBusiness",!1)};n.onKeyDown?i.$parsers.unshift(function(e){return a(e),e||""}):(t.on("change",function(){e.$apply(function(){a(i.$viewValue)})}),t.on("keyup",function(){e.$apply(function(){a(i.$viewValue)})}))}}}]).name},function(t,n,i){"use strict";function a(e){function t(e){e.showNotification=n.showNotification,e.isCNStack=n.isCNStack,e.marketPlace=n.marketPlace,e.marketPlaceGroup=n.marketPlaceGroup,e.locale=n.locale,e.isUserAuthorized=!0,e.viewVerbs=["ViewBilling","ViewAccount"],e.modifyVerbs=["ModifyBilling","ModifyAccount"],e.isAccountEnabledForHeritage=i.i(u.b)("isAccountEnabledForHeritage")}t.$inject=["$rootScope"];var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.i(u.a)(n.manifest);var a=s.a.module("tax-root",[c.a]).run(t).name;e.innerHTML="<div><tax></tax></div>",d=s.a.bootstrap(e.children[0],[a])}function o(e){function t(e){e.$apply(function(){e.templateUrl=null,e.$destroy()})}t.$inject=["$rootScope"],d.invoke(t);var n=d.get("$browser");"function"==typeof n.destroy&&n.destroy(),d=null;var i=e.children[0];s.a.element(i).remove(),s.a.element(e).innerHTML=""}Object.defineProperty(n,"__esModule",{value:!0});var r=i(0),s=i.n(r),c=i(43),l=i(44),u=(i.n(l),i(42));n.render=a,n.destroy=o,void 0!==e&&(i.p=e);var d},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(184),r=(n.n(o),n(217)),s=n.n(r);t.a=a.a.module("tax.address-service",[]).factory("Address",["$resource","$cacheFactory","$http","$q","$filter","$templateCache",function(e,t,n,i,o,r){var c=t("address"),l=e("/billing/rest/v1.0/address",{},{get:{method:"GET",isArray:!1,interceptor:{response:function(e){return e.data}}},update:{method:"PUT",isArray:!1}});return l.prototype.update=function(e){return l.update({},a.a.extend({},this,{}),e)},l.getLocalizedCountryNames=function(e,t){for(var n=a.a.copy(e),i=0,r=n.length;i<r;i++)n[i].name=o("i18n")("_Country_Code_"+n[i].code+"_");return n.sort(function(e,n){return e.name.toLowerCase().localeCompare(n.name.toLowerCase(),t)}),c.put("countries-"+t,n),n},l.getCountries=function(e,t){var n=i.defer();return c.get("countries-"+e)?n.resolve(c.get("countries-"+e)):n.resolve(l.getLocalizedCountryNames(s.a,e)),n.promise},l}]).name},function(e,t,n){"use strict";function i(e,t,n,a,o){function r(){l&&l()}var s=e.$eval(n[a]);if(void 0!==(n.onceWaitFor?e.$eval(n.onceWaitFor):s))return o(t,s);var c=n.onceWaitFor||n[a],l=e.$watch(c,function(s){if(void 0!=s)return r(),i(e,t,n,a,o)});e.$on("$destroy",r)}function a(e){s.directive(e.name,function(){return function(t,n,a){i(t,n,a,e.name,e.binding)}})}var o=n(0),r=n.n(o),s=r.a.module("tax.once",[]),c=[{name:"onceText",binding:function(e,t){e.text(null!==t?t:"")}},{name:"onceHtml",binding:function(e,t){e.html(t)}},{name:"onceSrc",binding:function(e,t){e.attr("src",t)}},{name:"onceHref",binding:function(e,t){e.attr("href",t)}},{name:"onceTitle",binding:function(e,t){e.attr("title",t)}},{name:"onceAlt",binding:function(e,t){e.attr("alt",t)}},{name:"onceId",binding:function(e,t){e.attr("id",t)}},{name:"onceIf",binding:function(e,t){t||e.remove()}},{name:"onceClass",binding:function(e,t){if(r.a.isObject(t)&&!r.a.isArray(t)){var n=[];r.a.forEach(t,function(e,t){e&&n.push(t)}),t=n}t&&e.addClass(r.a.isArray(t)?t.join(" "):t)}},{name:"onceStyle",binding:function(e,t){e.css(t)}},{name:"onceShow",binding:function(e,t){t?e.css("display",""):e.css("display","none")}},{name:"onceHide",binding:function(e,t){t?e.css("display","none"):e.css("display","")}}];r.a.forEach(c,a),s.directive("once",function(){return function(e,t,n){r.a.forEach(n,function(a,o){if(/^onceAttr[A-Z]/.test(o)){i(e,t,n,o,function(e,t){var n=o.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),i=n.substr(10);e.attr(i,t)})}})}}),t.a=s.name},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(60);t.a=a.a.module("tax.exceptionOverride",[o.a]).factory("$exceptionHandler",["$window","Metrics",function(e,t){return function(n,i){try{var o=n.toString();t.log({key:"clientSideError",value:1,detail:a.a.toJson({errorMessage:o,stackTrace:n.stack,cause:i,errorUrl:e.location.href.replace("#","%23")}).replace("\\",""),metricType:"custom",logLevel:"WARN"})}catch(e){}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("tax.metrics-service",[]).factory("Metrics",[function(){var e=null,t=null,n=null,i={},a=!0,o=function(e){"undefined"!=typeof AWSC&&AWSC.Clog&&(e.pageId=e.pageId||t,e.metricType=e.metricType||"custom",e.logLevel=e.logLevel||"INFO",AWSC.Clog.log(e))},r=function(e,t){"undefined"!=typeof AWSC&&AWSC.Timer&&AWSC.Timer.submitCustomTimer(e,t)},s=function(){if(null===t&&"undefined"!=typeof AWSC){var n=(new Date).getTime();e=n-AWSC.startTime}},c=function(e){"undefined"!=typeof AWSC&&AWSC.Timer&&AWSC.Timer.start(e),n=(new Date).getTime()},l=function(e){"undefined"!=typeof AWSC&&AWSC.Timer&&AWSC.Timer.stop(e)},u=function(t,i){"undefined"!=typeof AWSC&&AWSC.Timer&&AWSC.Timer.submitCustomTimer(t,i-n+e)},d=function(){"undefined"!=typeof AWSC&&AWSC.Timer&&a&&(AWSC.Timer.customerReady(),a=!1)},p=function(e){"undefined"!=typeof AWSC&&AWSC.Timer&&AWSC.Clog.setPageId(e),s(),t=e},f=function(e){t&&!i.hasOwnProperty(t)&&(i[t]={},e.forEach(function(e){i[t][e]=!1}))},_=function(e){if(e&&t&&i.hasOwnProperty(t)&&!1===i[t][e]&&(i[t][e]=!0,m(t))){var n=(new Date).getTime();u(t,n)}},m=function(e){if(e&&i.hasOwnProperty(e)){for(var t in i[e])if(!1===i[e][t])return!1;return!0}};return{log:o,timer:r,startTimer:c,stopTimer:l,customerReady:d,registerCustomerReadyAjaxCalls:function(e,t){void 0===t&&(t=!1),"undefined"!=typeof AWSC&&AWSC.Timer&&a&&(AWSC.Timer.setCustomerReadyEvents(e),a=!1),t&&f(e)},ajaxCallCustomerReady:function(e,t){void 0===t&&(t=!1),"undefined"!=typeof AWSC&&AWSC.Timer&&e.forEach(function(e){AWSC.Timer.customerReady(e),t&&_(e)})},ajaxCall:{ACCOUNT:"account",FX_PAYMENT_INFO:"fxPaymentInfo",FREETIER_USAGE:"freeTierUsage",BILL:"bill",NOTIFICATION:"notification",SUMMARIES:"summaries",TAX_INVOICE_ID:"taxInvoiceId",COST_EXPLORER:"costExplorer",ALL:"all",BUDGET_DATA:"budgetData",FORECAST_DATA:"forecastData",ADDRESS:"address",CHECK_INVOICE:"checkInvoice",LIST:"list",IPP:"ipp",PAYMENT_HISTORY:"paymentHistory",STATUS:"status",PAYER_ACCOUNT_INFO:"payerAccountInfo",LINKED_ACCOUNTS:"linkedAccounts",CONSOLIDATED_BILLING:"consolidatedBilling",BILL_ALERTS:"billAlerts",PREFERENCES:"preferences",VERIFY_S3_BUCKET_NAME:"verifyS3BucketName",HISTORY:"history"},setPageId:p,getPageId:t,resetMetricEventForPage:function(){if(t&&i.hasOwnProperty(t))for(var e in i[t])i[t][e]=!1},WITH_SEPARATE_TIME_METRICS:!0}}]).directive("awsbcTrack",["Metrics",function(e){return{restrict:"AEC",scope:{changedElements:"="},link:function(t,n,i){var o=function(){e.log({key:i.awsbcTrack,value:1}),t.changedElements&&t.changedElements.length&&a.a.forEach(t.changedElements,function(t,n){e.log({key:t,value:1})})};n.bind("click",o)}}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(216),r=n.n(o);t.a=a.a.module("tax-service",[]).factory("TaxExemption",["$resource","$rootScope","$cacheFactory","$q","$http","$templateCache","$filter",function(e,t,n,i,o,s,c){var l,u=t.marketPlaceGroup(),d="NA",p=n("country"),f=n("IndiaStates");return"AISPL"===u?d="AISPL":t.isCNStack()&&(d="CN"),l="AISPL"===d?e("/billing/rest/v1.0/taxexemption/aispl/pan/information",{},{update:{method:"PUT",isArray:!1}}):"CN"===d?e("/billing/rest/v1.0/taxexemption/china/vat/information",{},{update:{method:"PUT",isArray:!1}}):e("/billing/rest/v1.0/taxexemption/eu/vat/information",{},{update:{method:"PUT",isArray:!1}}),l.taxStack=d,l.getSupportedCountrySet=function(){var e={},t=i.defer();return p.get("supportCountrySet")?t.resolve(p.get("supportCountrySet")):o.get("/billing/rest/v1.0/taxexemption/eu/vat/countries",{countriesCache:s}).then(function(n){var i=n.data.supportedCountryCodes;for(var a in i)e[i[a]]=!0;p.put("supportCountrySet",e),t.resolve(p.get("supportCountrySet"))}),t.promise},l.getIndiaStates=function(){var e=i.defer(),t={};if(f.get("supportedIndiaStates"))e.resolve(f.get("supportedIndiaStates"));else{for(var n in r.a)t[r.a[n].code]=r.a[n];f.put("supportedIndiaStates",t),e.resolve(f.get("supportedIndiaStates"))}return e.promise},l.getIndiaGSTs=function(){var e=i.defer();return o.get("/billing/rest/v1.0/taxexemption/eu/vat/information",{indiaStatesCache:s}).then(function(t){e.resolve(t.data)}),e.promise},l.isDecoupled=function(){var e=i.defer();return o.get("/billing/rest/v1.0/taxexemption/decoupled",{}).then(function(t){e.resolve(t.data)}),e.promise},l.getAddresses=function(){var e=i.defer();return o.get("/billing/rest/v1.0/taxexemption/addresses",{}).then(function(t){e.resolve(t.data)}),e.promise},l.getLinkedAccounts=function(){var e=i.defer();return o.get("/billing/rest/v1.0/taxexemption/accounts",{}).then(function(t){e.resolve(t.data.linkedAccounts)},function(t){o.get("/billing/rest/v1.0/account",{}).then(function(t){e.resolve([t.data.accountId])})}),e.promise},l.getLinkedAccountDetails=function(e){var n=i.defer(),a=i.defer();return o.get("/billing/rest/v1.0/taxexemption/accountdetails",{params:{linkedaccounts:e},timeout:a.promise}).then(function(e){n.resolve(e.data)}),t.previousRequestCancelers.push(a),n.promise},l.setTaxRegistrationForLinkedAccounts=function(e,t,n){return"IT"===t.authority.country?this.setTaxRegistrationForMultipleAccountsAPIVersion1(e,t):this.setTaxRegistrationForLinkedAccountsAPIVersion2(e,t,n)},l.setTaxRegistrationForLinkedAccountsAPIVersion2=function(e,t,n){var i=new FormData;return a.a.forEach(n,function(e){i.append("vrnVerificationDocument",e)}),i.append("details",new Blob([JSON.stringify({linkedAccounts:e,taxRegistration:t})],{type:"application/json"})),o({method:"PUT",url:"/billing/rest/v1.0/taxexemption/taxregistration.v2",data:i,headers:{"Content-Type":void 0},transformRequest:function(e,t){var n=t();return window.xsrfToken&&a.a.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),e}})},l.setTaxRegistrationForMultipleAccountsAPIVersion1=function(e,t){return o({method:"PUT",url:"/billing/rest/v1.0/taxexemption/taxregistration?sif_profile=customerSDIAccountId",data:{linkedAccounts:e,taxRegistration:t},headers:{"Content-Type":"application/json; charset=UTF-8"}})},l.getVRNLabel=function(e){var t=["NZ","KR","RU","IN","TW","RS","BH","BD","SG"];return["SA","BY","AE"].indexOf(e)>-1?c("i18n")("_TIN_Tax_Settings_Registration_Number_"):t.indexOf(e)>-1?c("i18n")("_"+e+"_Tax_Settings_Registration_Number_"):c("i18n")("_General_Tax_Settings_Registration_Number_")},l.previewTaxRegistrationChange=function(e,t){var n=i.defer();return o({method:"POST",url:"/billing/rest/v1.0/taxexemption/preview",data:{accountId:e,taxRegistration:t},headers:{"Content-Type":"application/json; charset=UTF-8"},transformRequest:function(e,t){var n=t();return window.xsrfToken&&a.a.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),JSON.stringify(e)}}).then(function(e){n.resolve(e.data)}),n.promise},l.validateAddress=function(e){var t=i.defer();return o({method:"POST",url:"/billing/rest/v1.0/taxexemption/validateaddress",data:e,headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(function(e){t.resolve(e.data)}),t.promise},l.setHeritageStatus=function(e){var t=i.defer();return o({method:"POST",url:"/billing/rest/v1.0/taxexemption/heritage",params:{heritageStatus:e},headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(function(){t.resolve()}),t.promise},l.getHeritageStatus=function(e){var t=i.defer();return o.get("/billing/rest/v1.0/taxexemption/heritage",{}).then(function(e){t.resolve(e.data.customerHeritageStatus)}),t.promise},l.downloadVRNVerificationDocument=function(e,t){var n=i.defer();return o.get("/billing/rest/v1.0/taxexemption/downloadverificationdocument",{params:{accountId:e,documentObjectKey:t}}).then(function(e){n.resolve(e.data)}).catch(function(e){n.reject(e.status)}),n.promise},l}]).name},function(e,t,n){"use strict";function i(e,t,n,i,a,o,r){try{var s=e[o](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){function r(e){i(c,a,o,r,s,"next",e)}function s(e){i(c,a,o,r,s,"throw",e)}var c=e.apply(t,n);r(void 0)})}}function o(e){return r.apply(this,arguments)}function r(){return r=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==l){e.next=2;break}return e.abrupt("return",u);case 2:return e.abrupt("return",d[t]());case 3:case"end":return e.stop()}},e)})),r.apply(this,arguments)}var s=n(220),c=n.n(s);n.d(t,"a",function(){return u}),t.b=o;var l="en-us",u=c.a,d={"de-de":function(){return new Promise(function(e){n.e(8).then(function(){return e(n(221))}.bind(null,n)).catch(n.oe)})},"es-es":function(){return new Promise(function(e){n.e(7).then(function(){return e(n(222))}.bind(null,n)).catch(n.oe)})},"it-it":function(){return new Promise(function(e){n.e(5).then(function(){return e(n(224))}.bind(null,n)).catch(n.oe)})},"fr-fr":function(){return new Promise(function(e){n.e(6).then(function(){return e(n(223))}.bind(null,n)).catch(n.oe)})},"ja-jp":function(){return new Promise(function(e){n.e(4).then(function(){return e(n(225))}.bind(null,n)).catch(n.oe)})},"ko-kr":function(){return new Promise(function(e){n.e(3).then(function(){return e(n(226))}.bind(null,n)).catch(n.oe)})},"pt-br":function(){return new Promise(function(e){n.e(2).then(function(){return e(n(227))}.bind(null,n)).catch(n.oe)})},"zh-cn":function(){return new Promise(function(e){n.e(1).then(function(){return e(n(228))}.bind(null,n)).catch(n.oe)})},"zh-tw":function(){return new Promise(function(e){n.e(0).then(function(){return e(n(229))}.bind(null,n)).catch(n.oe)})}}},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(212),r=(n.n(o),n(82)),s=n(206),c=n.n(s),l=n(83),u=n(207),d=n.n(u),p=n(66),f=n(67),_=n(65),m=n(69),g=n(68),h=n(64),v=n(71),x=n(70);t.a=a.a.module("tax-settings-cn",[r.a,l.a,p.a,f.a,_.a,m.a,g.a,h.a,v.a,x.a]).constant("TAX_INFO_INDEX",{CONTACT_ADDRESS:0,TAX_EXEMPTION:1}).constant("ACTS_VAT_TYPE",{SPECIAL:"SPECIAL",STANDARD:"COMMON",NONE:"NONE"}).constant("ACTS_VAT",{NONE:0,STANDARD:1,SPECIAL:2}).constant("EDITING_PHASE",{FAPIAOINFO:0,BANKINFO:1,MAILADD:2,SUPPDOC:3}).constant("VALID_FILE_EXTENSION",[".jpg",".png",".pdf"]).constant("VALID_FILE_TYPE",["image/jpeg","image/png","application/pdf"]).controller("TaxSettingsCtrlCN",["$scope","$rootScope","$q","$http","$filter","$modal","$location","Address","TaxExemption","TAX_INFO_INDEX","ACTS_VAT_TYPE","ACTS_VAT","EDITING_PHASE","VALID_FILE_EXTENSION","VALID_FILE_TYPE",function(e,t,n,i,o,r,s,l,u,p,f,_,m,g,h){function v(e,t){t=t||512;for(var n=window.atob(e),i=[],a=0;a<n.length;a+=t){for(var o=n.slice(a,a+t),r=new Array(o.length),s=0;s<o.length;s++)r[s]=o.charCodeAt(s);var c=new Uint8Array(r);i.push(c)}return new Blob(i)}e.model={isEditingTaxInfo:!1,isLoadingTaxSettings:!0,isPreviewingsTaxInfo:!1,isValidAddress:!0,mailingAddress:{},taxAddress:{},editingPhase:0,supportingDocuments:[],isPendingVerification:!1,isActive:!1,isUpdatingTaxInfo:!1,isSave:!1,isRequired:!0,isInFileNumberLimit:!0,isValidFile:!0,file_number_limit:5,uploadedFiles:[]},e.model.invoiceTypes=[{value:f.NONE,displayText:o("i18n")("_Tax_Settings_Invoice_None_")},{value:f.STANDARD,displayText:o("i18n")("_Tax_Settings_Invoice_Standard_")},{value:f.SPECIAL,displayText:o("i18n")("_Tax_Settings_Invoice_Special_")}],e.initialize=function(){n.all([l.get({type:"CONTACT"}).$promise,u.get().$promise]).then(function(n){if(e.model.isaCompany=n[p.CONTACT_ADDRESS].company&&""!==n[p.CONTACT_ADDRESS].company,e.model.hasChinaAddress=n[p.CONTACT_ADDRESS].countryCode&&"CN"===n[p.CONTACT_ADDRESS].countryCode,e.model.hasFapiao=null!==n[p.TAX_EXEMPTION].fapiaoType,e.model.isaCompany&&e.model.hasChinaAddress&&e.model.hasFapiao){if(e.model.bankAccount=n[p.TAX_EXEMPTION].bankAccount||{},e.model.invoice={type:e.model.invoiceTypes.filter(function(e){return e.value===n[p.TAX_EXEMPTION].fapiaoType})[0]||e.model.invoiceTypes[_.NONE],state:n[p.TAX_EXEMPTION].fapiaoState,stateText:o("i18n")("_Tax_Settings_"+n[p.TAX_EXEMPTION].fapiaoState+"_"),vatRegistrationNumber:n[p.TAX_EXEMPTION].taxId},null!==n[p.TAX_EXEMPTION].taxAddress){var i=n[p.TAX_EXEMPTION].taxAddress,a=i.lastIndexOf(" ");e.model.taxAddress.address=i.substring(0,a).trim(),e.model.taxAddress.phoneNumber=i.substring(a+1).trim()}e.model.taxAddress.company=n[p.CONTACT_ADDRESS].company,e.model.taxAddress.fullName=n[p.CONTACT_ADDRESS].fullName,e.model.supportingDocuments=n[p.TAX_EXEMPTION].fapiaoDocumentList?n[p.TAX_EXEMPTION].fapiaoDocumentList:[],null!==n[p.TAX_EXEMPTION].mailingAddress?(e.model.mailingAddress=n[p.TAX_EXEMPTION].mailingAddress,delete e.model.mailingAddress.website,delete e.model.mailingAddress.districtOrCounty):(e.model.mailingAddress=null===n[p.TAX_EXEMPTION].draftMailingAddress?{}:n[p.TAX_EXEMPTION].draftMailingAddress,e.model.mailingAddress.countryCode=n[p.CONTACT_ADDRESS].countryCode),e.model.mailingAddress.company=n[p.CONTACT_ADDRESS].company,e.model.isAccountSpecial=n[p.TAX_EXEMPTION].vatType===f.SPECIAL,"SAVE"===e.model.invoice.state?(e.toggleTaxInfoState("save"),e.model.invoice.vatRegistrationNumber&&e.model.taxAddress.address&&e.model.taxAddress.phoneNumber?"SPECIAL"===e.model.invoice.type.value&&0===Object.keys(e.model.bankAccount).length?e.model.editingPhase=m.BANKINFO:e.model.mailingAddress.fullName&&e.model.mailingAddress.addressLine1&&e.model.mailingAddress.postalCode&&e.model.mailingAddress.phoneNumber?e.model.editingPhase=m.SUPPDOC:e.model.editingPhase=m.MAILADD:e.model.editingPhase=m.FAPIAOINFO):"ACTIVE"===e.model.invoice.state&&e.toggleTaxInfoState("view"),"PENDING"===e.model.invoice.state&&"NONE"===e.model.invoice.type.value?e.model.invoice.state="SAVE":"PENDING"===e.model.invoice.state&&e.toggleTaxInfoState("verification"),e.model.isValidAddress=!0}else e.model.isValidAddress=!1;e.model.isLoadingTaxSettings=!1,e.model.isACTS="ACTS"===t.marketPlaceGroup()})},e.saveAndContinue=function(){if(e.model.invoice.type.value!==e.model.invoiceTypes[_.SPECIAL].value&&(e.model.bankAccount={}),e.model.isSubmittedForPreview=!0,e.model.isRequired=!0,e.model.taxInfoForm.$valid){e.model.taxAddress.fapiaoString=e.model.taxAddress.address+e.model.taxAddress.phoneNumber,e.model.mailingAddress.city=null===e.model.mailingAddress.city?"":e.model.mailingAddress.city,e.model.invoice.type.value===e.model.invoiceTypes[2].value&&encodeURI(e.model.taxAddress.fapiaoString).split(/%..|./).length-1>150&&r.open({templateUrl:c.a,controller:"WarningModalCtrl"}),e.model.invoice.type.value!==e.model.invoiceTypes[_.SPECIAL].value&&(e.model.bankAccount={});var n={vatRegistrationNumber:""===e.model.invoice.vatRegistrationNumber?null:e.model.invoice.vatRegistrationNumber,invoiceType:e.model.invoice.type.value,bankAccountType:"ACTS_VAT",draftMailingAddress:e.model.mailingAddress,taxAddress:e.model.taxAddress.address,taxPhoneNumber:e.model.taxAddress.phoneNumber,fapiaoState:"SAVE"};e.model.editingPhase===m.BANKINFO&&(n.addBankAccountNumber=a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.accountNumber,n.accountHolderName=a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.accountHolderName,n.addBankAccountBankName=a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.bankName,n.addBankAccountBankCity=a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.city,n.addBankAccountBankProvince=a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.province,n.plainBankName=a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.bankName),e.model.isUpdatingTaxInfo=!0,i({method:"PUT",url:"/billing/rest/v1.0/taxexemption/china/vat/information",data:$.param(n),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e,t){var n=t();return window.xsrfToken&&a.a.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),e}}).then(function(){e.model.editingPhase+=1,"COMMON"===e.model.invoice.type.value&&1===e.model.editingPhase&&(e.model.editingPhase+=1),e.model.isSubmittedForPreview=!1,e.model.isUpdatingTaxInfo=!1,t.showNotification("success",o("i18n")("_Tax_Settings_Saved_"),2e3,!0)},function(){e.model.isUpdatingTaxInfo=!1})}},e.save=function(){e.model.invoice.type.value!==e.model.invoiceTypes[_.SPECIAL].value&&(e.model.bankAccount={}),e.model.isSubmittedForPreview=!1,e.model.isRequired=!1,setTimeout(function(){if(e.model.taxInfoForm.$valid){e.model.taxAddress.fapiaoString=e.model.taxAddress.address+e.model.taxAddress.phoneNumber,e.model.mailingAddress.city=null===e.model.mailingAddress.city?"":e.model.mailingAddress.city,e.model.invoice.type.value===e.model.invoiceTypes[2].value&&encodeURI(e.model.taxAddress.fapiaoString).split(/%..|./).length-1>150&&r.open({templateUrl:c.a,controller:"WarningModalCtrl"});var n={vatRegistrationNumber:""===e.model.invoice.vatRegistrationNumber?null:e.model.invoice.vatRegistrationNumber,invoiceType:e.model.invoice.type.value,bankAccountType:"ACTS_VAT",draftMailingAddress:e.model.mailingAddress,taxAddress:e.model.taxAddress.address,taxPhoneNumber:e.model.taxAddress.phoneNumber,fapiaoState:"SAVE"};e.model.isUpdatingTaxInfo=!0,i({method:"PUT",url:"/billing/rest/v1.0/taxexemption/china/vat/information",data:$.param(n),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e,t){var n=t();return window.xsrfToken&&a.a.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),e}}).then(function(){e.model.isUpdatingTaxInfo=!1,e.toggleTaxInfoState("save"),t.showNotification("success",o("i18n")("_Tax_Settings_Saved_"),2e3,!0)},function(){e.model.isUpdatingTaxInfo=!1})}e.model.isRequired=!0},50)},e.updateInvoiceType=function(t){e.model.isSubmittedForPreview=!1,e.model.previousState="none",e.model.bankAccount={},e.model.editingPhase=m.FAPIAOINFO,t!==f.NONE?r.open({templateUrl:d.a,controller:"FapiaoTypeHelptextModalCtrl",resolve:{invoiceType:function(){return t}}}):e.model.isEditingTaxInfo=!1},e.toggleTaxInfoState=function(t){switch(t){case"preview":e.model.isSave=!1,e.model.isPreviewingTaxInfo=!0,e.model.isEditingTaxInfo=!1,e.model.isActive=!1,e.model.isPendingVerification=!1;break;case"editing":e.model.invoice.state="SAVE",e.model.isSave=!1,e.model.isPreviewingTaxInfo=!1,e.model.isEditingTaxInfo=!0,e.model.isActive=!1,e.model.isPendingVerification=!1,e.model.isSubmittedForPreview=!1;break;case"view":e.model.isPreviewingTaxInfo=!1,e.model.isEditingTaxInfo=!1,e.model.isActive=!0,e.model.isPendingVerification=!1,e.model.isSave=!1;break;case"verification":e.model.isPreviewingTaxInfo=!1,e.model.isEditingTaxInfo=!1,e.model.isActive=!1,e.model.isPendingVerification=!0,e.model.isSave=!1,e.model.invoice.state="PENDING";break;case"save":e.model.isSave=!0,e.model.isPreviewingTaxInfo=!1,e.model.isEditingTaxInfo=!1,e.model.isActive=!1,e.model.isPendingVerification=!1}},e.updateTaxInformation=function(){var n={vatRegistrationNumber:""===e.model.invoice.vatRegistrationNumber?null:e.model.invoice.vatRegistrationNumber,invoiceType:e.model.invoice.type.value,bankAccountType:"ACTS_VAT",addBankAccountNumber:a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.accountNumber,accountHolderName:a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.accountHolderName,addBankAccountBankName:a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.bankName,addBankAccountBankCity:a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.city,addBankAccountBankProvince:a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.province,plainBankName:a.a.equals(e.model.bankAccount,{})?null:e.model.bankAccount.bankName,mailingAddress:e.model.mailingAddress,taxAddress:e.model.taxAddress.address,taxPhoneNumber:e.model.taxAddress.phoneNumber,fapiaoState:"PENDING"};e.model.isUpdatingTaxInfo=!0;var r=new FormData;a.a.forEach(e.model.uploadedFiles,function(e){r.append("file",e)}),i({method:"POST",url:"/billing/rest/v1.0/taxexemption/china/vat/documents",data:r,headers:{"Content-Type":void 0},transformRequest:function(e,t){var n=t();return window.xsrfToken&&a.a.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),e}}).then(function(){i({method:"PUT",url:"/billing/rest/v1.0/taxexemption/china/vat/information",data:$.param(n),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:function(e,t){var n=t();return window.xsrfToken&&a.a.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),e}}).then(function(){e.toggleTaxInfoState("verification"),e.model.invoice.state="PENDING",e.model.isUpdatingTaxInfo=!1,t.showNotification("success",o("i18n")("_Tax_Settings_Saved_"),2e3,!0)},function(){e.model.isUpdatingTaxInfo=!1})},function(){e.model.isUpdatingTaxInfo=!1})},e.upload=function(){var t=a.a.element(document.querySelector("#file"))[0].files[0],n=new FileReader;e.model.isValidFile=!1;for(var i=0;i<g.length;i++)if(t.name.toLowerCase().endsWith(g[i])&&t.type===h[i]){e.model.isValidFile=!0;break}if(e.model.isValidFile){if(t.size>=4928307.2)return void(e.model.isExceedingFileSizeLimit=!0);e.model.isExceedingFileSizeLimit=!1,n.onloadend=function(n){var i=n.target.result,a=i.split(",")[1],o={documentName:t.name,documentFile:a};e.model.supportingDocuments.push(o),e.model.uploadedFiles.push(t),e.model.supportingDocuments.length>=1&&e.model.supportingDocuments.length<=e.model.file_number_limit?e.model.isInFileNumberLimit=!0:e.model.isInFileNumberLimit=!1,e.$apply()},n.readAsDataURL(t)}},e.download=function(t,n){var i=v(e.model.supportingDocuments[t].documentFile),a=URL.createObjectURL(i);$(n.target)[0].setAttribute("href",a),$(n.target)[0].setAttribute("download",e.model.supportingDocuments[t].documentName)},e.delete=function(t){e.model.supportingDocuments.splice(t,1),e.model.uploadedFiles.splice(t,1),e.model.supportingDocuments.length>=1&&e.model.supportingDocuments.length<=e.model.file_number_limit?e.model.isInFileNumberLimit=!0:e.model.isInFileNumberLimit=!1},e.initialize()}]).name},function(e,t,n){"use strict";function i(){return{restrict:"E",templateUrl:o.a,scope:{model:"="}}}var a=n(189),o=n.n(a);t.a=angular.module("tax-settings-bank-information",[]).directive("taxSettingsBankInformation",i).name},function(e,t,n){"use strict";function i(){return{restrict:"E",templateUrl:o.a,scope:{model:"="}}}var a=n(190),o=n.n(a);t.a=angular.module("tax-settings-fapiao-info",[]).directive("taxSettingsFapiaoInformation",i).name},function(e,t,n){"use strict";function i(){return{restrict:"E",templateUrl:o.a,scope:{model:"="}}}var a=n(191),o=n.n(a);t.a=angular.module("tax-settings-header",[]).directive("taxSettingsHeader",i).name},function(e,t,n){"use strict";function i(){function e(e){function t(){e.model.isPreviewingTaxInfo?e.model.previousState="previewing":e.model.previousState="pending",e.toggleState({state:"editing"}),e.model.editingPhase=0}e.edit=t}return{restrict:"E",templateUrl:o.a,scope:{model:"=",update:"&",toggleState:"&"},link:e}}var a=n(192),o=n.n(a);t.a=angular.module("tax-settings-invoice-type",[]).directive("taxSettingsInvoiceType",i).name},function(e,t,n){"use strict";function i(){return{restrict:"E",templateUrl:o.a,scope:{model:"="}}}var a=n(193),o=n.n(a);t.a=angular.module("tax-settings-mailing-address",[]).directive("taxSettingsMailingAddress",i).name},function(e,t,n){"use strict";function i(){function e(e){function t(){e.model.supportingDocuments.length<=e.model.file_number_limit&&e.model.supportingDocuments.length>=1?(e.model.isInFileNumberLimit=!0,e.toggleState({state:"preview"})):e.model.isInFileNumberLimit=!1}function n(){e.toggleState({state:"save"})}function i(){"none"===e.model.previousState?(e.model.isEditingTaxInfo=!1,e.model.invoice.type=e.model.invoiceTypes[0]):"pending"===e.model.previousState?e.toggleState({state:"verification"}):"previewing"===e.model.previousState&&e.toggleState({state:"preview"})}function a(){e.model.editingPhase-=1,1===e.model.editingPhase&&"COMMON"===e.model.invoice.type.value&&(e.model.editingPhase-=1),0===e.model.editingPhase&&(e.model.previousState="none")}function o(){e.toggleState({state:"editing"})}e.previewTaxInfo=t,e.cancel=n,e.back=a,e.returnToPreviousState=i,e.cancelPreview=o}return{restrict:"E",templateUrl:o.a,scope:{model:"=",toggleState:"&",updateTaxInformation:"&",save:"&",saveAndContinue:"&",requestToChangeSubmit:"&"},link:e}}var a=n(194),o=n.n(a);t.a=angular.module("tax-settings-save-button",[]).directive("taxSettingsSaveButton",i).name},function(e,t,n){"use strict";function i(){return{scope:{model:"="},templateUrl:o.a,restrict:"E"}}var a=n(195),o=n.n(a);t.a=angular.module("tax-settings-status-bar",[]).directive("taxSettingsStatusBar",i).name},function(e,t,n){"use strict";function i(){return{scope:{model:"=",upload:"&",delete:"&",download:"&"},restrict:"E",templateUrl:r.a,controller:a}}function a(e,t,n){t.taxSettingHintList=e.map(function(e){return n("i18n")(e)})}var o=n(196),r=n.n(o);t.a=angular.module("tax-settings-supporting-doc",[]).filter("slice",function(){return function(e,t,n){return(e||[]).slice(t,n)}}).constant("TAX_SETTINGS_HINT_LIST",["_TAX_SETTINGS_BUSINESS_LICENSE_","_TAX_SETTINGS_VAT_PAYER_","_TAX_SETTINGS_BANK_LICENSE_"]).directive("taxSettingsSupportingDoc",i).name,a.$inject=["TAX_SETTINGS_HINT_LIST","$scope","$filter"]},function(e,t,n){"use strict";function i(){return{restrict:"E",templateUrl:o.a,scope:{address:"=",taxAddressRole:"="}}}var a=n(197),o=n.n(a);t.a=angular.module("tax-address",[]).directive("taxAddress",i).name},function(e,t,n){"use strict";function i(){function e(e){e.isPending=!1,e.addressSelection="suggested",e.addressChange=function(t){e.addressSelection=t},e.cancel=function(){e.isPending=!0,Promise.resolve(e.onCancel()).then(function(){e.isPending=!1,e.$apply()})},e.confirm=function(){e.suggestedAddress&&"suggested"===e.addressSelection&&(e.taxRegistration.address=e.suggestedAddress),e.isPending=!0,Promise.resolve(e.onConfirm()).then(function(){e.isPending=!1,e.$apply()})}}return{restrict:"E",templateUrl:o.a,scope:{show:"=",accounts:"=",succeededCount:"=",failures:"=",isPanUpdate:"=",sorChangeText:"=",paymentMethodValidationText:"=",suggestedAddress:"=",taxRegistration:"=",onConfirm:"&",onCancel:"&"},link:e}}var a=n(198),o=n.n(a);t.a=angular.module("tax-confirmation-modal",[]).directive("taxConfirmationModal",i).name},function(e,t,n){"use strict";function i(){function e(e){e.isPendingUpdate=!1,e.confirm=function(){e.isPendingUpdate=!0,Promise.resolve(e.onConfirm()).then(function(){e.isPendingUpdate=!1})},e.cancel=function(){e.isPendingUpdate=!0,Promise.resolve(e.onCancel()).then(function(){e.isPendingUpdate=!1,e.$apply()})}}return{restrict:"E",templateUrl:o.a,scope:{show:"=",isPendingPreview:"=",sorChangeText:"=",paymentMethodValidationText:"=",onConfirm:"&",onCancel:"&"},link:e}}var a=n(199),o=n.n(a);t.a=angular.module("tax-deletion-modal",[]).directive("taxDeletionModal",i).name},function(e,t,n){"use strict";function i(){return{restrict:"E",scope:"=",templateUrl:s.a}}var a=n(0),o=n.n(a),r=n(200),s=n.n(r);t.a=o.a.module("tax-settings-document-upload-group",[]).directive("documentUploadGroup",i).name},function(e,t,n){"use strict";function i(){return{restrict:"A",scope:"=",link:function(e,t){t.on("change",function(n){o(n.target.files[0],e.vrnVerification.maximumFileSize,e.vrnVerification.acceptedFileTypes).then(function(t){e.vrnVerification.documentUploadEntries.push(t),e.vrnVerification.update(),e.$apply()}).catch(function(t){e.vrnVerification.errorReset(),t==u?(e.vrnVerification.errorFileSize(),e.vrnVerification.errorFileType()):t==d?e.vrnVerification.errorFileSize():t==p&&e.vrnVerification.errorFileType()}).finally(function(){t.val(null)})})}}}function a(e){return"."+e.name.split(".").pop()}function o(e,t,n){return new l.a(function(i,o){if(null===e||void 0===e)o(null);else{var r=new FileReader;r.readAsDataURL(e),r.onloadend=function(){var r=e.size>t,s=-1===n.indexOf(a(e));r&&s?o(u):r?o(d):s?o(p):i(e)}}})}var r=n(0),s=n.n(r),c=n(88),l=n.n(c),u="FILE_SIZE_AND_TYPE_ERROR",d="FILE_SIZE_ERROR",p="FILE_TYPE_ERROR";t.a=s.a.module("tax-settings-document-upload-input",[]).directive("documentUploadInput",i).name},function(e,t,n){"use strict";function i(){return{restrict:"E",scope:{forAccount:"@",vrnVerification:"="},templateUrl:s.a}}var a=n(0),o=n.n(a),r=n(201),s=n.n(r);t.a=o.a.module("tax-settings-existing-documents",[]).directive("existingDocuments",i).name},function(e,t,n){"use strict";function i(e){return function(t,n){t=t||"";var i=new RegExp(n,"i");return n?e.trustAsHtml(t.replace(i,'<span style="color:#ffa500">'+t.match(i).join("")+"</span>")):t}}function a(){return{restrict:"E",templateUrl:s.a,controller:o}}function o(e,t,n){t.taxFilterOptions=e.map(function(e){return n("i18n")(e)}),t.addKeyWord=function(e){t.keyWord=e+" : ",t.textFocus=!0,t.focusedIndex=-1}}var r=n(202),s=n.n(r);t.a=angular.module("tax-settings-filter-dropdown",[]).constant("TAX_FILTER_OPTIONS",["_Tax_Settings_Account_ID","_Tax_Settings_Account_Name_","_General_Tax_Settings_Registration_Number_","_Tax_Settings_Business_Legal_Name_","_Tax_Settings_Seller_","_Tax_Settings_Country_Code_"]).filter("highlightSelectedText",i).directive("taxSettingsFilterDropdown",a).name,i.$inject=["$sce"],o.$inject=["TAX_FILTER_OPTIONS","$scope","$filter"]},function(e,t,n){"use strict";function i(e){function t(t){function n(){return Object.keys(t.filterCriteria).length>0&&!t.isCSVReady}function i(){angular.element(document.querySelector(".tax-table-filter-text-box")).addClass("tax-table-filter-text-box-focus")}function a(){t.textFocus?(e(function(){document.querySelector(".tax-table-filter-input").focus()},0),t.textFocus=!1):angular.element(document.querySelector(".tax-table-filter-text-box")).removeClass("tax-table-filter-text-box-focus"),t.isDropdownVisible=!1}function o(){if(t.isDropdownVisible=!t.isDropdownVisible,t.isDropdownVisible){var e={top:"29px",left:document.querySelector(".tax-table-filter-input-outer").offsetLeft+parseFloat(angular.element(document.querySelector("tax-settings-table-filter")).css("padding-left"))+parseFloat(angular.element(document.querySelector(".tax-table-filter-input-wrapper")).css("margin-left"))};angular.element(document.querySelector("tax-settings-filter-dropdown")).css(e),t.focusedIndex=0}}function r(e){if(e){var n=e.indexOf(":");-1!=n?(t.filterCriteria[e.slice(0,n).trim()]=e.slice(n+1).trim(),t.currentPage=1,t.isDropdownVisible=!1):t.isDropdownVisible=!0,t.keyWord=""}}function s(e){delete t.filterCriteria[e]}function c(e){var n=e.keyCode;40==n?(e.preventDefault(),t.focusedIndex<t.filteredOption.length-1?t.focusedIndex++:t.focusedIndex=0):13==n?t.filteredOption.length>0&&t.isDropdownVisible?(t.keyWord=t.filteredOption[t.focusedIndex]+" : ",t.focusedIndex=0,t.textFocus=!0):0==t.filteredOption.length&&(t.addFilterTag(t.keyWord),t.focusedIndex=0,t.textFocus=!0):38==n&&(e.preventDefault(),t.focusedIndex>0?t.focusedIndex--:t.focusedIndex=t.filteredOption.length-1),8==n&&0==t.keyWord.length&&(t.isDropdownVisible=!0,t.focusedIndex=0)}t.addFocusClass=i,t.removeFocusClass=a,t.flipDropDownVisibility=o,t.addFilterTag=r,t.removeFilterTag=s,t.handleKeyDown=c,t.isDropdownVisible=!1,t.textFocus=!1,t.showSpinner=n}return{restrict:"E",templateUrl:o.a,link:t,scope:{filterCriteria:"=",currentPage:"=",isCSVReady:"="}}}var a=n(203),o=n.n(a),r=n(78);t.a=angular.module("tax-settings-table-filter",[r.a]).directive("taxSettingsTableFilter",i).name,i.$inject=["$timeout"]},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),o=n.n(a),r=n(218),s=n.n(r),c=n(79),l=n(73),u=n(74),d=n(72),p=n(219),f=n.n(p),_=n(75),m=n(76),g=n(77);t.a=o.a.module("tax-settings-na",[c.a,l.a,u.a,d.a,_.a,m.a,g.a]).controller("TaxSettingsCtrlNA",["$scope","$rootScope","$q","$http","$filter","$location","$interpolate","$timeout","Address","TaxExemption",function(e,t,n,a,r,c,l,u,d,p){function _(t){return t.customerSDI?[i({},e.ANCILLARY_ID_TYPE.customerSDI,t.customerSDI.toUpperCase())]:null}function m(e){return e?"'"+e.replace(/"/g,""):e}function g(){e.filteredAccounts=Object.keys(e.linkedAccountDetails).filter(h)}function h(t){var n=!0;return Object.keys(e.filterCriteria).forEach(function(i){var a=new RegExp(e.filterCriteria[i],"i");switch(i){case r("i18n")("_Tax_Settings_Account_ID"):if(0==e.filterCriteria[i].length&&t||!a.test(t))return void(n=!1);break;case r("i18n")("_Tax_Settings_Account_Name_"):if(0==e.filterCriteria[i].length&&e.linkedAccountDetails[t].accountName||0!=e.filterCriteria[i].length&&!e.linkedAccountDetails[t].accountName||e.linkedAccountDetails[t].accountName&&!a.test(e.linkedAccountDetails[t].accountName))return void(n=!1);break;case r("i18n")("_General_Tax_Settings_Registration_Number_"):if(0==e.filterCriteria[i].length&&e.linkedAccountDetails[t].taxRegistration||0!=e.filterCriteria[i].length&&!e.linkedAccountDetails[t].taxRegistration||e.linkedAccountDetails[t].taxRegistration&&!a.test(e.linkedAccountDetails[t].taxRegistration.registrationId))return void(n=!1);break;case r("i18n")("_Tax_Settings_Business_Legal_Name_"):if(0==e.filterCriteria[i].length&&e.linkedAccountDetails[t].taxRegistration||0!=e.filterCriteria[i].length&&!e.linkedAccountDetails[t].taxRegistration||e.linkedAccountDetails[t].taxRegistration&&!a.test(e.linkedAccountDetails[t].taxRegistration.legalName))return void(n=!1);break;case r("i18n")("_Tax_Settings_Seller_"):if(0==e.filterCriteria[i].length&&e.linkedAccountDetails[t].legalEntity||0!=e.filterCriteria[i].length&&!e.linkedAccountDetails[t].legalEntity||e.linkedAccountDetails[t].legalEntity&&!a.test(e.linkedAccountDetails[t].legalEntity))return void(n=!1);break;case r("i18n")("_Tax_Settings_Country_Code_"):if(0==e.filterCriteria[i].length&&e.linkedAccountDetails[t].taxAddress||0!=e.filterCriteria[i].length&&!e.linkedAccountDetails[t].taxAddress||e.linkedAccountDetails[t].taxAddress&&!a.test(e.linkedAccountDetails[t].taxAddress.countryCode))return void(n=!1);break;default:return void(n=!1)}}),n}t.previousRequestCancelers=[],e.Math=window.Math,e.getVRNLabel=p.getVRNLabel,e.isUserAuthorizedForPage="NA"===p.taxStack||"AISPL"===p.taxStack,e.pageSize=10,e.currentPage=1,e.getDetailsBatchSize=50,e.taxStack=p.taxStack,e.linkedAccounts=[],e.linkedAccountDetails={},e.currentAccounts=[],e.currentModifiableAccounts=[],e.isEditingTaxInfo=!1,e.isEditingPanInfo=!1,e.isUpdatingHeritageStatus=!1,e.isFilteringTaxInfo=!1,e.selectedAccounts=[],e.isDecoupled=!1,e.assoc_handle="usflex",e.TOKEN_SUFFIX="Token",e.DEFAULT_ASTERISKS="*******";e.rowOptions=[{text:"10",value:"10",disabled:!1},{text:"25",value:"25",disabled:!1},{text:"50",value:"50",disabled:!1},{text:"100",value:"100",disabled:!1}],e.ANCILLARY_ID_TYPE={customerSDI:"customerSDI"},e.heritageLegalProfileAddressRoleMap={VRNAddress:r("i18n")("_Tax_Settings_Heritage_Address_Role_VRN_Address_"),BillingAddress:r("i18n")("_Tax_Settings_Heritage_Address_Role_Billing_Address_"),ContactAddress:r("i18n")("_Tax_Settings_Heritage_Address_Role_Contact_Address_")},e.heritageMessageMap={true:r("i18n")("_Tax_Settings_Heritage_Disable_Header"),false:r("i18n")("_Tax_Settings_Heritage_Enable_Header")},e.legalProfileAddressRoleMap={VRNAddress:r("i18n")("_Tax_Settings_Address_Role_VRN_Address_"),BillingAddress:r("i18n")("_Tax_Settings_Address_Role_Billing_Address_"),ContactAddress:r("i18n")("_Tax_Settings_Address_Role_Contact_Address_")},e.vrnVerification={localVATsupportedCountries:f.a.localVATsupportedCountries,supportedUploadCountries:f.a.supportedCountries,maximumNumDocuments:f.a.maximumNumDocuments,maximumFileSize:f.a.maximumFileSize,acceptedFileTypes:f.a.acceptedFileTypes,uploadedDocuments:[],documentUploadEntries:[],isDocumentsUploaded:null,documentationTooltip:function(e){return r("i18n")("_Tax_Settings_Documentation_Tooltip_")},shouldShowVrnUpload:function(e){try{if(!e&&!e.authority)return!1;var t=this.isSupportedUploadDocumentsCountry(e.authority.country),n=this.isLocalVATRegistrationCountry(e.authority.country),i=e.isLocalTaxRegistration,a="Pending"==e.currentStatus;return t&&a||n&&i}catch(e){return!1}},isLocalVATRegistrationCountry:function(e){return-1!==this.localVATsupportedCountries.indexOf(e)},isSupportedUploadDocumentsCountry:function(e){return-1!==this.supportedUploadCountries.indexOf(e)},triggerUpload:function(){o.a.element("#document-upload-input").click()},errorFileSize:function(){o.a.element("#document-maximum-file-size").show()},errorFileType:function(){o.a.element("#document-incorrect-file-type").show()},errorReset:function(){o.a.element("#document-maximum-file-size").hide(),o.a.element("#document-incorrect-file-type").hide()},triggerDownload:function(e,t){var n=this.uploadedDocuments[t],i=this._b64ToBlob;p.downloadVRNVerificationDocument(e,n).then(function(e){var t=i(e.documentData),n=URL.createObjectURL(t),a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=n,a.download=e.documentName,a.click(),window.URL.revokeObjectURL(n)}).catch(function(e){})},isDocumentsUploadRequired:function(e){try{if(!e&&!e.authority)return!1;var t=this.isLocalVATRegistrationCountry(e.authority.country),n=e.isLocalTaxRegistration;return t&&n}catch(e){return!1}},update:function(){this.isDocumentsUploaded=this.uploadedDocuments.length>0||this.documentUploadEntries.length>0||null,this.errorReset()},reset:function(){this.uploadedDocuments=[],this.documentUploadEntries=[],this.isDocumentsUploaded=null,this.errorReset()},_b64ToBlob:function(e,t){t=t||512;for(var n=window.atob(e),i=[],a=0;a<n.length;a+=t){for(var o=n.slice(a,a+t),r=new Array(o.length),s=0;s<o.length;s++)r[s]=o.charCodeAt(s);var c=new Uint8Array(r);i.push(c)}return new Blob(i)}},e.initialize=function(){e.isUpdatingPage=!0,e.isModalEnabled=!1,e.multipleAccounts=!1,e.isCSVReady=!1,e.region=p.taxStack,t.previousRequestCancelers.forEach(function(e){e.resolve()}),e.linkedAccountDetails={},e.filterCriteria={},n.all([d.getCountries(t.locale),p.getSupportedCountrySet(),p.getIndiaStates(),p.getLinkedAccounts(),p.isDecoupled(),t.isAccountEnabledForHeritage?p.getHeritageStatus():{}]).then(function(t){e.countries=t[0],e.supportedCountrySet=t[1],e.indiaStates=t[2],e.linkedAccounts=t[3],e.isDecoupled=t[4],e.isHeritageEnabled="OptIn"===t[5],e.enableHeritageToggle=!0,e.assoc_handle=e.isDecoupled?"amzn_aws_tax_us":"usflex",e.updateCurrentAccounts(),e.filteredAccounts=e.linkedAccounts,1===e.linkedAccounts.length?e.selectedAccounts=e.linkedAccounts.slice(0):e.linkedAccounts.length>1&&(e.multipleAccounts=!0),e.updateSupportedCountries()}),e.isUpdatingTaxInfo=!1,e.reset(),e.resetPreview()},e.updateSupportedCountries=function(){"AISPL"===e.taxStack&&(e.supportedCountrySet={IN:!0}),e.taxAuthorities=e.countries.filter(function(t){return t.code in e.supportedCountrySet}).map(function(e){return{value:e.code,text:e.name}}),e.indiaStatesDropdown=Object.values(e.indiaStates).map(function(e){return{value:e.code,text:e.name}})},e.updateLinkedAccountDetails=function(t,n,i){i||(e.isUpdatingPage=!0),t>=e.linkedAccounts.length&&Object.keys(e.linkedAccountDetails).length===e.linkedAccounts.length&&(e.isCSVReady=!0);var a=e.linkedAccounts.slice(t,n);a.every(function(t){return Object.keys(e.linkedAccountDetails).includes(t)})?i||(e.isUpdatingPage=!1):p.getLinkedAccountDetails(a).then(function(t){var o=t.linkedAccountDetailsMap;a.forEach(function(t){e.linkedAccountDetails[t]={accountId:t,accountName:o[t].accountName,taxAddress:o[t].legalProfileAddress,taxAddressRole:o[t].heritageObtainedDetails?e.heritageLegalProfileAddressRoleMap[o[t].legalProfileAddressRole]:e.legalProfileAddressRoleMap[o[t].legalProfileAddressRole],taxRegistration:o[t].taxRegistration,legalEntity:o[t].defaultSOR,billingAddress:o[t].billingAddress,contactAddress:o[t].contactAddress,customerPAN:o[t].customerPAN,isModifiable:!o[t].heritageObtainedDetails}}),e.isFilteringTaxInfo&&e.updateCurrentAccounts(),e.updateLinkedAccountDetails(n,n+e.getDetailsBatchSize,!0),i||(e.isUpdatingPage=!1)})},e.editTaxInfo=function(t){e.isEditingTaxInfo=!0,e.taxInfo={},e.accountsToUpdate=t,e.taxInfo.accounts=t,1===t.length&&e.linkedAccountDetails[t[0]]&&(e.taxInfo.taxRegistration=o.a.copy(e.linkedAccountDetails[t[0]].taxRegistration),!e.taxInfo.taxRegistration||e.taxInfo.taxRegistration.address&&e.taxInfo.taxRegistration.authority.country==e.taxInfo.taxRegistration.address.countryCode||(e.taxInfo.taxRegistration.address={countryCode:e.taxInfo.taxRegistration.authority.country}),e.taxInfo.taxRegistration&&e.taxInfo.taxRegistration.ancillaryIdentifierMap&&e.taxInfo.taxRegistration.ancillaryIdentifierMap.customerSDI&&(e.taxInfo.taxRegistration.customerSDI=e.taxInfo.taxRegistration.ancillaryIdentifierMap.customerSDI[0].ancillaryId)),"AISPL"===e.taxStack&&(e.taxInfo.taxRegistration&&"IN"!==e.taxInfo.taxRegistration.authority.country&&(e.taxInfo.taxRegistration={authority:{country:"IN"}},e.taxInfo.taxRegistration.address={countryCode:"IN"}),$.extend(!0,e.taxInfo,{taxRegistration:{authority:{country:"IN"}}}),$.extend(!0,e.taxInfo,{taxRegistration:{address:{countryCode:"IN"}}})),e.vrnVerification.reset(),e.taxInfo.taxRegistration&&e.taxInfo.taxRegistration.vrnVerificationDocumentObjectKeys&&(e.vrnVerification.uploadedDocuments=e.taxInfo.taxRegistration.vrnVerificationDocumentObjectKeys),e.vrnVerification.update()},e.editPAN=function(t){e.isEditingPanInfo=!0,e.panInfo={},e.accountsToUpdate=t,1===t.length&&e.linkedAccountDetails[t[0]]&&(e.panInfo.customerPAN=e.linkedAccountDetails[t[0]].customerPAN)},e.resetPreview=function(){e.sorChangeText="",e.paymentMethodValidationText="",e.previewResult={sorChange:!1,paymentMethodValid:!0,paymentCurrencyValid:!0}},e.needsConfirmation=function(){return e.previewResult.sorChange||!e.previewResult.paymentMethodValid||e.accountsToUpdate.length>1||e.suggestedAddress},e.canUpdateTaxRegistration=function(){return!e.previewResult.sorChange||e.previewResult.paymentCurrencyValid},e.updateTaxRegistrationAll=function(n,i,a){if(!(n.length<1))return e.showProgress=!1,e.isUpdatingTaxInfo=!0,p.setTaxRegistrationForLinkedAccounts(n,i,a).then(function(n){var i=n.data.succeededAccounts,a={};for(var o in n.data.failures)o in n.data.failures&&(a[o]=n.data.failures[o]);e.succeededCount=i.length,e.isUpdatingTaxInfo=!1,0===Object.keys(a).length?(t.showNotification("success",r("i18n")("_Tax_Settings_Saved_"),4e3,!0),e.initialize()):e.setInvalidBackendError(a)},function(t){e.isShowingConfirmation=!1,e.isUpdatingTaxInfo=!1})},e.setInvalidBackendError=function(n){e.failures=n,-1!==Object.values(n).indexOf("TCS_INVALID_TAX_REGISTRATION_NUMBER")?e.taxInfoForm.taxId.$error.invalidTaxNumber=!0:t.showNotification("error",r("i18n")("_SERVICE_ERROR_"),2e3,!0)},e.updatePANAll=function(n,i){if(!(n.length<1)){e.showProgress=!1,e.isUpdatingTaxInfo=!0;return e.panInfoForm.$valid?a({method:"PUT",url:"/billing/rest/v1.0/taxexemption/pan/information",data:{linkedAccounts:n,customerPAN:i,customerPANStatus:"Present"},headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(function(i){e.isUpdatingTaxInfo=!1,0===i.data.failedAccountIdList.length?(e.isShowingConfirmation=!1,e.succeededCount=n.length,t.showNotification("success",r("i18n")("_Tax_Settings_Saved_"),4e3,!0),e.initialize()):(e.failures={},i.data.failedAccountIdList.forEach(function(t){return e.failures[t]="SERVICE_ERROR"}))},function(t){e.isUpdatingTaxInfo=!1}):Promise.resolve()}},e.deleteTaxInfo=function(t){e.isDeletingTaxInfo=!0,e.taxInfo={},e.taxInfo.accountId=t,e.linkedAccountDetails[t]&&(e.taxInfo.taxRegistration=o.a.copy(e.linkedAccountDetails[t].taxRegistration));var n=e.createTaxRegistrationObject(e.taxInfo.taxRegistration);n.currentStatus="Deleted",e.previewTaxRegistrationChange(t,n).then(function(){e.canUpdateTaxRegistration()||(e.isDeletingTaxInfo=!1)})},e.reset=function(){e.isEditingTaxInfo=!1,e.isEditingPanInfo=!1,e.isDeletingTaxInfo=!1,e.isShowingConfirmation=!1,e.isPendingPreview=!1,e.isUpdatingHeritageStatus=!1,e.failures=null,e.setTaxRegistrationError=null,e.taxInfo={},e.panInfo={},e.taxInfoForm&&(e.taxInfoForm.$setPristine(),e.taxInfoForm.$setUntouched()),e.panInfoForm&&(e.panInfoForm.$setPristine(),e.panInfoForm.$setUntouched()),e.vrnVerification.reset()},e.updateTaxRegistration=function(){e.formatTaxNumber();var t=e.createTaxRegistrationObject(e.taxInfo.taxRegistration),n=e.accountsToUpdate[0],i=e.linkedAccountDetails[n].taxRegistration,a=e.vrnVerification.documentUploadEntries,o=[];null!==i&&i.address===t.address||o.push(e.validateAddress(t.address)),e.resetPreview(),null!==i&&i.address.countryCode===t.address.countryCode||"AISPL"===e.taxStack||o.push(e.previewTaxRegistrationChange(n,t)),Promise.all(o).then(function(){e.canUpdateTaxRegistration()?e.needsConfirmation()?e.isShowingConfirmation=!0:e.updateTaxRegistrationAll(e.accountsToUpdate,t,a):e.reset(),e.$apply()})},e.updatePAN=function(){e.isShowingConfirmation=!0},e.formatTaxNumber=function(){switch(e.taxInfo.taxRegistration.registrationId=e.taxInfo.taxRegistration.registrationId.replace(/[\s+]/g,""),e.taxInfo.taxRegistration.authority.country){case"IL":e.taxInfo.taxRegistration.registrationId=e.taxInfo.taxRegistration.registrationId.padStart(9,"0")}},e.deleteTaxRegistration=function(){var t=[],n=e.createTaxRegistrationObject(e.taxInfo.taxRegistration);return n.currentStatus="Deleted",e.updateTaxRegistrationAll([e.taxInfo.accountId],n,t)},e.createTaxRegistrationObject=function(t){e.vrnVerification.isLocalVATRegistrationCountry(t.authority.country)||(e.taxInfo.taxRegistration.isLocalTaxRegistration=!1);var n={country:t.authority.country,state:t.authority.state},i={authority:n,registrationId:t.registrationId,legalName:t.legalName,localTaxRegistration:t.isLocalTaxRegistration,certifiedEmail:t.certifiedEmail?t.certifiedEmail:null,ancillaryIdentifierList:_(t)};return t.address&&(i.address={addressLine1:t.address.addressLine1,addressLine2:t.address.addressLine2,city:t.address.city,state:t.address.state,postalCode:t.address.postalCode,countryCode:t.address.countryCode}),t.vrnVerificationDocumentObjectKeys?i.vrnVerificationDocumentObjectKeys=t.vrnVerificationDocumentObjectKeys:i.vrnVerificationDocumentObjectKeys=[],i},e.selectAccount=function(t){e.linkedAccountDetails[t].isModifiable&&(e.selectedAccounts=[t])},e.toggleAccount=function(t){e.selectedAccounts.includes(t)?e.selectedAccounts=e.selectedAccounts.filter(function(e){return e!==t}):e.linkedAccountDetails[t].isModifiable&&e.selectedAccounts.push(t)},e.selectAll=function(){e.currentModifiableAccounts=e.currentAccounts.filter(function(t){return e.linkedAccountDetails[t].isModifiable}),e.selectedAccounts.length===e.currentModifiableAccounts.length?e.selectedAccounts=[]:e.selectedAccounts=e.currentModifiableAccounts},e.updateCurrentAccounts=function(){if(e.isFilteringTaxInfo){g();var t=(e.currentPage-1)*e.pageSize,n=t+e.pageSize;e.currentAccounts=e.filteredAccounts.slice(t,n),e.selectedAccounts=[]}else{e.filteredAccounts=e.linkedAccounts;var t=(e.currentPage-1)*e.pageSize,n=t+e.pageSize;e.currentAccounts=e.linkedAccounts.slice(t,n),e.updateLinkedAccountDetails(t,n,!1),e.selectedAccounts=[]}},e.getInstruction=function(e){switch(e){case"AU":return r("i18n")("_AU_Tax_Settings_Instruction_");case"GB":return"Other accepted formats: GB123456789000 or GBHA123";case"BD":return"Other accepted formats: 12345678901234";default:return""}},e.getTaxRegistrationPlaceholder=function(e){return s.a[e]},e.changeCountry=function(t){var n=t.taxRegistration;n.registrationId=null,n.currentStatus=null,"IN"===n.authority.country&&n.authority.state?(n.registrationId=e.indiaStates[n.authority.state].tin,n.address.state=n.authority.state):n.authority.state=null,n.legalName=null,n.customerSDI=null,n.localTaxRegistration=!1,n.vrnVerificationDocumentObjectKeys=[];var i=e.accountsToUpdate[0];e.linkedAccountDetails[i].billingAddress&&e.linkedAccountDetails[i].billingAddress.countryCode===n.authority.country?n.addressType="billing":e.linkedAccountDetails[i].contactAddress&&e.linkedAccountDetails[i].contactAddress.countryCode===n.authority.country?n.addressType="contact":n.addressType="new","AISPL"===e.taxStack&&(n.addressType="new"),e.selectAddress(t,i),e.vrnVerification.reset()},e.changeState=function(e){var t=e.taxRegistration;t.authority.state=t.address.state},e.selectAddress=function(t,n){var i=["BH"],a=t.taxRegistration;"billing"===a.addressType?a.address=e.linkedAccountDetails[n].billingAddress:"contact"===a.addressType?a.address=e.linkedAccountDetails[n].contactAddress:(a.address={countryCode:a.authority.country},i.indexOf(a.authority.country)>-1&&(a.address.postalCode="00000"),"IN"===a.authority.country&&(a.address.state=a.authority.state))},e.previewTaxRegistrationChange=function(n,i){return e.isPendingPreview=!0,e.resetPreview(),p.previewTaxRegistrationChange(n,i).then(function(t){if(e.previewResult=t,t.sorChange){var n=l(r("i18n")("_SOR_Change_Notification_"))({previousSOR:t.previousSORName,newSOR:t.newSORName});e.sorChangeText=n+" "+r("i18n")("_Will_Send_Email_")}if(t.paymentMethodValid||(e.paymentMethodValidationText=l(r("i18n")("_Invalid_Default_Payment_Notification_"))({newSOR:t.newSORName})),!e.previewResult.paymentCurrencyValid){var i=t.validCurrencies.join(", ");e.currencyValidationText=l(r("i18n")("_SOR_Change_Notification_")+" "+r("i18n")("_Invalid_Currency_Notification_"))({previousSOR:t.previousSORName,newSOR:t.newSORName,validCurrencies:i})}e.isPendingPreview=!1},function(n){e.isPendingPreview=!1,e.reset(),t.showNotification("error",r("i18n")("_SERVICE_ERROR_"),2e3,!0)})},e.validateAddress=function(t){return e.suggestedAddress=null,e.isPendingAddressValidation=!0,p.validateAddress(t).then(function(t){e.suggestedAddress=t.suggestedAddressChange,e.isPendingAddressValidation=!1})},e.getIndiaStatesDropdown=function(t){return void 0===t.taxRegistration.authority.state?Object.values(e.indiaStates).map(function(e){return{value:e.code,text:e.code}}):t.taxRegistration.authority.state===t.taxRegistration.address.state?[{value:t.taxRegistration.authority.state,text:t.taxRegistration.authority.state}]:(t.taxRegistration.address.state=void 0,[{value:t.taxRegistration.authority.state,text:t.taxRegistration.authority.state}])},e.getActions=function(t){var n=[{text:r("i18n")("_Button_Modify_"),id:"taxRegistration"===t?"editTaxRegistration":"editPAN",disabled:!e.selectedAccounts.length}];return"taxRegistration"===t&&n.push({text:r("i18n")("_Button_Delete_"),id:"deleteTaxRegistration",disabled:1!==e.selectedAccounts.length||!e.linkedAccountDetails[e.selectedAccounts[0]]||!e.linkedAccountDetails[e.selectedAccounts[0]].taxRegistration}),e.linkedAccounts.length>1&&!e.isHeritageEnabled&&n.push({text:r("i18n")("_Tax_Settings_Button_Edit_All_").replace(/{count}/,e.linkedAccounts.length),id:"taxRegistration"===t?"editTaxRegistrationAll":"editPANAll"}),n},e.manageTaxRegistration=function(t){var n=t.originalEvent.detail.id;"editTaxRegistration"===n?e.editTaxInfo(e.selectedAccounts):"deleteTaxRegistration"===n?e.deleteTaxInfo(e.selectedAccounts[0]):"editTaxRegistrationAll"===n&&(e.editTaxInfo(e.linkedAccounts.slice()),e.vrnVerification.reset())},e.managePAN=function(t){var n=t.originalEvent.detail.id;"editPAN"===n?e.editPAN(e.selectedAccounts):"editPANAll"===n&&e.editPAN(e.linkedAccounts.slice())},e.manageHeritage=function(){e.isUpdatingPage||e.isUpdatingHeritageStatus||(e.isUpdatingHeritageStatus=!0,e.isModalEnabled=!0)},e.toggleHeritage=function(){e.isModalEnabled=!1,e.isUpdatingPage=!0;var n=e.isHeritageEnabled?"OptOut":"OptIn",i=r("i18n")(e.isHeritageEnabled?"_Tax_Settings_Heritage_Disable_Success_Message_":"_Tax_Settings_Heritage_Enable_Success_Message_").replace("${numOfAccounts}",e.linkedAccounts.length);p.setHeritageStatus(n).then(function(){e.initialize(),t.showNotification("success",i,8e3,!0)})},e.generateAndExportCSV=function(){if(e.isCSVReady){var t=["Account Id","Account Name","Business Legal Name","Tax Address Address Line1","Tax Address Address Line2","Tax Address Postal Code","Tax Address City","Tax Address State","Tax Address Country","Tax Registration Number"];"AISPL"===e.taxStack&&t.push("Customer PAN");var n=t.join()+"\n";for(var i in e.linkedAccountDetails)if(e.linkedAccountDetails.hasOwnProperty(i)){var a=e.linkedAccountDetails[i],o=[];o.push(i),o.push(a.accountName),o.push(a.taxRegistration?a.taxRegistration.legalName:null),o.push(a.taxAddress?a.taxAddress.addressLine1:null),o.push(a.taxAddress?a.taxAddress.addressLine2:null),o.push(a.taxAddress?a.taxAddress.postalCode:null),o.push(a.taxAddress?a.taxAddress.city:null),o.push(a.taxAddress?a.taxAddress.state:null),o.push(a.taxAddress?a.taxAddress.countryCode:null),o.push(a.taxRegistration?a.taxRegistration.registrationId:null),"AISPL"===e.taxStack&&o.push(a.customerPAN),o=o.map(function(e){return'"'+(e=m(e))+'"'}),n+=o.join(),n+="\n"}n="data:text/csv;charset=utf-8,"+encodeURIComponent(n);var r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","taxprofiles.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},e.$watch("currentPage",function(t,n){t!==n&&e.updateCurrentAccounts()}),e.$watch("pageSize",function(t,n){e.pageSize=parseInt(e.pageSize),t!==n&&parseInt(t)!==parseInt(n)&&(e.currentPage=1,e.initialize())}),e.$watch("taxInfo.taxRegistration.isLocalTaxRegistration",function(t,n){"string"==typeof t&&(e.taxInfo.taxRegistration.isLocalTaxRegistration="true"===t,e.vrnVerification.update())},!0),e.$watch("filterCriteria",function(t,n){t!==n&&(0==Object.keys(e.filterCriteria).length?e.isFilteringTaxInfo=!1:e.isFilteringTaxInfo=!0,e.updateCurrentAccounts())},!0),e.confirmChange=function(){var t=e.vrnVerification.documentUploadEntries;if(e.isEditingTaxInfo){var n=e.createTaxRegistrationObject(e.taxInfo.taxRegistration);return e.updateTaxRegistrationAll(e.accountsToUpdate,n,t)}if(e.isEditingPanInfo){var i=e.panInfo.customerPAN;return e.updatePANAll(e.accountsToUpdate,i)}},e.cancelChange=function(){e.isShowingConfirmation=!1,e.failures=null},e.validateEmailAndSDI=function(){e.taxInfo.taxRegistration},e.initialize()}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(204),r=n.n(o),s=n(188),c=n.n(s);t.a=a.a.module("tax-settings",[]).controller("TaxSettingsCtrl",["$scope","TaxExemption",function(e,t){e.region=t.taxStack}]).directive("natax",function(){return{restrict:"E",templateUrl:r.a,replace:!0,controller:"TaxSettingsCtrlNA"}}).directive("cntax",function(){return{restrict:"E",templateUrl:c.a,replace:!0,controller:"TaxSettingsCtrlCN"}}).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("address-exceeded",[]).controller("WarningModalCtrl",["$scope","$modalInstance",function(e,t){e.close=function(){t.dismiss("cancel")}}]).name},function(e,t,n){"use strict";var i=n(0),a=n.n(i);t.a=a.a.module("fapiao-type-helptext",[]).controller("FapiaoTypeHelptextModalCtrl",["$scope","$modalInstance","invoiceType",function(e,t,n){e.invoiceType=n,e.close=function(){t.dismiss("cancel")}}]).name},function(e,t,n){"use strict";function i(e,t,n){e.when("/tax",{controller:"TaxSettingsCtrl",templateUrl:o.a}).when("/tax/vat",{redirectTo:"/tax"}),t.defaults.transformRequest=function(e,t){var n=t();return window.xsrfToken&&angular.extend(n,{"x-awsbc-xsrf-token":window.xsrfToken}),window.region&&angular.extend(n,{"x-AWSBillingConsole-Region":window.region}),JSON.stringify(e)},n.factory("httpInterceptor",["$q","$log","$rootScope","$location","$filter","$interpolate",function(e,t,n,i,a,o){return{request:function(t){return t||e.when(t)},responseError:function(i){var o=i.status;switch(t.error("Response status: "+o),o){case 0:return e.reject(i);case 400:i.data&&i.data.errorCode&&a("i18n")("_"+i.data.errorCode+"_")?"INVALID_ADDRESS"!==i.data.errorCode&&"INVALID_TAX_REGISTRATION_NUMBER"!==i.data.errorCode&&"TCS_INVALID_TAX_REGISTRATION_NUMBER"!==i.data.errorCode&&n.showNotification("error",a("i18n")("_"+i.data.errorCode+"_"),5e3):n.showNotification("error",a("i18n")("_Error_Ocurred_"),5e3);break;case 401:if(!i.data||"AccessDeniedException"!=i.data.type)return location.reload(),null;n.viewVerbs.indexOf(i.data.errorCode)>-1?n.isUserAuthorized=!1:n.modifyVerbs.indexOf(i.data.errorCode)>-1?n.showNotification("error",a("i18n")("_"+i.data.errorCode+"_AccessDenied_"),5e3):(i.data.errorCode&&a("i18n")("_"+i.data.errorCode+"_")?n.showNotification("error",a("i18n")("_"+i.data.errorCode+"_"),5e3):n.showNotification("error",a("i18n")("_General_AccessDenied_"),5e3),n.isUserAuthorized=!1);break;case 429:n.showNotification("error",a("i18n")("_Throttling_Exception_"),5e3);break;case 500:n.showNotification("error",a("i18n")("_Error_Ocurred_"),5e3)}return e.reject(i)}}}]),t.interceptors.push("httpInterceptor")}var a=n(205),o=n.n(a);t.a=i,i.$inject=["$routeProvider","$httpProvider","$provide"]},function(e,t,n){"use strict";function i(e,t,i,o){o.setLanguageData(t.locale,a.a,n.i(a.b)(t.locale)).then(function(){e.loaded=!0,e.$apply()})}var a=n(62);t.a=i,i.$inject=["$scope","$rootScope","$route","localize"]},function(e,t,n){"use strict";function i(){return{restrict:"E",templateUrl:o.a,replace:!0,controller:"TaxCtrl"}}var a=n(208),o=n.n(a);t.a=i},function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(209),r=n.n(o),s=n(210),c=n.n(s);t.a=a.a.module("tax.ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:r.a,link:function(n,i,a){t(function(){n.animate=!0}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:c.a,link:function(t,n,i){t.windowClass=i.windowClass||"",e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i){function o(){for(var e=-1,t=d.keys(),n=0;n<t.length;n++)d.get(t[n]).value.backdrop&&(e=n);return e}function r(e){var t=d.get(e).value;d.remove(e),t.modalDomEl.remove(),c&&-1==o()&&(c.remove(),c=void 0),t.modalScope.$destroy()}var s,c,l=n.$new(!0),u=e.find("body").eq(0),d=i.createNew(),p={};return n.$watch(o,function(e){l.index=e}),e.bind("keydown",function(e){var t;27===e.which&&(t=d.top())&&t.value.keyboard&&n.$apply(function(){p.dismiss(t.key)})}),p.open=function(e,n){d.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var i=a.a.element("<div modal-window></div>");i.attr("window-class",n.windowClass),i.attr("index",d.length()-1),i.html(n.content);var r=t(i)(n.scope);d.top().value.modalDomEl=r,u.append(r),o()>=0&&!c&&(s=a.a.element("<div modal-backdrop></div>"),c=t(s)(l),u.append(c))},p.close=function(e,t){var n=d.get(e);n&&(n.value.deferred.resolve(t),r(e))},p.dismiss=function(e,t){var n=d.get(e).value;n&&(n.deferred.reject(t),r(e))},p.getTop=function(){return d.top()},p}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,o,r,s,c){function l(e){return e.template?i.when(e.template):o.get(e.templateUrl,{cache:r}).then(function(e){return e.data})}function u(e){var n=[];return a.a.forEach(e,function(e,o){(a.a.isFunction(e)||a.a.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var d={};return d.open=function(t){var o=i.defer(),r=i.defer(),d={result:o.promise,opened:r.promise,close:function(e){c.close(d,e)},dismiss:function(e){c.dismiss(d,e)}};if(t=a.a.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=i.all([l(t)].concat(u(t.resolve)));return p.then(function(e){var i=(t.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var r={},l=1;t.controller&&(r.$scope=i,r.$modalInstance=d,a.a.forEach(t.resolve,function(t,n){r[n]=e[l++]}),s(t.controller,r)),c.open(d,{scope:i,deferred:o,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){o.reject(e)}),p.then(function(){r.resolve(!0)},function(){r.reject(!1)}),d},d}]};return e}).name},function(e,t,n){(function(t,n,i){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
!function(t){e.exports=t()}(function(){var e,a,o;return function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return a(n||e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof _dereq_&&_dereq_,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n,i){"use strict";function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=d}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function r(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}function c(e){for(;e.length()>0;)l(e)}function l(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var n=e.shift(),i=e.shift();t.call(n,i)}}var u;try{throw new Error}catch(e){u=e}var d=e("./schedule"),p=e("./queue");a.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},a.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.prototype.invokeLater=o,a.prototype.invoke=r,a.prototype.settlePromises=s,a.prototype._drainQueues=function(){c(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,c(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},n.exports=a,n.exports.firstLineError=u},{"./queue":26,"./schedule":29}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var a=!1,o=function(e,t){this._reject(t)},r=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){a||(a=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var l=n(o),u=new e(t);u._propagateFrom(this,1);var d=this._target();if(u._setBoundTo(l),l instanceof e){var p={promiseRejectionQueued:!1,promise:u,target:d,bindingPromise:l};d._then(t,r,void 0,u,p),l._then(s,c,void 0,u,p),u._setOnCancel(l)}else u._resolveCallback(d);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function i(){try{Promise===o&&(Promise=a)}catch(e){}return o}var a;"undefined"!=typeof Promise&&(a=Promise);var o=e("./promise")();o.noConflict=i,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var a=i(null),o=i(null);a[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var a="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(a)}return i}function i(e){return n(e,this.pop()).apply(e,this)}function a(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var r,s=e("./util"),c=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(i,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(c){var i=r(e);t=null!==i?i:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var o=e("./util"),r=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=r(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),c.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(c){var l=s._boundValue();e:for(var u=0;u<e.length;++u){var d=e[u];if(d===Error||null!=d&&d.prototype instanceof Error){if(c instanceof d)return o(n).call(l,c)}else if("function"==typeof d){var p=o(d).call(l,c);if(p===r)return p;if(p)return o(n).call(l,c)}else if(i.isObject(c)){for(var f=a(d),_=0;_<f.length;++_){var m=f[_];if(d[m]!=c[m])continue e}return o(n).call(l,c)}}return t}}var i=e("./util"),a=e("./es5").keys,o=i.tryCatch,r=i.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(i())}function n(){if(a)return new t}function i(){var e=o.length-1;if(e>=0)return o[e]}var a=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,r=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=r,e.prototype._peekContext=s,e.prototype._promiseCreated=c,a=!1},a=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,n,i){"use strict";n.exports=function(n,i,a,o){function r(e,t){return{promise:t}}function s(){return!1}function c(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+B.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function l(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?B.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function d(e){this._onCancelField=e}function p(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function _(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function m(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function g(){this._trace=new O(this._peekContext())}function h(e,t){if(q(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=I(e);B.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),B.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(){this._trace=void 0}function x(e,t,n,i,a){if(void 0===e&&null!==t&&ee){if(void 0!==a&&a._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="",r="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=S(s),l=c.length-1;l>=0;--l){var u=c[l];if(!G.test(u)){var d=u.match(W);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(c.length>0)for(var p=c[0],l=0;l<s.length;++l)if(s[l]===p){l>0&&(r="\n"+s[l-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+r;i._warn(f,!0,t)}}function y(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),b(n)}function b(e,t,i){if(de.warnings){var a,o=new U(e);if(t)i._attachExtraTrace(o);else if(de.longStackTraces&&(a=n._peekContext()))a.attachExtraTrace(o);else{var r=I(o);o.stack=r.message+"\n"+r.stack.join("\n")}re("warning",o)||k(o,"",!0)}}function T(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function w(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function A(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],a=t.length-1,o=t[a],r=-1,s=i.length-1;s>=0;--s)if(i[s]===o){r=s;break}for(var s=r;s>=0;--s){var c=i[s];if(t[a]!==c)break;t.pop(),a--}t=i}}function S(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],a="    (No stack trace)"===i||X.test(i),o=a&&ce(i);a&&!o&&(Y&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function C(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||X.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function I(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?C(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:S(t)}}function k(e,t,n){if("undefined"!=typeof console){var i;if(B.isObject(e)){var a=e.stack;i=t+K(a,e)}else i=t+String(e);"function"==typeof L?L(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function E(e,t,n,i){var a=!1;try{"function"==typeof t&&(a=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){M.throwLater(e)}"unhandledRejection"===e?re(e,n,i)||a||k(n,"Unhandled rejection "):re(e,i)}function P(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():B.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+N(t)+">, no stack trace)"}function N(e){return e.length<41?e:e.substr(0,38)+"..."}function R(){return"function"==typeof ue}function F(e){var t=e.match(le);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function D(e,t){if(R()){for(var n,i,a=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),r=-1,s=-1,c=0;c<a.length;++c){var l=F(a[c]);if(l){n=l.fileName,r=l.line;break}}for(var c=0;c<o.length;++c){var l=F(o[c]);if(l){i=l.fileName,s=l.line;break}}r<0||s<0||!n||!i||n!==i||r>=s||(ce=function(e){if(z.test(e))return!0;var t=F(e);return!!(t&&t.fileName===n&&r<=t.line&&t.line<=s)})}}function O(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ue(this,O),t>32&&this.uncycle()}var $,j,L,V,M=n._async,U=e("./errors").Warning,B=e("./util"),H=e("./es5"),q=B.canAttachTrace,z=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,G=/\((?:timers\.js):\d+:\d+\)/,W=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,X=null,K=null,Y=!1,Z=!(0==B.env("BLUEBIRD_DEBUG")),Q=!(0==B.env("BLUEBIRD_WARNINGS")||!Z&&!B.env("BLUEBIRD_WARNINGS")),J=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!Z&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),ee=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Q||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function e(){for(var e=0;e<i.length;++e)i[e]._notifyUnhandledRejection();t()}function t(){i.length=0}var i=[];V=function(t){i.push(t),setTimeout(e,1)},H.defineProperty(n,"_unhandledRejectionCheck",{value:e}),H.defineProperty(n,"_unhandledRejectionClear",{value:t})}(),n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),V(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){E("rejectionHandled",$,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),E("unhandledRejection",j,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return b(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=n._getContext();j=B.contextBind(t,e)},n.onUnhandledRejectionHandled=function(e){var t=n._getContext();$=B.contextBind(t,e)};var te=function(){};n.longStackTraces=function(){if(M.haveItemsQueued()&&!de.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!de.longStackTraces&&R()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,a=n.prototype._dereferenceTrace;de.longStackTraces=!0,te=function(){if(M.haveItemsQueued()&&!de.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=a,i.deactivateLongStackTraces(),de.longStackTraces=!1},n.prototype._captureStackTrace=g,n.prototype._attachExtraTrace=h,n.prototype._dereferenceTrace=v,i.activateLongStackTraces()}},n.hasLongStackTraces=function(){return de.longStackTraces&&R()};var ne={unhandledrejection:{before:function(){var e=B.global.onunhandledrejection;return B.global.onunhandledrejection=null,e},after:function(e){B.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=B.global.onrejectionhandled;return B.global.onrejectionhandled=null,e},after:function(e){B.global.onrejectionhandled=e}}},ie=function(){var e=function(e,t){if(!e)return!B.global.dispatchEvent(t);var n;try{return n=e.before(),!B.global.dispatchEvent(t)}finally{e.after(n)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return B.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i={detail:n,cancelable:!0},a=new CustomEvent(t,i);return H.defineProperty(a,"promise",{value:n.promise}),H.defineProperty(a,"reason",{value:n.reason}),e(ne[t],a)}}if("function"==typeof Event){var t=new Event("CustomEvent");return B.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=new Event(t,{cancelable:!0});return i.detail=n,H.defineProperty(i,"promise",{value:n.promise}),H.defineProperty(i,"reason",{value:n.reason}),e(ne[t],i)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!0,n),e(ne[t],i)}}catch(e){}return function(){return!1}}(),ae=function(){return B.isNode?function(){return t.emit.apply(t,arguments)}:B.global?function(e){var t="on"+e.toLowerCase(),n=B.global[t];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),oe={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:r},re=function(e){var t=!1;try{t=ae.apply(null,arguments)}catch(e){M.throwLater(e),t=!0}var n=!1;try{n=ie(e,oe[e].apply(null,arguments))}catch(e){M.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&te()),"warnings"in e){var t=e.warnings;de.warnings=!!t,ee=de.warnings,B.isObject(t)&&"wForgottenReturn"in t&&(ee=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!de.cancellation){if(M.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=p,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=d,n.prototype._attachCancellationCallback=l,n.prototype._execute=c,se=f,de.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!de.monitoring?(de.monitoring=!0,n.prototype._fireEvent=re):!e.monitoring&&de.monitoring&&(de.monitoring=!1,n.prototype._fireEvent=s)),"asyncHooks"in e&&B.nodeSupportsAsyncResource){var i=de.asyncHooks,r=!!e.asyncHooks;i!==r&&(de.asyncHooks=r,r?a():o())}return n},n.prototype._fireEvent=s,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var se=_,ce=function(){return!1},le=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(O,Error),i.CapturedTrace=O,O.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,a=this;void 0!==a;++i)t.push(a),a=a._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<e;++i){var r=t[i].stack,s=n[r];if(void 0!==s&&s!==i){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var c=i>0?t[i-1]:this;s<e-1?(c._parent=t[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var l=c._length+1,u=i-2;u>=0;--u)t[u]._length=l,l++;return}}}},O.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=I(e),n=t.message,i=[t.stack],a=this;void 0!==a;)i.push(S(a.stack.split("\n"))),a=a._parent;A(i),w(i),B.notEnumerableProp(e,"stack",T(n,i)),B.notEnumerableProp(e,"__stackCleaned__",!0)}};var ue=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():P(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,X=e,K=t;var n=Error.captureStackTrace;return ce=function(e){return z.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return X=/@/,K=t,Y=!0,function(e){e.stack=(new Error).stack};var a;try{throw new Error}catch(e){a="stack"in e}return"stack"in i||!a||"number"!=typeof Error.stackTraceLimit?(K=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?P(t):t.toString()},null):(X=e,K=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(L=function(e){console.warn(e)},B.isNode&&t.stderr.isTTY?L=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(L=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var de={warnings:Q,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return J&&n.longStackTraces(),{asyncHooks:function(){return de.asyncHooks},longStackTraces:function(){return de.longStackTraces},warnings:function(){return de.warnings},cancellation:function(){return de.cancellation},monitoring:function(){return de.monitoring},propagateFromFunction:function(){return se},boundValueFunction:function(){return m},checkForgottenReturns:x,setBounds:D,warn:b,deprecated:y,CapturedTrace:O,fireDomEvent:ie,fireGlobalEvent:ae}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],i=function(){throw t};return this.caught(e,i)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var a=function(){return i};return this.caught(n,a)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function i(e,n){return a(e,n,t,t)}var a=e.reduce,o=e.all;e.prototype.each=function(e){return a(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return a(this,e,t,t)},e.each=function(e,i){return a(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=i}},{}],12:[function(e,t,n){"use strict";function i(e,t){function n(i){if(!(this instanceof n))return new n(i);d(this,"message","string"==typeof i?i:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}function a(e){if(!(this instanceof a))return new a(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,r,s=e("./es5"),c=s.freeze,l=e("./util"),u=l.inherits,d=l.notEnumerableProp,p=i("Warning","warning"),f=i("CancellationError","cancellation error"),_=i("TimeoutError","timeout error"),m=i("AggregateError","aggregate error");try{o=TypeError,r=RangeError}catch(e){o=i("TypeError","type error"),r=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),h=0;h<g.length;++h)"function"==typeof Array.prototype[g[h]]&&(m.prototype[g[h]]=Array.prototype[g[h]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var v=0;m.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",a=i.split("\n"),o=0;o<a.length;++o)a[o]=e+a[o];i=a.join("\n"),t+=i+"\n"}return v--,t},u(a,Error);var x=Error.__BluebirdErrorTypes__;x||(x=c({CancellationError:f,TimeoutError:_,OperationalError:a,RejectionError:a,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:x,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:r,CancellationError:x.CancellationError,OperationalError:x.OperationalError,TimeoutError:x.TimeoutError,AggregateError:x.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var a={}.hasOwnProperty,o={}.toString,r={}.constructor.prototype,s=function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t},c=function(e,t){return{value:e[t]}},l=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(e){return r}},p=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:p,keys:s,names:s,defineProperty:l,getDescriptor:c,freeze:u,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,a){return n(e,i,a,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function r(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return l.call(this,this.promise._target()._settledValue())}function c(e){if(!r(this,e))return p.e=e,p}function l(e){var a=this.promise,l=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?l.call(a._boundValue()):l.call(a._boundValue(),e);if(u===i)return u;if(void 0!==u){a._setReturnedNonUndefined();var f=n(u,a);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var _=new d("late cancellation observer");return a._attachExtraTrace(_),p.e=_,p}f.isPending()&&f._attachCancellationCallback(new o(this))}return f._then(s,c,void 0,this,void 0)}}}return a.isRejected()?(r(this),p.e=e,p):(r(this),e)}var u=e("./util"),d=t.CancellationError,p=u.errorObj,f=e("./catch_filter")(i);return a.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){r(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new a(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,l,l)},t.prototype.tap=function(e){return this._passThrough(e,1,l)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,l);var i,a=new Array(n-1),o=0;for(i=0;i<n-1;++i){var r=arguments[i];if(!u.isObject(r))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(r)));a[o++]=r}a.length=o;var s=arguments[i];return this._passThrough(f(a,s,this),1,void 0,l)},a}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var r=f(n[o])(e);if(i._popContext(),r===p){i._pushContext();var s=t.reject(p.e);return i._popContext(),s}var c=a(r,i);if(c instanceof t)return c}return null}function c(e,n,a,o){if(r.cancellation()){var s=new t(i),c=this._finallyPromise=new t(i);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(i))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof a?[a].concat(_):_,this._yieldedPromise=null,this._cancellationPhase=!1}var l=e("./errors"),u=l.TypeError,d=e("./util"),p=d.errorObj,f=d.tryCatch,_=[];d.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,r.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n=void 0!==this._generator.return;if(n)this._promise._pushContext(),e=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),e=f(this._generator.throw).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=f(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var i=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=a(i,this._promise);if(!(o instanceof t)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var r=o._bitField;0==(50397184&r)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&r)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&r)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=c,a=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,a),r=o.promise();return o._generator=t,o._promiseFulfilled(void 0),r}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+d.classString(e));_.push(e)},t.spawn=function(e){if(r.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new c(e,this),a=i.promise();return i._run(t.spawn),a}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o){var r=e("./util");r.canEvaluate,r.tryCatch,r.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}var a=[].slice.call(arguments);e&&a.pop();var i=new n(a).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e,n,i,a){this.constructor$(e),this._promise._captureStackTrace();var r=t._getContext();if(this._callback=l.contextBind(r,n),this._preservedValues=a===o?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0),l.isArray(e))for(var s=0;s<e.length;++s){var c=e[s];c instanceof t&&c.suppressUnhandledRejections()}}function c(e,n,a,o){if("function"!=typeof n)return i("expecting a function but got "+l.classString(n));var r=0;if(void 0!==a){if("object"!=typeof a||null===a)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(a)));if("number"!=typeof a.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(a.concurrency)));r=a.concurrency}return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new s(e,n,r,o).promise()}var l=e("./util"),u=l.tryCatch,d=l.errorObj,p=t._async;l.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(n=-1*n-1,i[n]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var l=this._promise,p=this._callback,f=l._boundValue();l._pushContext();var _=u(p).call(f,e,n,o),m=l._popContext();if(r.checkForgottenReturns(_,m,null!==s?"Promise.filter":"Promise.map",l),_===d)return this._reject(_.e),!0;var g=a(_,this._promise);if(g instanceof t){g=g._target();var h=g._bitField;if(0==(50397184&h))return c>=1&&this._inFlight++,i[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&h))return 0!=(16777216&h)?(this._reject(g._reason()),!0):(this._cancel(),!0);_=g._value()}i[n]=_}return++this._totalResolved>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),a=0,o=0;o<n;++o)e[o]&&(i[a++]=t[o]);i.length=a,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,n,i){return c(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o){var r=e("./util"),s=r.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+r.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var a=s(e).apply(this,arguments),r=i._popContext();return o.checkForgottenReturns(a,r,"Promise.method",i),i._resolveFromSyncValue(a),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return a("expecting a function but got "+r.classString(e));var i=new t(n);i._captureStackTrace(),i._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=r.isArray(l)?s(e).apply(u,l):s(e).call(u,l)}else c=s(e)();var d=i._popContext();return o.checkForgottenReturns(c,d,"Promise.try",i),i._resolveFromSyncValue(c),i},t.prototype._resolveFromSyncValue=function(e){e===r.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function i(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}function a(e){var t;if(i(e)){t=new l(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=u.keys(e),a=0;a<n.length;++a){var o=n[a];d.test(o)||(t[o]=e[o])}return t}return r.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,i){if(null!==e){if(n){var o=a(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var r=[].slice.call(arguments,1);e._fulfill(r)}else e._fulfill(i);e=null}}}var r=e("./util"),s=r.maybeWrapAsError,c=e("./errors"),l=c.OperationalError,u=e("./es5"),d=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var a=s(t).apply(n._boundValue(),[null].concat(e));a===c&&r.throwLater(a.e)}function i(e,t){var n=this,i=n._boundValue(),a=void 0===e?s(t).call(i,null):s(t).call(i,null,e);a===c&&r.throwLater(a.e)}function a(e,t){var n=this;if(!e){var i=new Error(e+"");i.cause=e,e=i}var a=s(t).call(n._boundValue(),e);a===c&&r.throwLater(a.e)}var o=e("./util"),r=t._async,s=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,a,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,i){"use strict";n.exports=function(){function i(){}function a(e,t){if(null==e||e.constructor!==o)throw new C("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new C("expecting a function but got "+f.classString(t))}function o(e){e!==k&&a(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function r(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function c(e){var t=new o(k);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l=function(){return new C("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new o.PromiseInspection(this._target())},d=function(e){return o.reject(new C(e))},p={},f=e("./util");f.setReflectHandler(u);var _=function(){var e=t.domain;return void 0===e?null:e},m=function(){return null},g=function(){return{domain:_(),async:null}},h=f.isNode&&f.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,v=function(){return{domain:_(),async:new h("Bluebird::Promise")}},x=f.isNode?g:m;f.notEnumerableProp(o,"_getContext",x);var y=function(){x=v,f.notEnumerableProp(o,"_getContext",v)},b=function(){x=g,f.notEnumerableProp(o,"_getContext",g)},T=e("./es5"),w=e("./async"),A=new w;T.defineProperty(o,"_async",{value:A});var S=e("./errors"),C=o.TypeError=S.TypeError;o.RangeError=S.RangeError;var I=o.CancellationError=S.CancellationError;o.TimeoutError=S.TimeoutError,o.OperationalError=S.OperationalError,o.RejectionError=S.OperationalError,o.AggregateError=S.AggregateError;var k=function(){},E={},P={},N=e("./thenables")(o,k),R=e("./promise_array")(o,k,N,d,i),F=e("./context")(o),D=F.create,O=e("./debuggability")(o,F,y,b),$=(O.CapturedTrace,e("./finally")(o,N,P)),j=e("./catch_filter")(P),L=e("./nodeback"),V=f.errorObj,M=f.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),a=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!f.isObject(o))return d("Catch statement predicate: expecting an object but got "+f.classString(o));i[a++]=o}if(i.length=a,"function"!=typeof(e=arguments[n]))throw new C("The last argument to .catch() must be a function, got "+f.toString(e));return this.then(void 0,j(i,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},o.prototype.then=function(e,t){if(O.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+f.classString(e);arguments.length>1&&(n+=", "+f.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+f.classString(e)):this.all()._then(e,void 0,void 0,E,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new R(this).promise()},o.prototype.error=function(e){return this.caught(f.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(k);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=M(e)(L(t,n));return i===V&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new R(e).promise()},o.cast=function(e){var t=N(e);return t instanceof o||(t=new o(k),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(k);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new C("expecting a function but got "+f.classString(e));return A.setScheduler(e)},o.prototype._then=function(e,t,n,i,a){var r=void 0!==a,s=r?a:new o(k),c=this._target(),l=c._bitField;r||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=x();if(0!=(50397184&l)){var d,p,_=c._settlePromiseCtx;0!=(33554432&l)?(p=c._rejectionHandler0,d=e):0!=(16777216&l)?(p=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(_=c._settlePromiseLateCancellationObserver,p=new I("late cancellation observer"),c._attachExtraTrace(p),d=t),A.invoke(_,c,{handler:f.contextBind(u,d),promise:s,receiver:i,value:p})}else c._addCallbacks(e,t,s,i,u);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){if(!A.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}},o.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==p)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,i=e._promise0,a=e._receiverAt(0);void 0===a&&(a=p),this._addCallbacks(t,n,i,a,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),a=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=p),this._addCallbacks(n,i,a,o,null)},o.prototype._addCallbacks=function(e,t,n,i,a){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=f.contextBind(a,e)),"function"==typeof t&&(this._rejectionHandler0=f.contextBind(a,t));else{var r=4*o-4;this[r+2]=n,this[r+3]=i,"function"==typeof e&&(this[r+0]=f.contextBind(a,e)),"function"==typeof t&&(this[r+1]=f.contextBind(a,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=N(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(l());var a=i._bitField;if(0==(50397184&a)){var r=this._length();r>0&&i._migrateCallback0(this);for(var s=1;s<r;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&a))this._fulfill(i._value());else if(0!=(16777216&a))this._reject(i._reason());else{var c=new I("late cancellation observer");i._attachExtraTrace(c),this._reject(c)}}},o.prototype._rejectCallback=function(e,t,n){var i=f.ensureErrorObject(e),a=i===e;if(!a&&!n&&O.warnings()){var o="a promise was rejected with a non-error: "+f.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&a),this._reject(e)},o.prototype._resolveFromExecutor=function(e){if(e!==k){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)}},o.prototype._settlePromiseFromHandler=function(e,t,n,i){var a=i._bitField;if(0==(65536&a)){i._pushContext();var o;t===E?n&&"number"==typeof n.length?o=M(e).apply(this._boundValue(),n):(o=V,o.e=new C("cannot .spread() a non-array: "+f.classString(n))):o=M(e).call(t,n);var r=i._popContext();a=i._bitField,0==(65536&a)&&(o===P?i._reject(n):o===V?i._rejectCallback(o.e,!1):(O.checkForgottenReturns(o,r,"",i,this),i._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,a){var r=e instanceof o,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(r&&e._invokeInternalOnCancel(),n instanceof $&&n.isFinallyHandler()?(n.cancelPromise=e,M(t).call(n,a)===V&&e._reject(V.e)):t===u?e._fulfill(u.call(n)):n instanceof i?n._promiseCancelled(e):r||e instanceof R?e._cancel():n.cancel()):"function"==typeof t?r?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,a,e)):t.call(n,a,e):n instanceof i?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(a,e):n._promiseRejected(a,e)):r&&(c&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(a):e._reject(a))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,a=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,i,a,n):t.call(i,a,n):n instanceof o&&n._reject(a)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var i=this._promise0,a=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,a,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():A.settlePromises(this),this._dereferenceTrace())}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return A.fatalError(e,f.isNode);(65535&t)>0?A.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),a=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(a,i,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),a=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(a,i,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&T.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),o.defer=o.pending=function(){return O.deprecated("Promise.defer","new Promise"),{promise:new o(k),resolve:r,reject:s}},f.notEnumerableProp(o,"_makeSelfResolutionError",l),e("./method")(o,k,N,d,O),e("./bind")(o,k,N,O),e("./cancel")(o,R,d,O),e("./direct_resolve")(o),e("./synchronous_inspection")(o),e("./join")(o,R,N,k,A),o.Promise=o,o.version="3.7.2",e("./call_get.js")(o),e("./generators.js")(o,d,k,N,i,O),e("./map.js")(o,R,d,N,k,O),e("./nodeify.js")(o),e("./promisify.js")(o,k),e("./props.js")(o,R,N,d),e("./race.js")(o,k,N,d),e("./reduce.js")(o,R,d,N,k,O),e("./settle.js")(o,R,O),e("./some.js")(o,R,d),e("./timers.js")(o,k,O),e("./using.js")(o,d,N,D,k,O),e("./any.js")(o),e("./each.js")(o,k),e("./filter.js")(o,k),f.toFastProperties(o),f.toFastProperties(o.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new o(k)),O.setBounds(w.firstLineError,f.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o){function r(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var i=this._promise=new t(n);e instanceof t&&(i._propagateFrom(e,3),e.suppressUnhandledRejections()),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=e("./util");c.isArray;return c.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=i(this._values,this._promise);if(s instanceof t){s=s._target();var l=s._bitField;if(this._values=s,0==(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=c.asArray(s))){var u=a("expecting an array or an iterable object but got "+c.classString(s)).reason();return void this._promise._rejectCallback(u,!1)}if(0===s.length)return void(-5===o?this._resolveEmptyArray():this._resolve(r(o)));this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var a=this._promise,o=!1,r=null,s=0;s<n;++s){var c=i(e[s],a);c instanceof t?(c=c._target(),r=c._bitField):r=null,o?null!==r&&c.suppressUnhandledRejections():null!==r?0==(50397184&r)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&r)?this._promiseFulfilled(c._value(),s):0!=(16777216&r)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||a._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){return!b.test(e)}function a(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,n){var i=f.getDataPropertyOrDefault(e,t+n,x);return!!i&&a(i)}function r(e,t,n){for(var i=0;i<e.length;i+=2){var a=e[i];if(n.test(a))for(var o=a.replace(n,""),r=0;r<e.length;r+=2)if(e[r]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,i){for(var s=f.inheritedDataKeys(e),c=[],l=0;l<s.length;++l){var u=s[l],d=e[u],p=i===T||T(u,d,e);"function"!=typeof d||a(d)||o(e,u,t)||!i(u,d,e,p)||c.push(u,d)}return r(c,t,n),c}function c(e,i,a,o,r,s){function c(){var a=i;i===p&&(a=this);var o=new t(n);o._captureStackTrace();var r="string"==typeof u&&this!==l?this[u]:e,c=_(o,s);try{r.apply(a,m(arguments,c))}catch(e){o._rejectCallback(g(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),u=e;return"string"==typeof u&&(e=o),f.notEnumerableProp(c,"__isPromisified__",!0),c}function l(e,t,n,i,a){for(var o=new RegExp(w(t)+"$"),r=s(e,t,o,n),c=0,l=r.length;c<l;c+=2){var u=r[c],d=r[c+1],_=u+t;if(i===A)e[_]=A(u,p,u,d,t,a);else{var m=i(d,function(){return A(u,p,u,d,t,a)});f.notEnumerableProp(m,"__isPromisified__",!0),e[_]=m}}return f.toFastProperties(e),e}function u(e,t,n){return A(e,t,void 0,e,null,n)}var d,p={},f=e("./util"),_=e("./nodeback"),m=f.withAppended,g=f.maybeWrapAsError,h=f.canEvaluate,v=e("./errors").TypeError,x={__isPromisified__:!0},y=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],b=new RegExp("^(?:"+y.join("|")+")$"),T=function(e){return f.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},w=function(e){return e.replace(/([$])/,"\\$")},A=h?d:c;t.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+f.classString(e));if(a(e))return e;t=Object(t);var n=void 0===t.context?p:t.context,o=!!t.multiArgs,r=u(e,n,o);return f.copyDescriptors(e,r,i),r},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var a=t.filter;"function"!=typeof a&&(a=T);var o=t.promisifier;if("function"!=typeof o&&(o=A),!f.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var r=f.inheritedDataKeys(e),s=0;s<r.length;++s){var c=e[r[s]];"constructor"!==r[s]&&f.isClass(c)&&(l(c.prototype,i,a,o,n),l(c,i,a,o,n))}return l(e,i,a,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=d(e),n=!0;else{var i=u.keys(e),a=i.length;t=new Array(2*a);for(var o=0;o<a;++o){var r=i[o];t[o]=e[r],t[o+a]=r}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function r(e){var n,r=i(e);return l(r)?(n=r instanceof t?r._then(t.props,void 0,void 0,void 0,void 0):new o(r).promise(),r instanceof t&&n._propagateFrom(r,2),n):a("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),l=c.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);var d=function(){function e(e,i){this[t]=e,this[t+n]=i,t++}var t=0,n=0;return function(i){n=i.size,t=0;var a=new Array(2*i.size);return i.forEach(e,a),a}}(),p=function(e){for(var t=new s,n=e.length/2|0,i=0;i<n;++i){var a=e[n+i],o=e[i];t.set(a,o)}return t};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=p(this._values);else{n={};for(var i=this.length(),a=0,o=this.length();a<o;++a)n[this._values[a+i]]=this._values[a]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return r(this)},t.props=function(e){return r(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,a){for(var o=0;o<a;++o)n[o+i]=e[o+t],e[o+t]=void 0}function a(e){this._capacity=e,this._length=0,this._front=0}a.prototype._willBeOverCapacity=function(e){return this._capacity<e},a.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},a.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var a=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[a+0&o]=e,this[a+1&o]=t,this[a+2&o]=n,this._length=i},a.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},a.prototype.length=function(){return this._length},a.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},a.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,i(this,0,this,t,this._front+this._length&t-1)},t.exports=a},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){function o(e,o){var c=i(e);if(c instanceof t)return s(c);if(null===(e=r.asArray(e)))return a("expecting an array or an iterable object but got "+r.classString(e));var l=new t(n);void 0!==o&&l._propagateFrom(o,3);for(var u=l._fulfill,d=l._reject,p=0,f=e.length;p<f;++p){var _=e[p];(void 0!==_||p in e)&&t.cast(_)._then(u,d,void 0,l,null)}return l}var r=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e,n,i,a){this.constructor$(e);var r=t._getContext();this._fn=p.contextBind(r,n),void 0!==i&&(i=t.resolve(i),i._attachCancellationCallback(this)),this._initialValue=i,this._currentCancellable=null,this._eachValues=a===o?Array(this._length):0===a?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function l(e,t,n,a){return"function"!=typeof t?i("expecting a function but got "+p.classString(t)):new s(e,t,n,a).promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=a(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n=this.array,i=n._promise,a=f(n._fn);i._pushContext();var o;(o=void 0!==n._eachValues?a.call(i._boundValue(),e,this.index,this.length):a.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=i._popContext();return r.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),o}var p=e("./util"),f=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,i,a=e.length;void 0!==this._initialValue?(n=this._initialValue,i=0):(n=t.resolve(e[0]),i=1),this._currentCancellable=n;for(var o=i;o<a;++o){var r=e[o];r instanceof t&&r.suppressUnhandledRejections()}if(!n.isRejected())for(;i<a;++i){var s={accum:null,value:e[i],index:i,length:a,array:this};n=n._then(u,void 0,void 0,s,void 0),0==(127&i)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,n,i){return l(e,t,n,i)}}},{"./util":36}],29:[function(e,a,o){"use strict";var r,s=e("./util"),c=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},l=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=n.setImmediate,d=t.nextTick;r=s.isRecentNode?function(e){u.call(n,e)}:function(e){d.call(t,e)}}else if("function"==typeof l&&"function"==typeof l.resolve){var p=l.resolve();r=function(e){p.then(e)}}else r="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(i,t);var a=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(e,t),a()}}():void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:c;a.exports=r},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(a,n),a.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},a.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new a(e).promise()},t.allSettled=function(e){return new a(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new a(e),o=n.promise();return n.setHowMany(t),n.init(),o}var r=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,l=r.isArray,u={};r.inherits(a,n),a.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(e){this._howMany=e},a.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},a.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},a.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},a.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()},a.prototype._addRejected=function(e){this._values.push(e)},a.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},a.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=a}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},a=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},r=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return r.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return a.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,i){if(u(e)){if(e instanceof t)return e;var a=o(e);if(a===l){i&&i._pushContext();var c=t.reject(a.e);return i&&i._popContext(),c}if("function"==typeof a){if(r(e)){var c=new t(n);return e._then(c._fulfill,c._reject,void 0,c,null),c}return s(e,a,i)}}return e}function a(e){return e.then}function o(e){try{return a(e)}catch(e){return l.e=e,l}}function r(e){try{return d.call(e,"_promise0")}catch(e){return!1}}function s(e,i,a){function o(e){s&&(s._resolveCallback(e),s=null)}function r(e){s&&(s._rejectCallback(e,d,!0),s=null)}var s=new t(n),u=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var d=!0,p=c.tryCatch(i).call(e,o,r);return d=!1,s&&p===l&&(s._rejectCallback(p.e,!0,!0),s=null),u}var c=e("./util"),l=c.errorObj,u=c.isObject,d={}.hasOwnProperty;return i}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){function a(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function r(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var r,s;return void 0!==o?(r=t.resolve(o)._then(l,null,null,e,void 0),i.cancellation()&&o instanceof t&&r._setOnCancel(o)):(r=new t(n),s=setTimeout(function(){r._fulfill()},+e),i.cancellation()&&r._setOnCancel(new a(s)),r._captureStackTrace()),r._setAsyncGuaranteed(),r};t.prototype.delay=function(e){return u(e,this)};var d=function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,c=new a(setTimeout(function(){n.isPending()&&d(n,t,s)},e));return i.cancellation()?(s=this.then(),n=s._then(o,r,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,r,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,o,r){function s(e){setTimeout(function(){throw e},0)}function c(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function l(e,n){function a(){if(r>=l)return u._fulfill();var o=c(e[r++]);if(o instanceof t&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(a,s,null,null,null)}a()}var r=0,l=e.length,u=new t(o);return a(),u}function u(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function p(e){return u.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function f(e){this.length=e,this.promise=null,this[e-1]=null}var _=e("./util"),m=e("./errors").TypeError,g=e("./util").inherits,h=_.errorObj,v=_.tryCatch,x={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():x},u.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==x?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},u.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(d,u),d.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},f.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var i=this[n];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var a=arguments[e-1];if("function"!=typeof a)return n("expecting a function but got "+_.classString(a));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var c=new f(e),d=0;d<e;++d){var m=o[d];if(u.isDisposer(m)){var g=m;m=m.promise(),m._setDisposable(g)}else{var x=i(m);x instanceof t&&(m=x._then(p,null,null,{resources:c,index:d},void 0))}c[d]=m}for(var y=new Array(c.length),d=0;d<y.length;++d)y[d]=t.resolve(c[d]).reflect();var b=t.all(y).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return h.e=n.error(),h;if(!n.isFulfilled())return void b.cancel();e[t]=n.value()}T._pushContext(),a=v(a);var i=s?a.apply(void 0,e):a(e),o=T._popContext();return r.checkForgottenReturns(i,o,"Promise.using",T),i}),T=b.lastly(function(){var e=new t.PromiseInspection(b);return l(c,e)});return c.promise=T,T._setOnCancel(c),T},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,a());throw new m}}},{"./errors":12,"./util":36}],36:[function(e,i,a){"use strict";function o(){try{var e=N;return N=null,e.apply(this,arguments)}catch(e){return P.e=e,P}}function r(e){return N=e,o}function s(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function c(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return s(e)?new Error(v(e)):e}function u(e,t){var n,i=e.length,a=new Array(i+1);for(n=0;n<i;++n)a[n]=e[n];return a[n]=t,a}function d(e,t,n){if(!k.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function p(e,t,n){if(s(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return k.defineProperty(e,t,i),e}function f(e){throw e}function _(e){try{if("function"==typeof e){var t=k.names(e.prototype),n=k.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),a=O.test(e+"")&&k.names(e).length>0;if(n||i||a)return!0}return!1}catch(e){return!1}}function m(e){function t(){}function n(){return typeof i.foo}t.prototype=e;var i=new t;return n(),n(),e}function g(e){return $.test(e)}function h(e,t,n){for(var i=new Array(e),a=0;a<e;++a)i[a]=t+a+n;return i}function v(e){try{return e+""}catch(e){return"[no string representation]"}}function x(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{p(e,"isOperational",!0)}catch(e){}}function b(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function T(e){return x(e)&&k.propertyIsWritable(e,"stack")}function w(e){return{}.toString.call(e)}function A(e,t,n){for(var i=k.names(e),a=0;a<i.length;++a){var o=i[a];if(n(o))try{k.defineProperty(t,o,k.getDescriptor(e,o))}catch(e){}}}function S(e){return U?t.env[e]:void 0}function C(){if("function"==typeof Promise)try{if("[object Promise]"===w(new Promise(function(){})))return Promise}catch(e){}}function I(e,t){if(null===e||"function"!=typeof t||t===B)return t;null!==e.domain&&(t=e.domain.bind(t));var n=e.async;if(null!==n){var i=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=i,e[1]=this,n.runInAsyncScope.apply(n,e)}}return t}var k=e("./es5"),E="undefined"==typeof navigator,P={e:{}},N,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null,F=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},D=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(k.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],a=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return i}for(var r=0;r<o.length;++r){var s=o[r];if(!a[s]){a[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&i.push(s)}}e=k.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var a=[];e:for(var o in n)if(i.call(n,o))a.push(o);else{for(var r=0;r<e.length;++r)if(i.call(e[r],o))continue e;a.push(o)}return a}}(),O=/this\s*\.\s*\S+\s*=/,$=/^[a-z$_][a-z$_0-9]*$/i,j=function(){return"stack"in new Error?function(e){return T(e)?e:new Error(v(e))}:function(e){if(T(e))return e;try{throw new Error(v(e))}catch(e){return e}}}(),L=function(e){return k.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var V="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};L=function(e){return k.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?V(e):null}}var M=void 0!==t&&"[object process]"===w(t).toLowerCase(),U=void 0!==t&&void 0!==t.env,B,H={setReflectHandler:function(e){B=e},isClass:_,isIdentifier:g,inheritedDataKeys:D,getDataPropertyOrDefault:d,thrower:f,isArray:k.isArray,asArray:L,notEnumerableProp:p,isPrimitive:s,isObject:c,isError:x,canEvaluate:E,errorObj:P,tryCatch:r,inherits:F,withAppended:u,maybeWrapAsError:l,toFastProperties:m,filledRange:h,toString:v,canAttachTrace:T,ensureErrorObject:j,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:w,copyDescriptors:A,isNode:M,hasEnvVariables:U,env:S,global:R,getNativePromise:C,contextBind:I};H.isRecentNode=H.isNode&&function(){var e;return t.versions&&t.versions.node?e=t.versions.node.split(".").map(Number):t.version&&(e=t.version.split(".").map(Number)),0===e[0]&&e[1]>10||e[0]>0}(),H.nodeSupportsAsyncResource=H.isNode&&function(){var t=!1;try{var n=e("async_hooks").AsyncResource;t="function"==typeof n.prototype.runInAsyncScope}catch(e){t=!1}return t}(),H.isNode&&H.toFastProperties(t);try{throw new Error}catch(e){H.lastLineError=e}i.exports=H},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(40),n(16),n(215).setImmediate)},function(e,t,n){"use strict";function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],i(n),i(a))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)e=i(t,n).join(""),t=e.match(r);return e}}function o(e){for(var t={"%FE%FF":"","%FF%FE":""},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=a(n[0]);i!==n[0]&&(t[n[0]]=i)}n=s.exec(e)}t["%C2"]="";for(var o=Object.keys(t),r=0;r<o.length;r++){var c=o[r];e=e.replace(new RegExp(c,"g"),t[c])}return e}var r=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return o(e)}}},function(e,t,n){var i=n(3),a=n(1),o=i(a,"DataView");e.exports=o},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var a=n(141),o=n(142),r=n(143),s=n(144),c=n(145);i.prototype.clear=a,i.prototype.delete=o,i.prototype.get=r,i.prototype.has=s,i.prototype.set=c,e.exports=i},function(e,t,n){var i=n(3),a=n(1),o=i(a,"Promise");e.exports=o},function(e,t,n){var i=n(3),a=n(1),o=i(a,"Set");e.exports=o},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}var a=n(18),o=n(168),r=n(169);i.prototype.add=i.prototype.push=o,i.prototype.has=r,e.exports=i},function(e,t,n){var i=n(1),a=i.Uint8Array;e.exports=a},function(e,t,n){var i=n(3),a=n(1),o=i(a,"WeakMap");e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,a=0,o=[];++n<i;){var r=e[n];t(r,n,e)&&(o[a++]=r)}return o}e.exports=n},function(e,t,n){function i(e,t){var n=r(e),i=!n&&o(e),u=!n&&!i&&s(e),p=!n&&!i&&!u&&l(e),f=n||i||u||p,_=f?a(e.length,String):[],m=_.length;for(var g in e)!t&&!d.call(e,g)||f&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||c(g,m))||_.push(g);return _}var a=n(123),o=n(22),r=n(2),s=n(37),c=n(19),l=n(39),u=Object.prototype,d=u.hasOwnProperty;e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var i=n(104),a=n(129),o=a(i);e.exports=o},function(e,t,n){function i(e,t,n,r,s){var c=-1,l=e.length;for(n||(n=o),s||(s=[]);++c<l;){var u=e[c];t>0&&n(u)?t>1?i(u,t-1,n,r,s):a(s,u):r||(s[s.length]=u)}return s}var a=n(27),o=n(146);e.exports=i},function(e,t,n){var i=n(130),a=i();e.exports=a},function(e,t,n){function i(e,t){return e&&a(e,t,o)}var a=n(103),o=n(24);e.exports=i},function(e,t,n){function i(e,t,n){var i=t(e);return o(e)?i:a(i,n(e))}var a=n(27),o=n(2);e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function i(e){return o(e)&&a(e)==r}var a=n(5),o=n(6),r="[object Arguments]";e.exports=i},function(e,t,n){function i(e,t,n,i,g,v){var x=l(e),y=l(t),b=x?_:c(e),T=y?_:c(t);b=b==f?m:b,T=T==f?m:T;var w=b==m,A=T==m,S=b==T;if(S&&u(e)){if(!u(t))return!1;x=!0,w=!1}if(S&&!w)return v||(v=new a),x||d(e)?o(e,t,n,i,g,v):r(e,t,b,n,i,g,v);if(!(n&p)){var C=w&&h.call(e,"__wrapped__"),I=A&&h.call(t,"__wrapped__");if(C||I){var k=C?e.value():e,E=I?t.value():t;return v||(v=new a),g(k,E,n,i,v)}}return!!S&&(v||(v=new a),s(e,t,n,i,g,v))}var a=n(25),o=n(32),r=n(132),s=n(133),c=n(138),l=n(2),u=n(37),d=n(39),p=1,f="[object Arguments]",_="[object Array]",m="[object Object]",g=Object.prototype,h=g.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t,n,i){var c=n.length,l=c,u=!i;if(null==e)return!l;for(e=Object(e);c--;){var d=n[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){d=n[c];var p=d[0],f=e[p],_=d[1];if(u&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new a;if(i)var g=i(f,_,p,e,t,m);if(!(void 0===g?o(_,f,r|s,i,m):g))return!1}}return!0}var a=n(25),o=n(29),r=1,s=2;e.exports=i},function(e,t,n){function i(e){return!(!r(e)||o(e))&&(a(e)?_:l).test(s(e))}var a=n(38),o=n(149),r=n(14),s=n(36),c=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,p=u.toString,f=d.hasOwnProperty,_=RegExp("^"+p.call(f).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t,n){function i(e){return r(e)&&o(e.length)&&!!s[a(e)]}var a=n(5),o=n(23),r=n(6),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=i},function(e,t,n){function i(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?s(e)?o(e[0],e[1]):a(e):c(e)}var a=n(115),o=n(116),r=n(12),s=n(2),c=n(183);e.exports=i},function(e,t,n){function i(e){if(!a(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var a=n(150),o=n(163),r=Object.prototype,s=r.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t){var n=-1,i=o(e)?Array(e.length):[];return a(e,function(e,a,o){i[++n]=t(e,a,o)}),i}var a=n(101),o=n(13);e.exports=i},function(e,t,n){function i(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}}var a=n(109),o=n(135),r=n(35);e.exports=i},function(e,t,n){function i(e,t){return s(e)&&c(t)?l(u(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?r(n,e):a(t,i,d|p)}}var a=n(29),o=n(180),r=n(181),s=n(20),c=n(34),l=n(35),u=n(11),d=1,p=2;e.exports=i},function(e,t,n){function i(e,t,n){var i=-1;t=a(t.length?t:[u],c(o));var d=r(e,function(e,n,o){return{criteria:a(t,function(t){return t(e)}),index:++i,value:e}});return s(d,function(e,t){return l(e,t,n)})}var a=n(26),o=n(112),r=n(114),s=n(122),c=n(30),l=n(127),u=n(12);e.exports=i},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function i(e){return function(t){return a(t,e)}}var a=n(28);e.exports=i},function(e,t,n){function i(e,t){return r(o(e,t,a),e+"")}var a=n(12),o=n(167),r=n(171);e.exports=i},function(e,t,n){var i=n(179),a=n(131),o=n(12),r=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=r},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}e.exports=n},function(e,t,n){function i(e){if("string"==typeof e)return e;if(r(e))return o(e,i)+"";if(s(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}var a=n(4),o=n(26),r=n(2),s=n(15),c=1/0,l=a?a.prototype:void 0,u=l?l.toString:void 0;e.exports=i},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function i(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,r=a(e),s=void 0!==t,c=null===t,l=t===t,u=a(t);if(!c&&!u&&!r&&e>t||r&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!r&&!u&&e<t||u&&n&&o&&!i&&!r||c&&n&&o||!s&&o||!l)return-1}return 0}var a=n(15);e.exports=i},function(e,t,n){function i(e,t,n){for(var i=-1,o=e.criteria,r=t.criteria,s=o.length,c=n.length;++i<s;){var l=a(o[i],r[i]);if(l){if(i>=c)return l;return l*("desc"==n[i]?-1:1)}}return e.index-t.index}var a=n(126);e.exports=i},function(e,t,n){var i=n(1),a=i["__core-js_shared__"];e.exports=a},function(e,t,n){function i(e,t){return function(n,i){if(null==n)return n;if(!a(n))return e(n,i);for(var o=n.length,r=t?o:-1,s=Object(n);(t?r--:++r<o)&&!1!==i(s[r],r,s););return n}}var a=n(13);e.exports=i},function(e,t){function n(e){return function(t,n,i){for(var a=-1,o=Object(t),r=i(t),s=r.length;s--;){var c=r[e?s:++a];if(!1===n(o[c],c,o))break}return t}}e.exports=n},function(e,t,n){var i=n(3),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,n){function i(e,t,n,i,a,w,S){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!w(new o(e),new o(t)));case p:case f:case g:return r(+e,+t);case _:return e.name==t.name&&e.message==t.message;case h:case x:return e==t+"";case m:var C=c;case v:var I=i&u;if(C||(C=l),e.size!=t.size&&!I)return!1;var k=S.get(e);if(k)return k==t;i|=d,S.set(e,t);var E=s(C(e),C(t),i,a,w,S);return S.delete(e),E;case y:if(A)return A.call(e)==A.call(t)}return!1}var a=n(4),o=n(95),r=n(21),s=n(32),c=n(161),l=n(170),u=1,d=2,p="[object Boolean]",f="[object Date]",_="[object Error]",m="[object Map]",g="[object Number]",h="[object RegExp]",v="[object Set]",x="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",T="[object DataView]",w=a?a.prototype:void 0,A=w?w.valueOf:void 0;e.exports=i},function(e,t,n){function i(e,t,n,i,r,c){var l=n&o,u=a(e),d=u.length;if(d!=a(t).length&&!l)return!1;for(var p=d;p--;){var f=u[p];if(!(l?f in t:s.call(t,f)))return!1}var _=c.get(e);if(_&&c.get(t))return _==t;var m=!0;c.set(e,t),c.set(t,e);for(var g=l;++p<d;){f=u[p];var h=e[f],v=t[f];if(i)var x=l?i(v,h,f,t,e,c):i(h,v,f,e,t,c);if(!(void 0===x?h===v||r(h,v,n,i,c):x)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(m=!1)}return c.delete(e),c.delete(t),m}var a=n(134),o=1,r=Object.prototype,s=r.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){return a(e,r,o)}var a=n(105),o=n(137),r=n(24);e.exports=i},function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,a(r)]}return t}var a=n(34),o=n(24);e.exports=i},function(e,t,n){function i(e){var t=r.call(e,c),n=e[c];try{e[c]=void 0;var i=!0}catch(e){}var a=s.call(e);return i&&(t?e[c]=n:delete e[c]),a}var a=n(4),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,c=a?a.toStringTag:void 0;e.exports=i},function(e,t,n){var i=n(98),a=n(185),o=Object.prototype,r=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,c=s?function(e){return null==e?[]:(e=Object(e),i(s(e),function(t){return r.call(e,t)}))}:a;e.exports=c},function(e,t,n){var i=n(90),a=n(17),o=n(92),r=n(93),s=n(96),c=n(5),l=n(36),u=l(i),d=l(a),p=l(o),f=l(r),_=l(s),m=c;(i&&"[object DataView]"!=m(new i(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||o&&"[object Promise]"!=m(o.resolve())||r&&"[object Set]"!=m(new r)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case _:return"[object WeakMap]"}return t}),e.exports=m},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function i(e,t,n){t=a(t,e);for(var i=-1,u=t.length,d=!1;++i<u;){var p=l(t[i]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++i!=u?d:!!(u=null==e?0:e.length)&&c(u)&&s(p,u)&&(r(e)||o(e))}var a=n(31),o=n(22),r=n(2),s=n(19),c=n(23),l=n(11);e.exports=i},function(e,t,n){function i(){this.__data__=a?a(null):{},this.size=0}var a=n(10);e.exports=i},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function i(e){var t=this.__data__;if(a){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var a=n(10),o="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}var a=n(10),o=Object.prototype,r=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?o:t,this}var a=n(10),o="__lodash_hash_undefined__";e.exports=i},function(e,t,n){function i(e){return r(e)||o(e)||!!(s&&e&&e[s])}var a=n(4),o=n(22),r=n(2),s=a?a.isConcatSpreadable:void 0;e.exports=i},function(e,t,n){function i(e,t,n){if(!s(n))return!1;var i=typeof t;return!!("number"==i?o(n)&&r(t,n.length):"string"==i&&t in n)&&a(n[t],e)}var a=n(21),o=n(13),r=n(19),s=n(14);e.exports=i},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function i(e){return!!o&&o in e}var a=n(128),o=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=i},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}var i=Object.prototype;e.exports=n},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function i(e){var t=this.__data__,n=a(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}var a=n(8),o=Array.prototype,r=o.splice;e.exports=i},function(e,t,n){function i(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}var a=n(8);e.exports=i},function(e,t,n){function i(e){return a(this.__data__,e)>-1}var a=n(8);e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__,i=a(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var a=n(8);e.exports=i},function(e,t,n){function i(){this.size=0,this.__data__={hash:new a,map:new(r||o),string:new a}}var a=n(91),o=n(7),r=n(17);e.exports=i},function(e,t,n){function i(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}var a=n(9);e.exports=i},function(e,t,n){function i(e){return a(this,e).get(e)}var a=n(9);e.exports=i},function(e,t,n){function i(e){return a(this,e).has(e)}var a=n(9);e.exports=i},function(e,t,n){function i(e,t){var n=a(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var a=n(9);e.exports=i},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}e.exports=n},function(e,t,n){function i(e){var t=a(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var a=n(182),o=500;e.exports=i},function(e,t,n){var i=n(166),a=i(Object.keys,Object);e.exports=a},function(e,t,n){(function(e){var i=n(33),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,r=o&&o.exports===a,s=r&&i.process,c=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=c}).call(t,n(41)(e))},function(e,t){function n(e){return a.call(e)}var i=Object.prototype,a=i.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function i(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=o(i.length-t,0),c=Array(s);++r<s;)c[r]=i[t+r];r=-1;for(var l=Array(t+1);++r<t;)l[r]=i[r];return l[t]=n(c),a(e,this,l)}}var a=n(97),o=Math.max;e.exports=i},function(e,t){function n(e){return this.__data__.set(e,i),this}var i="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var i=n(121),a=n(172),o=a(i);e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var r=o(),s=a-(r-n);if(n=r,s>0){if(++t>=i)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var i=800,a=16,o=Date.now;e.exports=n},function(e,t,n){function i(){this.__data__=new a,this.size=0}var a=n(7);e.exports=i},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function i(e,t){var n=this.__data__;if(n instanceof a){var i=n.__data__;if(!o||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(i)}return n.set(e,t),this.size=n.size,this}var a=n(7),o=n(17),r=n(18),s=200;e.exports=i},function(e,t,n){var i=n(162),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,r=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,i,a){t.push(i?a.replace(o,"$1"):n||e)}),t});e.exports=r},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function i(e,t,n){var i=null==e?void 0:a(e,t);return void 0===i?n:i}var a=n(28);e.exports=i},function(e,t,n){function i(e,t){return null!=e&&o(e,t,a)}var a=n(106),o=n(140);e.exports=i},function(e,t,n){function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],o=n.cache;if(o.has(a))return o.get(a);var r=e.apply(this,i);return n.cache=o.set(a,r)||o,r};return n.cache=new(i.Cache||a),n}var a=n(18),o="Expected a function";i.Cache=a,e.exports=i},function(e,t,n){function i(e){return r(e)?a(s(e)):o(e)}var a=n(118),o=n(119),r=n(20),s=n(11);e.exports=i},function(e,t,n){var i=n(102),a=n(117),o=n(120),r=n(147),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&r(e,t[0],t[1])?t=[]:n>2&&r(t[0],t[1],t[2])&&(t=[t[0]]),a(e,i(t,1),[])});e.exports=s},function(e,t){function n(){return[]}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function i(e){return null==e?"":a(e)}var a=n(124);e.exports=i},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-cn.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div user-authorization="isUserAuthorized" class="awsui-v1 animation-container tax-widget" ng-class="{ \'animation-load-contents\': !model.isLoadingTaxSettings }">\n    <div ng-if="model.isLoadingTaxSettings">\n        <p>\n            <span>\n                <img src="/billing/console/src/images/ajax-loader.gif" />\n                <span once-text="\'_Tax_Settings_Loading_\' | i18n"></span>\n            </span>\n        </p>\n    </div>\n    <div ng-form="model.taxInfoForm" class="tax-settings animation-content" ng-class="{ \'animation-fade\': !model.isLoadingTaxSettings }">\n        <tax-settings-header model="model"></tax-settings-header>\n        <div ng-if="!model.isValidAddress" class="alert alert-warning alert-icon margin-top-10">\n            <h3 once-text="\'_Tax_Settings_Warning_Header_\' | i18n"></h3>\n            <p compile-dynamic-html="\'_Tax_Settings_Warning_Description_\' | i18n"></p>\n        </div>\n        <div ng-if="model.isValidAddress" ng-disabled="model.isUpdatingTaxInfo">\n            <tax-settings-status-bar model="model"></tax-settings-status-bar>\n            <tax-settings-invoice-type model="model" update="updateInvoiceType(type)" toggle-state="toggleTaxInfoState(state)"></tax-settings-invoice-type>\n            <tax-settings-fapiao-information model="model"></tax-settings-fapiao-information>\n            <tax-settings-bank-information model="model"></tax-settings-bank-information>\n            <tax-settings-mailing-address model="model"></tax-settings-mailing-address>\n            <tax-settings-supporting-doc model="model" upload="upload()" delete="delete(index)" download="download(index,event)"></tax-settings-supporting-doc>\n            <tax-settings-save-button model="model" toggle-state="toggleTaxInfoState(state)" save="save()" update-tax-information="updateTaxInformation()" save-and-continue="saveAndContinue()"></tax-settings-save-button>\n        </div>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-bank-information.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-if="model.invoice.type.value === \'SPECIAL\'&& model.isEditingTaxInfo && model.editingPhase === 1" class="margin-top-30" ng-form="bank">\n    <div class="tax-info-header margin-top-30">\n        <span once-text="\'_Tax_Settings_Bank_Information_\' | i18n"></span>\n        <awsui-tooltip text="{{\'_Bank_Information_Hover_\' | i18n}} {{\'_Bank_Information_Line2_Hover_\' | i18n}}" position="right" size="large">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <hr class="clear-both" />\n    </div>\n    <div ng-class="{ \'margin-top-3\': model.isEditingTaxInfo, \'margin-top-20\': !model.isEditingTaxInfo, \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.bank.number.$error.required || model.taxInfoForm.bank.number.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Tax_Settings_Bank_Account_Number_\' | i18n"></span>:\n            <span ng-show="model.isEditingTaxInfo">*</span>\n        </label>\n        <input ng-model="model.bankAccount.accountNumber" type="text" name="number" validate-characters ng-required="true" />\n        <awsui-tooltip text="{{\'_Bank_Account_Number_Hover_\' | i18n}}" position="right" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && model.taxInfoForm.bank.number.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <span once-text="\'_Field_Required_\' | i18n"></span>\n        </span>\n        <span class="tax-info-invalid-characters" ng-show="model.isSubmittedForPreview && !model.taxInfoForm.bank.number.$error.required && model.taxInfoForm.bank.number.$invalid"><i class="icon-warning-sign icon-large color-text-red"></i>\n            <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n        </span>\n    </div>\n    <div ng-class="{ \'margin-top-3\': model.isEditingTaxInfo, \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.bank.accountHolderName.$error.required || model.taxInfoForm.bank.accountHolderName.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Tax_Settings_Bank_Account_Holder_Name_\' | i18n"></span>:\n            <span>*</span>\n        </label>\n        <input ng-model="model.bankAccount.accountHolderName" type="text" name="accountHolderName" validate-characters ng-required="true" />\n        <awsui-tooltip text="{{\'_Bank_Account_Holder_Name_Hover_\' | i18n}}" position="right" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && model.taxInfoForm.bank.accountHolderName.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <span once-text="\'_Field_Required_\' | i18n"></span>\n        </span>\n        <span class="tax-info-invalid-characters" ng-show="model.isSubmittedForPreview && !model.taxInfoForm.bank.accountHolderName.$error.required && model.taxInfoForm.bank.accountHolderName.$invalid"><i class="icon-warning-sign icon-large color-text-red"></i>\n            <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n        </span>\n    </div>\n\n    <div ng-class="{ \'margin-top-3\': model.isEditingTaxInfo, \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.bank.name.$error.required || model.taxInfoForm.bank.name.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Tax_Settings_Bank_Name_\' | i18n"></span>:\n            <span ng-show="model.isEditingTaxInfo">*</span>\n        </label>\n        <input id="BankNameInput" ng-model="model.bankAccount.bankName" type="text" name="name" validate-characters ng-required="true" />\n        <awsui-tooltip text="{{\'_Bank_Name_Hover_\' | i18n}}" position="right" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && model.taxInfoForm.bank.name.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <span once-text="\'_Field_Required_\' | i18n"></span>\n        </span>\n        <span class="tax-info-invalid-characters" ng-show="model.isSubmittedForPreview && !model.taxInfoForm.bank.name.$error.required && model.taxInfoForm.bank.name.$invalid">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n        </span>\n    </div>\n    <div ng-class="{ \'margin-top-3\': model.isEditingTaxInfo, \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.bank.accountHolderName.$error.required || model.taxInfoForm.bank.accountHolderName.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Tax_Settings_Bank_Province_\' | i18n"></span>:\n            <span>*</span>\n        </label>\n        <input ng-model="model.bankAccount.province" type="text" name="province" validate-characters ng-required="true" />\n        <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && model.taxInfoForm.bank.province.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <span once-text="\'_Field_Required_\' | i18n"></span>\n        </span>\n        <span class="tax-info-invalid-characters" ng-show="model.isSubmittedForPreview && !model.taxInfoForm.bank.province.$error.required && model.taxInfoForm.bank.province.$invalid"><i class="icon-warning-sign icon-large color-text-red"></i>\n            <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n        </span>\n    </div>\n    <div ng-class="{ \'margin-top-3\': model.isEditingTaxInfo, \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.bank.city.$error.required || model.taxInfoForm.bank.accountHolderName.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Tax_Settings_Bank_City_\' | i18n"></span>:\n            <span>*</span>\n        </label>\n        <input ng-model="model.bankAccount.city" type="text" name="city" validate-characters ng-required="true" />\n        <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && model.taxInfoForm.bank.city.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <span once-text="\'_Field_Required_\' | i18n"></span>\n        </span>\n        <span class="tax-info-invalid-characters" ng-show="model.isSubmittedForPreview && !model.taxInfoForm.bank.city.$error.required && model.taxInfoForm.bank.city.$invalid"><i class="icon-warning-sign icon-large color-text-red"></i>\n            <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n        </span>\n    </div>\n</div>\n\n<div ng-if="model.invoice.type.value === \'SPECIAL\'&&!model.isEditingTaxInfo&&(model.isPreviewingTaxInfo || model.isPendingVerification || model.isActive)">\n    <div class="overflow-hidden margin-top-20">\n        <label class="tax-info-label left">\n            <span once-text="\'_Tax_Settings_Bank_Account_Number_\' | i18n">\n                </span>:</label>\n        <span ng-if="model.isPreviewingTaxInfo" class="tax-info-static">{{model.bankAccount.tail && (\'***********\') }}</span>\n        <span ng-if="model.isPendingVerification || model.isActive" class="tax-info-static">{{ model.bankAccount.tail && (\'***********\' + model.bankAccount.tail) }}</span>\n    </div>\n    <div class="overflow-hidden margin-top-20">\n        <label class="tax-info-label left">\n            <span once-text="\'_Tax_Settings_Bank_Account_Holder_Name_\' | i18n">\n            </span>:</label>\n        <span ng-if="model.isPreviewingTaxInfo" class="tax-info-static">{{model.bankAccount.tail && \'***********\'}}</span>\n        <span ng-if="model.isPendingVerification || model.isActive" class="tax-info-static">{{ model.bankAccount.tail && \'***********\' }}</span>\n    </div>\n    <div class="overflow-hidden margin-top-20">\n        <label class="tax-info-label left">\n            <span once-text="\'_Tax_Settings_Bank_Name_\' | i18n"></span>:</label>\n        <span ng-if="model.isPreviewingTaxInfo" class="tax-info-static">{{model.bankAccount.bankName}}</span>\n        <span ng-if="model.isPendingVerification || model.isActive" class="tax-info-static">{{ model.bankAccount.bankName }}</span>\n    </div>\n    <div class="overflow-hidden margin-top-20">\n        <label class="tax-info-label left">\n            <span once-text="\'_Tax_Settings_Bank_Province_\' | i18n"></span>:</label>\n        <span ng-if="model.isPreviewingTaxInfo" class="tax-info-static">{{model.bankAccount.province || (\'***********\')}}</span>\n        <span ng-if="model.isPendingVerification || model.isActive" class="tax-info-static">{{ model.bankAccount.tail && \'***********\' }}</span>\n    </div>\n    <div class="overflow-hidden margin-top-20">\n        <label class="tax-info-label left">\n            <span once-text="\'_Tax_Settings_Bank_City_\' | i18n"></span>:</label>\n        <span ng-if="model.isPreviewingTaxInfo" class="tax-info-static">{{ model.bankAccount.city || (\'***********\')}}</span>\n        <span ng-if="model.isPendingVerification || model.isActive" class="tax-info-static">{{ model.bankAccount.tail && \'***********\' }}</span>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-fapiao-information.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-if="model.invoice.type.value !== \'NONE\'&& model.isEditingTaxInfo && model.editingPhase === 0" class="overflow-hidden magin-top-3">\n    <div class="tax-info-header margin-top-30"><span once-text="\'_Tax_Settings_Fapiao_Detail_Header_\' | i18n"></span></div>\n    <hr class="clear-both" />\n</div>\n<div ng-if="model.invoice.type.value !== \'NONE\'&& model.isEditingTaxInfo && model.editingPhase === 0" ng-class="{ \'margin-top-3\': model.isEditingTaxInfo, \'invalid-form-field\': model.isSubmittedForPreview && model.taxInfoForm.vatRegistrationNumber.$invalid }">\n    <lable id="VatRegNumberLabel" class="tax-info-label"><span once-text="\'_Tax_Settings_China_Taxpayer_Identification_Number_\' | i18n" ></span>:<span>*</span></lable>\n    <input id="VatRegNumberInput" ng-model="model.invoice.vatRegistrationNumber" type="text" name="vatRegistrationNumber" validate-characters ng-required="model.isRequired" />\n    <awsui-tooltip text="{{\'_Tax_Settings_China_Taxpayer_Identification__Number_Hover_\' | i18n}}" position="top" size="small">\n        <i class="awsui-icon info-circle"></i>\n    </awsui-tooltip>\n    <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && model.taxInfoForm.vatRegistrationNumber.$error.required">\n        <i class="awsui-icon alert-exclamation-circle"></i>\n        <span once-text="\'_Field_Required_\' | i18n"></span>\n    </span>\n    <span class="tax-info-alert margin-left-10" ng-show="model.isSubmittedForPreview && !model.taxInfoForm.vatRegistrationNumber.$error.required && model.taxInfoForm.vatRegistrationNumber.$invalid">\n        <i class="awsui-icon alert-exclamation-circle"></i>\n        <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n    </span>\n    <span class="tax-info-alert margin-left-10" ng-show="!model.taxInfoForm.vatRegistrationNumber.$error.required && model.taxInfoForm.vatRegistrationNumber.$invalid">\n        <i class="awsui-icon alert-exclamation-circle"></i>\n        <span once-text="\'_Invalid_Characters_\' | i18n"></span>\n    </span>\n</div>\n<div ng-if="model.invoice.type.value !== \'NONE\'&& model.isEditingTaxInfo && model.editingPhase === 0">\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.taxAddressCompany.$error.required || model.taxInfoForm.taxAddressCompany.$invalid) }">\n        <label class="tax-info-label"><span once-text="\'_Account_ContactInformation_Company_\' | i18n"></span>:*</label>\n        <input ng-model="model.taxAddress.company" type="text" name="taxAddressCompany" validate-characters-apostrophe-ok ng-required="model.isRequired" ng-disabled="true"/>\n        <awsui-tooltip text="{{\'_Company_Name_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'account-information-container-edit\': model.isEditingContactInfo }">\n        <label class="tax-info-label"><span once-text="\'_Account_ContactInformation_Country_\' | i18n"></span>:</label>\n        <span class="account-information-select" ng-show="model.isEditingTaxInfo && model.isACTS" once-text="\'_Country_Code_CN_\' | i18n"></span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.taxAddressLine1.$error.required || model.taxInfoForm.taxAddressLine1.$invalid) }">\n        <label class="tax-info-label"><span once-text="\'_Account_ContactInformation_FapiaoAddress_CN_\' | i18n"></span>:*</label>\n        <input id="FapiaoAddressInput" ng-model="model.taxAddress.address" type="text" name="taxAddress" character-limit="150" validate-characters-apostrophe-ok ng-required="model.isRequired"/>\n        <awsui-tooltip ng-if="model.invoice.type.value === \'SPECIAL\'" text="{{\'_Special_Tax_Address_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <awsui-tooltip ng-if="model.invoice.type.value === \'STANDARD\'" text="{{\'_Standard_Tax_Address_Hover\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="account-info-alert" ng-show="model.isSubmittedForPreview && model.taxInfoForm.taxAddress.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.taxAddress.$error.required"><span once-text="\'_Field_Required_\' | i18n"></span></li>\n            </ul>\n        </span>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.taxAddress.$error.invalidCharacters || model.taxInfoForm.taxAddress.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.taxAddress.$error.invalidCharacters"><span  once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span></li>\n                <li ng-show="model.taxInfoForm.taxAddress.$error.characterLimit"><span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span></li>\n            </ul>\n        </span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && model.taxInfoForm.taxPhoneNumber.$invalid}">\n        <label class="tax-info-label"><span once-text="\'_Account_ContactInformation_Phone_CN_\' | i18n"></span>:*</label>\n        <input id="TaxPhoneNumber" ng-model="model.taxAddress.phoneNumber" type="text" name="taxPhoneNumber" validate-characters ng-required="model.isRequired" ng-pattern="/^\\d{11,12}$/"/>\n        <awsui-tooltip text="{{\'_Tax_Phone_Number_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="account-info-alert" ng-show="model.isSubmittedForPreview && model.taxInfoForm.taxPhoneNumber.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.taxPhoneNumber.$error.required"><span once-text="\'_Field_Required_\' | i18n"></span></li>\n            </ul>\n        </span>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.taxPhoneNumber.$error.invalidCharacters || model.taxInfoForm.taxPhoneNumber.$error.pattern" >\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.taxPhoneNumber.$error.pattern || model.taxInfoForm.taxPhoneNumber.$error.invalidCharacters"><span id="InvalidPhoneAlert" once-text="\'_Invalid_Phone_Number_\' | i18n"></span></li>\n            </ul>\n        </span>\n        <div style="overlfow:auto">\n            <lable class="tax-phone-sample"><span once-text="\'_Tax_Settings_Sample_\'| i18n"></span>: 095512345678</lable>\n        </div>\n    </div>\n</div>\n<div ng-if="!model.isEditingTaxInfo&&(model.isPreviewingTaxInfo||model.isPendingVerification || model.isActive)" class ="overflow-hidden margin-top-20">\n    <label id="VatRegNumberLabel" class="tax-info-label left"><span once-text="\'_Tax_Settings_China_Taxpayer_Identification_Number_\' | i18n"></span>:</label>\n    <span id="VatRegNumberStatic" class="tax-info-static">{{model.invoice.vatRegistrationNumber}}</span>\n</div>\n<div ng-if="!model.isEditingTaxInfo&&(model.isPreviewingTaxInfo||model.isPendingVerification || model.isActive)" class = "overflow-hidden margin-top-20">\n    <div class="account-information-container">\n        <label class="tax-info-label left"><span once-text="\'_Tax_Settings_Contact_Address_\' | i18n"></span>:</label>\n        <span class="tax-info-static">{{model.taxAddress.company}}</span>\n        <span class="tax-info-static">{{model.taxAddress.fullName}}</span>\n        <span class="tax-info-static">{{model.taxAddress.fapiaoString}}</span>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-header.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<h2 id="TaxSettingsHeader" style="border-bottom:none" class="left" once-text="\'_TCS_Tax_Settings_Header_\' | i18n"></h2>\n<hr class="clear-both" />\n<div>\n    <span compile-dynamic-html="\'_Tax_Settings_Information_Note_\' | i18n"></span>\n    <br />\n    <span compile-dynamic-html="\'_Tax_Settings_Information_Guide_\' | i18n"></span>\n    <br ng-if="model.isActive" />\n    <br ng-if="model.isActive" />\n    <div style="display:inline-block" ng-if="model.isActive" compile-dynamic-html="\'_Tax_Settings_Change_Fapiao_Hint_\' | i18n"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-invoice-type.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="overflow-hidden margin-top-20">\n    <label class="tax-info-label">\n        <span once-text="\'_Tax_Settings_Invoice_Type_\' | i18n"></span>:</label>\n    <span style="margin-left:64px" ng-show="!model.isEditingTaxInfo">{{model.invoice.type.displayText}}</span>\n    \x3c!--    <span style="margin-left:64px" ng-show = "model.invoice.type.value !== \'NONE\'">{{ model.invoice.type.displayText }}</span> --\x3e\n    <select id="InvoiceTypes" ng-show="model.isEditingTaxInfo" ng-model="model.invoice.type" ng-options="invoice as invoice.displayText for invoice in model.invoiceTypes" ng-change="update({ type:model.invoice.type.value})" class="margin-left-10 margin-top-5 margin-bottom-5"></select>\n    <awsui-button ng-show="!model.isEditingTaxInfo && model.invoice.type.value === \'NONE\'" style="margin-left:150px" ng-click="toggleState({state:\'editing\'})" data-disabled="false" loading="false" icon="" variant="link">{{\'_Tax_Settings_Button_Update_\' | i18n}}</awsui-button>\n    <awsui-button ng-show="!model.isEditingTaxInfo && (model.isPreviewingTaxInfo||model.isPendingVerification)" style="margin-left:250px" data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" ng-click="!model.isUpdatingTaxInfo && edit()">{{\'_Tax_Settings_Edit_Button_\' | i18n}}</awsui-button>\n    <span ng-if="model.isSave" style="margin-left:50px; font-weight:500" once-text="\'_Tax_Settings_Incompleted_Settings_\' | i18n"></span>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-mailing-address.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-if="model.invoice.type.value !== \'NONE\' && model.isEditingTaxInfo && model.editingPhase === 2">\n    <div class="tax-info-header margin-top-30">\n        <span once-text="\'_Tax_Settings_Mailing_Address_\' | i18n"></span>\n    </div>\n    <hr />\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.fullName.$error.required || model.taxInfoForm.fullName.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Name_\' | i18n"></span>:*</label>\n        <input id="MailingFullName" ng-model="model.mailingAddress.fullName" type="text" name="fullName" character-limit="50" validate-characters-apostrophe-ok ng-required="model.isRequired" />\n        <awsui-tooltip text="{{\'_Mailing_Full_Name_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="account-info-alert" ng-show="model.isSubmittedForPreview && model.taxInfoForm.fullName.$error.required ">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.fullName.$error.required">\n                    <span once-text="\'_Field_Required_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.fullName.$error.invalidCharacters || model.taxInfoForm.fullName.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.fullName.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span>\n                </li>\n                <li ng-show="model.taxInfoForm.fullName.$error.characterLimit">\n                    <span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.company.$error.required || model.taxInfoForm.company.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Company_\' | i18n"></span>:</label>\n        <input ng-model="model.mailingAddress.company" type="text" name="company" character-limit="50" validate-characters-apostrophe-ok ng-disabled="true" />\n        <awsui-tooltip text="{{\'_Mailing_Company_Name_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'account-information-container-edit\': model.isEditingContactInfo }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Country_\' | i18n"></span>:</label>\n        <span id="CNCountryCode" class="account-information-select" ng-show="model.isEditingTaxInfo && model.isACTS" once-text="\'_Country_Code_CN_\' | i18n"></span>\n    </div>\n    <div class="account-information-container-edit" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.state.$error.required || model.taxInfoForm.state.$error.invalidCharacters || model.taxInfoForm.state.$error.characterLimit) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Province_\' | i18n"></span>:</label>\n        <input ng-model="model.mailingAddress.state" type="text" name="state" character-limit="50" validate-characters/>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.state.$error.invalidCharacters || model.taxInfoForm.state.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.state.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span>\n                </li>\n                <li ng-show="model.taxInfoForm.state.$error.characterLimit">\n                    <span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.city.$error.required || model.taxInfoForm.city.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_City_\' | i18n"></span>:</label>\n        <input id="MailingCity" ng-model="model.mailingAddress.city" type="text" name="city" character-limit="50" validate-characters-apostrophe-ok/>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.city.$error.invalidCharacters || model.taxInfoForm.city.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.city.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span>\n                </li>\n                <li ng-show="model.taxInfoForm.city.$error.characterLimit">\n                    <span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{ \'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.addressLine1.$error.required || model.taxInfoForm.addressLine1.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Mailing_Address_CN_\' | i18n"></span>:*</label>\n        <input id="model.MailingAddressLine1" ng-model="model.mailingAddress.addressLine1" type="text" name="addressLine1" character-limit="50" validate-characters-apostrophe-ok ng-required="model.isRequired" />\n        <awsui-tooltip text="{{\'_Mailing_Address_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="account-info-alert" ng-show="model.isSubmittedForPreview && model.taxInfoForm.addressLine1.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li>\n                    <span once-text="\'_Field_Required_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.addressLine1.$error.invalidCharacters || model.taxInfoForm.addressLine1.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.addressLine1.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span>\n                </li>\n                <li ng-show="model.taxInfoForm.addressLine1.$error.characterLimit">\n                    <span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n    </div>\n    <div class="overflow-hidden" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && model.taxInfoForm.addressLine2.$invalid }">\n        <label class="tax-info-label">&nbsp;</label>\n        <input ng-model="model.mailingAddress.addressLine2" type="text" name="addressLine2" character-limit="50" validate-characters-apostrophe-ok/>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.addressLine2.$error.invalidCharacters || model.taxInfoForm.addressLine2.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.addressLine2.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span>\n                </li>\n                <li ng-show="model.taxInfoForm.addressLine2.$error.characterLimit">\n                    <span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.postalCode.$error.required || model.taxInfoForm.postalCode.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_ZIP_\' | i18n"></span>:*</label>\n        <input id="MailingPostalCode" ng-model="model.mailingAddress.postalCode" type="text" name="postalCode" character-limit="10" validate-characters ng-required="model.isRequired" />\n        <awsui-tooltip text="{{\'_Mailing_Postal_Code_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="account-info-alert" ng-show="model.isSubmittedForPreview && model.taxInfoForm.postalCode.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.postalCode.$error.required">\n                    <span once-text="\'_Field_Required_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.postalCode.$error.invalidCharacters || model.taxInfoForm.postalCode.$error.characterLimit">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.postalCode.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Characters_Apostrophe_Ok_\' | i18n"></span>\n                </li>\n                <li ng-show="model.taxInfoForm.postalCode.$error.characterLimit">\n                    <span once-text="\'_Character_Limit_Exceeded_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.mailingAreaCode.$error.required || model.taxInfoForm.mailingAreaCode.$invalid || model.taxInfoForm.mailingPhoneNumber.$error.required || model.taxInfoForm.mailingPhoneNumber.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Phone_\' | i18n"></span>:*</label>\n        <input id="MailingPhoneNumber" ng-model="model.mailingAddress.phoneNumber" type="text" name="mailingPhoneNumber" validate-characters ng-required="model.isRequired" ng-pattern="/^\\d{11,12}$/" />\n        <awsui-tooltip text="{{\'_Mailing_Phone_Number_Hover_\' | i18n}}" position="top" size="small">\n            <i class="awsui-icon info-circle"></i>\n        </awsui-tooltip>\n        <span class="account-info-alert" ng-show="model.isSubmittedForPreview && model.taxInfoForm.mailingPhoneNumber.$error.required">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li>\n                    <span once-text="\'_Field_Required_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n        <span class="account-info-alert" ng-show="model.taxInfoForm.mailingPhoneNumber.$error.invalidCharacters || model.taxInfoForm.mailingPhoneNumber.$error.pattern">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li>\n                    <span once-text="\'_Invalid_Phone_Number_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n        <div style="overlfow:auto">\n            <lable class="tax-phone-sample">\n                <span once-text="\'_Tax_Settings_Sample_\'| i18n"></span>:095512345678</lable>\n        </div>\n    </div>\n    <div class="tax-account-fapiao-information-container" ng-class="{\'invalid-form-field\': model.isSubmittedForPreview && (model.taxInfoForm.cellphone.$error.required || model.taxInfoForm.cellphone.$invalid) }">\n        <label class="tax-info-label">\n            <span once-text="\'_Account_ContactInformation_Cell_Phone_\' | i18n"></span>:</label>\n        <input id="MailingCellphone" ng-model="model.mailingAddress.secondaryPhone" type="text" name="cellphone" validate-characters ng-pattern="/^\\d{11,12}$/" />\n        <span class="account-info-alert" ng-show="model.taxInfoForm.cellphone.$error.invalidCharacters || model.taxInfoForm.cellphone.$error.pattern">\n            <i class="awsui-icon alert-exclamation-circle"></i>\n            <ul class="error-list-field">\n                <li ng-show="model.taxInfoForm.cellphone.$error.pattern || model.taxInfoForm.cellphone.$error.invalidCharacters">\n                    <span once-text="\'_Invalid_Phone_Number_\' | i18n"></span>\n                </li>\n            </ul>\n        </span>\n        <div style="overlfow:auto">\n            <lable class="tax-phone-sample">\n                <span once-text="\'_Tax_Settings_Sample_\'| i18n"></span>: 13912312345</lable>\n        </div>\n    </div>\n</div>\n<div ng-if="!model.isEditingTaxInfo&&(model.isPreviewingTaxInfo||model.isPendingVerification || model.isActive)" class="overflow-hidden margin-top-20">\n    <label class="tax-info-label left">\n        <span once-text="\'_Account_ContactInformation_Mailing_Address_CN_\' | i18n"></span>:</label>\n    <span class="tax-info-static">{{model.mailingAddress.fullName}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.addressLine1}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.addressLine2}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.city}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.state}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.postalCode}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.phoneNumber}}</span>\n    <span class="tax-info-static">{{model.mailingAddress.secondaryPhone}}</span>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-save-button.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-if="model.isEditingTaxInfo && model.invoice.type.value !== \'NONE\'">\n    <div style="overflow:auto" ng-show="model.editingPhase !== 0">\n        <awsui-button ng-if="model.editingPhase!==3" data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" class = "right fs-13px" ng-click="!model.isUpdatingTaxInfo && back()" >{{\'Tax_Settings_Back_Button_\' | i18n}}</awsui-button>\n    </div>\n    <div style="overflow:auto" ng-show="model.editingPhase !== 3 && model.editingPhase !== 1">\n        <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" class = "right fs-13px" ng-click="!model.isUpdatingTaxInfo && save()">{{\'_Tax_Settings_Save_Changes_\' | i18n}}</awsui-button>\n    </div>\n    <div style="overflow:auto" ng-show="model.editingPhase !==3">\n        <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" class = "right fs-13px" ng-click="!model.isUpdatingTaxInfo && saveAndContinue()" >\n            {{(model.editingPhase === 0 && model.invoice.type.value === \'COMMON\') || (model.editingPhase === 1 && model.invoice.type.value=== \'SPECIAL\')?\'_Tax_Settings_Save_And_Continue_Mailing_Address_\': model.editingPhase === 0 && model.invoice.type.value === \'SPECIAL\'?\'_Tax_Settings_Save_And_Continue_Bank_Detail_\':\'_Tax_Settings_Save_And_Continue_Supporting_Documents_\'| i18n}}\n        </awsui-button>\n    </div>\n    <div style="overflow:auto" ng-show="model.editingPhase === 0">\n        <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" class = "right fs-13px" ng-click="!model.isUpdatingTaxInfo && returnToPreviousState()" >{{\'_Tax_Settings_Cancel_Button_\' | i18n}}</awsui-button>\n    </div>\n    <div ng-show="model.editingPhase === 3" style="text-align:center">\n        <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" ng-click="!model.isUpdatingTaxInfo && back()"  >{{\'Tax_Settings_Back_Button_\' | i18n}}</awsui-button>\n        <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="primary" ng-click="!model.isUpdatingTaxInfo && previewTaxInfo()" >{{\'_Tax_Settings_Preview_Button_\' | i18n}}</awsui-button>\n        <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" ng-click="!model.isUpdatingTaxInfo && cancel()" >{{\'_Tax_Settings_Cancel_Button_\' | i18n}}</awsui-button>\n    </div>\n</div>\n<div ng-if="!model.isEditingTaxInfo && model.isPreviewingTaxInfo" style="text-align:center">\n    <hr />\n    <awsui-alert type="warning" dismissible="false" header="Warning" style="text-align:left">{{ \'_Tax_Settings_Submit_Warning_\' | i18n }}</awsui-alert>\n    <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="model.isUpdatingTaxInfo" icon="" variant="primary" ng-click="!model.isUpdatingTaxInfo && updateTaxInformation()" >{{\'_Tax_Settings_Button_Update_\' | i18n}}</awsui-button>\n    <awsui-button data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" ng-click="!model.isUpdatingTaxInfo && cancelPreview()">{{\'_Tax_Settings_Cancel_Button_\' | i18n}}</awsui-button>\n</div>\n<div style="margin-top:35px" ng-if="model.isSave">\n    <div style="display:inline-block" ng-switch="model.editingPhase">\n        <div ng-switch-when="0">\n            <span style="margin-left:100px;" class="awsui-icon awsui-icon-biggest tag"></span><span style="font-weight:500" once-text="\'_Tax_Settings_Fapiao_Information_\' | i18n"></span>\n        </div>\n        <div ng-switch-when="1">\n            <span style="margin-left:100px;" class="awsui-icon awsui-icon-biggest tag"></span><span style="font-weight:500" once-text="\'_Tax_Settings_Bank_Information_\' | i18n"></span>\n        </div>\n        <div ng-switch-when="2">\n            <span style="margin-left:100px;" class="awsui-icon awsui-icon-biggest tag"></span><span style="font-weight:500" once-text="\'_Tax_Settings_Mailing_Address_\' | i18n"></span>\n        </div>\n        <div ng-switch-when="3">\n            <span style="margin-left:100px;" class="awsui-icon awsui-icon-biggest upload"></span><span style="font-weight:500" once-text="\'_Tax_Settings_Supporting_Doc_\' | i18n"></span>\n        </div>\n    </div>\n    <awsui-button style="margin-left: 15px" data-disabled="model.isUpdatingTaxInfo" loading="false" icon="" variant="link" ng-click="!model.isUpdatingTaxInfo && toggleState({state:\'editing\'})">{{\'_Tax_Settings_Click_To_Continue_Button_\' | i18n}}</awsui-button>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-status-bar.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=\"tax-settings-status-bar\" ng-if=\"model.invoice.type.value !== 'NONE' && model.invoice.state !== 'ACTIVE'\">\n    <div class=\"tax-settings-status\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\" once-text=\"'_Tax_Settings_Fapiao_Information_' | i18n\"></div>\n    <div ng-show=\"model.invoice.type.value === 'SPECIAL'\" class=\"tax-settings-status\" once-text=\"'_Tax_Settings_Bank_Information_' | i18n\" style=\"width:calc(100%/6)\"></div>\n    <div class=\"tax-settings-status\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\" once-text=\"'_Tax_Settings_Mailing_Address_' | i18n\"></div>\n    <div class=\"tax-settings-status\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\" once-text=\"'_Tax_Settings_Supporting_Doc_' | i18n\"></div>\n    <div class=\"tax-settings-status\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\" once-text=\"'_Tax_Settings_Fapiao_Preview_' | i18n\"></div>\n    <div class=\"tax-settings-status\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\" once-text=\"'_Tax_Settings_Validation_Status_' | i18n\"></div>\n    <div class=\"tax-settings-status-progress\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\">\n        <div class=\"tax-settings-number-circle\" ng-class=\"{'tax-settings-number-circle-blue':model.isEditingTaxInfo && model.editingPhase === 0}\">1</div>\n    </div>\n    <div ng-show=\"model.invoice.type.value === 'SPECIAL'\" class=\"tax-settings-status-progress\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\">\n        <div class=\"tax-settings-number-circle\" ng-class=\"{'tax-settings-number-circle-blue':model.isEditingTaxInfo && model.editingPhase === 1}\">2</div>\n    </div>\n    <div class=\"tax-settings-status-progress\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\">\n        <div class=\"tax-settings-number-circle\" ng-class=\"{'tax-settings-number-circle-blue':model.isEditingTaxInfo && model.editingPhase === 2}\">{{model.invoice.type.value === 'SPECIAL'?3:2}}</div>\n    </div>\n    <div class=\"tax-settings-status-progress\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\">\n        <div class=\"tax-settings-number-circle\" ng-class=\"{'tax-settings-number-circle-blue':model.isEditingTaxInfo && model.editingPhase === 3}\">{{model.invoice.type.value === 'SPECIAL'?4:3}}</div>\n    </div>\n    <div class=\"tax-settings-status-progress\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\">\n        <div class=\"tax-settings-number-circle\" ng-class=\"{'tax-settings-number-circle-blue':model.isPreviewingTaxInfo}\">{{model.invoice.type.value === 'SPECIAL'?5:4}}</div>\n    </div>\n    <div class=\"tax-settings-status-progress\" ng-style=\"{'width':model.invoice.type.value==='COMMON'?'calc(100%/5)':'calc(100%/6)'}\">\n        <div class=\"tax-settings-number-circle\" ng-class=\"{'tax-settings-number-circle-blue':model.invoice.state === 'PENDING'}\">{{model.invoice.type.value === 'SPECIAL'?6:5}}</div>\n    </div>\n    <hr class=\"tax-settings-progress-line\" />\n    <hr style=\"margin-top:20px;width:100%;\" />\n</div>\n")}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/cntax/tax-settings-directives/tax-settings-supporting-doc.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-if="model.isEditingTaxInfo && model.editingPhase === 3">\n    <div class="tax-info-header margin-top-30">\n        <span once-text="\'_Tax_Settings_Supporting_Doc_\' | i18n"></span>\n        <hr />\n    </div>\n    <div class="tax-supporting-doc-text">\n        <span ng-if="model.invoice.type.value ===\'COMMON\'" stype="font-size:16px" once-text="\'_Tax_Settings_Standand_Fapiao_Doc_Hint_Header_\' | i18n"></span>\n        <span ng-if="model.invoice.type.value ===\'SPECIAL\'" stype="font-size:16px" once-text="\'_Tax_Settings_Special_Fapiao_Doc_Hint_Header_\' | i18n"></span>\n        <ul style="margin-left: 50px">\n            <li ng-if="model.invoice.type.value ===\'SPECIAL\'" ng-repeat="hint in taxSettingHintList">{{hint}}</li>\n            <li ng-if="model.invoice.type.value ===\'COMMON\'" ng-repeat="hint in taxSettingHintList | slice:0:1">{{hint}}</li>\n        </ul>\n        <span class="tax-file-size-warning" once-text="\'_Tax_Settings_File_Size_Warning_\' | i18n"></span>\n    </div>\n    <div>\n        <ul>\n            <li ng-repeat="document in model.supportingDocuments track by $index"><a ng-click="download({index:$index,event:$event})">{{document.documentName}}</a>\n                <span class="awsui-icon awsui-icon-big times" ng-click="delete({index:$index})"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="tax-supporting-doc-text" style="margin-bottom:30px;margin-top:30px;">\n        <label>\n            <span style="font-weight:bold" once-text="\'_Tax_Settings_Upload_File_\' | i18n"></span>:</label>\n        <span once-text="\'_Tax_Settings_Choose_A_File_\' | i18n"></span>\n        <input once-text="\'_Tax_Settings_Choose_File_\' | i18n" type="file" id="file" accept="application/pdf,image/jpeg,image/png"></input>\n        <span class="account-info-alert" ng-if="model.isExceedingFileSizeLimit"><i class="awsui-icon alert-exclamation-circle" />\n            <span once-text="\'_Tax_Settings_Exceeding_File_Size_Warning_\' | i18n" /></span>\n        <span class="account-info-alert" ng-if="!model.isInFileNumberLimit"><i class="awsui-icon alert-exclamation-circle" />\n            <span once-text="\'_Tax_Settings_File_Number_Warning_\' | i18n" /></span>\n        <span class="account-info-alert" ng-if="!model.isValidFile"><i class="awsui-icon alert-exclamation-circle" />\n            <span once-text="\'_Tax_Settings_File_Type_Warning_\' | i18n" /> </span>\n        <button style="margin-left:100px" once-text="\'_Tax_Settings_Upload_Button_\' | i18n" ng-click="upload()"></button>\n    </div>\n    <hr />\n</div>\n<div ng-if="!model.isEditingTaxInfo && model.isPreviewingTaxInfo" class="overflow-hidden margin-top-20">\n    <label class="tax-info-label left">\n        <span once-text="\'_Tax_Settings_Supporting_Doc_\' | i18n"></span>:</label>\n    <ul style="margin-left:214px;">\n        <li style="list-style:none;" ng-repeat="document in model.supportingDocuments track by $index"><a ng-click="download({index:$index,event:$event})">{{document.documentName}}</a></li>\n    </ul>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/common/tax-address.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-show=\"address\">\n  {{ address.addressLine1 + (address.addressLine2 ? ' ' + address.addressLine2 : ' ') }} <br/>\n  {{ address.postalCode + ' ' + address.city + (address.state ? ', ' + address.state : '') + ', ' + address.countryCode }}\n  <awsui-tooltip ng-show=\"taxAddressRole\" text=\"{{ taxAddressRole }}\" position=\"right\"><i class=\"awsui-icon  info-circle\"></i></awsui-tooltip>\n</div>\n")}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/confirmation/tax-confirmation-modal.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'  <awsui-modal header="{{ \'_Tax_Settings_Modal_Please_Confirm_\' | i18n }}" size="large" visible="show" dismiss="cancel()">\n\n  <span ng-if="true" dom-region="footer">\n    <awsui-button text="{{ \'_Button_Update_\' | i18n }}" variant="primary" loading="isPending"\n                  class="awsui-util-f-r" click="confirm()"\n                  data-disabled="failures"></awsui-button>\n    <awsui-button text="{{ \'_Button_Cancel_\' | i18n }}" variant="link" class="awsui-util-f-r" click="cancel()"\n                  data-disabled="isPending"></awsui-button>\n  </span>\n\n  <span dom-region="content">\n    <div ng-if="!isPanUpdate">\n\n      <awsui-alert dismissible="false" ng-if="sorChangeText || paymentMethodValidationText">\n        <div ng-if="sorChangeText" ng-bind-html="sorChangeText"/>\n        <div class="margin-top-10" ng-if="paymentMethodValidationText" compile-dynamic-html="paymentMethodValidationText"/>\n      </awsui-alert>\n\n      <div class="margin-bottom-30" ng-if="suggestedAddress">\n        <div class="margin-bottom-10">{{ \'_Address_Suggestion_Prompt_\' | i18n }}</div>\n        <awsui-radio-group ng-model="addressSelection" change="addressChange(addressSelection)">\n          <div class="tax-table">\n            <div class="tax-table-row" display="table-row">\n              <div class="tax-table-cell">\n                <awsui-radio-button value="suggested">\n                <div class="label-text margin-bottom-10"><u>{{ \'_Suggested_Address_Label_\' | i18n }}</u></div>\n                  <tax-address address="suggestedAddress"></tax-address>\n                </awsui-radio-button>\n              </div>\n              <div class="tax-table-cell">\n                <awsui-radio-button value="input">\n                  <div class="label-text margin-bottom-10"><u>{{ \'_Entered_Address_Label_\' | i18n }}</u></div>\n                  <tax-address address="taxRegistration.address"></tax-address>\n                </awsui-radio-button>\n              </div>\n            </div>\n          </div>\n        </awsui-radio-group>\n      </div>\n      <div class="margin-top-30" ng-if="!showProgress && accounts.length > 1">\n        <p>{{ (\'_Tax_Settings_Modal_Confirmation_Msg_\' | i18n).replace(\'{count}\', accounts.length) }}</p>\n      </div>\n    </div>\n\n    <div ng-if="isPanUpdate && !showProgress" >\n      <p>{{ (\'_Tax_Settings_Modal_Change_Pan_Confirmation_Msg_\' | i18n).replace(\'{count}\', accounts.length) }}</p>\n    </div>\n\n    <div ng-show="showProgress">\n      <div class="tax-progress-bar-outter">\n        <div class="tax-progress-bar-inner"\n             ng-style="{ \'width\' : succeededCount/accounts.length * 100 + \'%\' }"></div>\n      </div>\n      <div class="tax-progress-bar-text">\n        {{ (\'_Tax_Settings_Progress_Text_\' | i18n).replace(\'{finished}\', succeededCount).replace(\'{total}\', accounts.length) }}\n      </div>\n    </div>\n\n    <awsui-alert class="margin-top-10" ng-show="failures && failures.length !== 0" type="error" dismissible="false">\n      <div>{{ \'_Tax_Settings_Bulk_Edit_ERROR_\' | i18n }}</div>\n      <div class="margin-top-10">\n        <div ng-repeat="(account, reason) in failures" class="margin-top-10">\n          {{ account + \', \' + (reason === \'BILLING_ADDRESS_NOT_MATCH_TAX_AUTHORITY\' ? (reason | i18n) : (\'_SERVICE_ERROR_\' | i18n)) }}\n        </div>\n      </div>\n    </awsui-alert>\n\n  </span>\n</awsui-modal>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/confirmation/tax-deletion-modal.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<awsui-modal header="{{ \'_Tax_Delete_VAT_Information_Header_\' | i18n }}" visible="show" dismiss="cancel()">\n  <span dom-region="content">\n    <awsui-alert dismissible="false" ng-if="sorChangeText || paymentMethodValidationText">\n      <div ng-if="sorChangeText" ng-bind-html="sorChangeText"/>\n      <div class="margin-top-10" ng-if="paymentMethodValidationText" compile-dynamic-html="paymentMethodValidationText" />\n    </awsui-alert>\n    <p class="margin-top-10" once-text="\'_Tax_Delete_VAT_Information_Content_\' | i18n" />\n  </span>\n  <span dom-region="footer">\n    <awsui-button text="{{ \'_Button_Delete_\' | i18n }}" variant="danger" class="awsui-util-f-r" loading="isPendingUpdate || isPendingPreview" click="confirm()"></awsui-button>\n    <awsui-button text="{{ \'_Button_Cancel_\' | i18n }}" variant="link" class="awsui-util-f-r" click="cancel()" form-action="none" data-disabled="isPendingUpdate"></awsui-button>\n  </span>\n</awsui-modal>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/tax-settings-directives/tax-settings-document-upload-group.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-repeat="entry in vrnVerification.documentUploadEntries" class="document-upload-entry">\n  <awsui-button ng-click="vrnVerification.documentUploadEntries.splice($index, 1);vrnVerification.update()" data-disabled="false" loading="false" icon="times" form-action="none" label="" size="small">\n    {{ \'_Tax_Settings_Remove_File_Button_Text_\' | i18n }}\n  </awsui-button>\n  <span class="entry-filename">{{ entry.name }}</span>\n</div>\n<input document-upload-input id="document-upload-input" class="document-upload-input" name="vrnDocument" type="file" />\n<br ng-if="vrnVerification.documentUploadEntries.length > 0" />\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/tax-settings-directives/tax-settings-existing-documents.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="existing-document-container">\n  <div ng-repeat="document in vrnVerification.uploadedDocuments">\n    <span ng-click="vrnVerification.uploadedDocuments.splice($index, 1);vrnVerification.update()" class="awsui-icon times awsui-icon-has-hover delete-document-action"></span>\n    <a ng-click="vrnVerification.triggerDownload(forAccount, $index)">\n      {{ document.split("/")[2] }}\n    </a>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/tax-settings-directives/tax-settings-table-filter/tax-settings-filter-dropdown.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="tax-filter-dropdown-panel-content">\n  <div class="tax-filter-dropdown-panel-item" ng-repeat="option in taxFilterOptions | filter:keyWord as filteredOption" ng-mouseover="$parent.focusedIndex = $index;"\n  ng-class="{\'focus\': $parent.focusedIndex == $index}" ng-mousedown="addKeyWord(option)" ng-keydown="handleKeyDown($event)">\n    <span ng-bind-html=\'option | highlightSelectedText:keyWord\'></span>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/tax-settings-directives/tax-settings-table-filter/tax-settings-table-filter.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="tax-table-filter-wrapper" style="width:100%">\n  <div class="tax-table-filter-text-box">\n    <span class="tax-table-filter-search-icon awsui-icon search awsui-icon-disabled"/>\n    <div class="tax-table-filter-input-wrapper">\n      <div style="display:flex;padding-top:3px;white-space:nowrap;">\n        <div class="tax-table-filter-tag" ng-repeat="(key, value) in filterCriteria">\n          <span><b>{{key}}</b></span>\n          <span> : </span>\n          <span>{{value}}</span>\n          &nbsp\n          <span class="awsui-icon times-circle awsui-icon-has-hover" ng-click=removeFilterTag(key) style="position:relative;bottom:2px;">\n          </span>\n        </div>\n      </div>\n\n      <div class="tax-table-filter-input-outer">\n        <input type="text" class="tax-table-filter-input" ng-model="keyWord" placeholder="{{\'_Tax_Settings_Filter_Hint_\' | i18n}}"\n         ng-focus="addFocusClass()" ng-blur="removeFocusClass()" ng-keydown="handleKeyDown($event)" ng-click="flipDropDownVisibility()" ng-change="focusedIndex = 0;isDropdownVisible = true;"/>\n      </div>\n    </div>\n    <div class="tax-table-filter-spinner" ng-show="showSpinner()">\n      <span class="awsui-spinner"></span>\n    </div>\n  </div>\n</div>\n<tax-settings-filter-dropdown ng-show="isDropdownVisible"></tax-settings-filter-dropdown>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/natax/tax-settings-na.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div user-authorization="isUserAuthorized" class="tax-widget animation-container" ng-class="{ \'animation-load-contents\': !isLoadingTaxSettings }">\n  <div user-authorization="isUserAuthorizedForPage" class="tax-widget animation-container animation-load-contents awsui-v1">\n\n    <div>\n      <h2 id="TaxSettingsHeader" once-text="\'_TCS_Tax_Settings_Header_\' | i18n"></h2>\n    </div>\n\n    <awsui-alert type="error" dismissible="true" header=" " ng-if="!previewResult.paymentCurrencyValid && previewResult.sorChange">\n      <span class="awsui-icon awsui-icon-big alert-exclamation-circle" compile-dynamic-html="currencyValidationText"></span>\n    </awsui-alert>\n\n    <div aws-if-region-supports="_Account_Tax_Exemption_" class="margin-top-20">\n\n      <div class="margin-bottom-40 margin-top-10">\n\n        <h3 id="TaxSettingsHeader" once-text="\'_TCS_Account_HeaderText_Manage_Tax_\' | i18n"></h3>\n\n        <div class="margin-top-10" style="display:table; width:100%">\n          <div class="tax-button-table-cell" style="display:inline">\n            <awsui-button-dropdown items="getActions(\'taxRegistration\')" data-disabled="isUpdatingPage" item-click="manageTaxRegistration($event)">{{ \'_Tax_Settings_Button_Manage_\' | i18n }}</awsui-button-dropdown>\n            <awsui-button-dropdown items="getActions(\'PAN\')" ng-if="taxStack === \'AISPL\'" data-disabled="isUpdatingPage" item-click="managePAN($event)">{{\'_Tax_Settings_Manage_PAN_Button_\' | i18n }}</awsui-button-dropdown>\n          </div>\n          <awsui-button ng-show="isCSVReady" style="float:right" data-disabled="false" loading="false" icon="" variant="primary" ng-click="generateAndExportCSV()">{{\'_Tax_Settings_Export_To_CSV_Button_\' | i18n }}</awsui-button>\n          <div ng-if="isAccountEnabledForHeritage && multipleAccounts" class="tax-button-table-cell" style="float:right; text-align: center; margin-top: 7px; margin-right: 40px; display:inline; vertical-align: middle;">\n            <span style="font-weight:bold; margin-right: 3px; margin-top: 5px; display:inline;">{{ \'_Tax_Settings_Heritage_Manage_Text_\' | i18n }}</span>\n            <awsui-tooltip ng-if="!enableHeritageToggle || isUpdatingPage || isUpdatingHeritageStatus" text="{{ \'_Tax_Settings_Heritage_Wait_Message_\' | i18n }}" position="right">\n              <awsui-checkbox class="tax-heritage-checkbox" data-disabled="true" checked="isHeritageEnabled" ng-click="$event.preventDefault();"></awsui-checkbox>\n            </awsui-tooltip>\n            <awsui-checkbox ng-if="!(!enableHeritageToggle || isUpdatingPage || isUpdatingHeritageStatus)" style="display:inline;" id="heritageCheckbox" class="tax-heritage-checkbox" checked="isHeritageEnabled" ng-click="manageHeritage();"></awsui-checkbox>\n          </div>\n        </div>\n\n        <div class="tax-table-wrapper">\n          <div class="tax-table-spinner" ng-if="isUpdatingPage">\n            <span class="awsui-spinner"></span>\n          </div>\n\n          <div class="tax-table">\n            <tax-settings-table-filter filter-criteria="filterCriteria" current-page="currentPage" is-c-s-v-ready = "isCSVReady"></tax-settings-table-filter>\n            <div class="tax-table-header-group">\n              <div class="tax-table-row">\n                <div class="tax-table-header" style="width: 44px">\n                  <awsui-checkbox ng-show="linkedAccounts.length > 1 && !isUpdatingPage" checked="selectedAccounts.length !== 0 && selectedAccounts.length === currentModifiableAccounts.length" ng-click="selectAll(); $event.preventDefault()"></awsui-checkbox>\n                </div>\n                <div class="tax-table-header" style="width: 120px" once-text="\'_Tax_Settings_Account_ID_\' | i18n"></div>\n                <div class="tax-table-header" once-text="\'_Tax_Settings_Account_Name_\' | i18n"></div>\n                <div class="tax-table-header" once-text="\'_Tax_Settings_Business_Legal_Name_\' | i18n"></div>\n                <div class="tax-table-header" once-text="\'_Tax_Settings_Tax_Address_\' | i18n"></div>\n                <div class="tax-table-header" once-text="\'_General_Tax_Settings_Registration_Number_\' | i18n"></div>\n                <div class="tax-table-header" style="width: 140px" ng-if="taxStack === \'NA\'" once-text="\'_Tax_Settings_Seller_\' | i18n"></div>\n                <div class="tax-table-header" style="width: 140px" ng-if="taxStack === \'AISPL\'" once-text="\'_Tax_Settings_Abbreviation_PAN_\' | i18n"></div>\n              </div>\n            </div>\n            <div class="tax-table-body" ng-show="!isUpdatingPage">\n              <div class="tax-table-row" ng-repeat="linkedAccountId in currentAccounts" ng-click="selectAccount(linkedAccountId);" ng-class="{\'tax-table-selected-row\' : selectedAccounts.includes(linkedAccountId), \'tax-table-heritage-row\' : !linkedAccountDetails[linkedAccountId].isModifiable}">\n                <div class="tax-table-cell" ng-click="toggleAccount(linkedAccountId); $event.stopPropagation();">\n                  <awsui-tooltip ng-if="!linkedAccountDetails[linkedAccountId].isModifiable" text="{{ \'_Tax_Settings_Heritage_Inherited_Registration_Text_\' | i18n }}" position="right">\n                    <awsui-checkbox data-disabled="true" checked="selectedAccounts.includes(linkedAccountId)" ng-click="$event.preventDefault();"></awsui-checkbox>\n                  </awsui-tooltip>\n                  <awsui-checkbox ng-if="linkedAccountDetails[linkedAccountId].isModifiable" checked="selectedAccounts.includes(linkedAccountId)" ng-click="$event.preventDefault();"></awsui-checkbox>\n                </div>\n                <div class="tax-table-cell">{{ linkedAccountId }}</div>\n                <div class="tax-table-cell">{{ linkedAccountDetails[linkedAccountId].accountName }}</div>\n                <div class="tax-table-cell">\n                  <span ng-show="linkedAccountDetails[linkedAccountId].taxRegistration.legalName">{{ linkedAccountDetails[linkedAccountId].taxRegistration.legalName }}</span>\n                </div>\n                <div class="tax-table-cell">\n                  <tax-address address="linkedAccountDetails[linkedAccountId].taxAddress" tax-address-role="linkedAccountDetails[linkedAccountId].taxAddressRole"></tax-address>\n                </div>\n                <div class="tax-table-cell">\n                  <span ng-show="linkedAccountDetails[linkedAccountId].taxRegistration.registrationId">{{ linkedAccountDetails[linkedAccountId].taxRegistration.registrationId }}</span>\n                  <awsui-tooltip ng-show="linkedAccountDetails[linkedAccountId].taxRegistration.currentStatus === \'Pending\'" text="{{ \'_TCS_Tax_Settings_Registration_Status_Pending_\' | i18n }}" position="right">\n                    <i class="awsui-icon info-circle"></i>\n                  </awsui-tooltip>\n                </div>\n                <div ng-if="taxStack === \'NA\'" class="tax-table-cell">{{ linkedAccountDetails[linkedAccountId].legalEntity }}</div>\n                <div ng-if="taxStack === \'AISPL\'" class="tax-table-cell">{{ linkedAccountDetails[linkedAccountId].customerPAN }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div ng-show="linkedAccounts.length > 1 && !isUpdatingPage" class="tax-table-footer margin-top-10">\n          <awsui-button data-disabled="currentPage==1" icon="angle-double-left" label="First Page" variant="standalone-icon" click="currentPage=1"></awsui-button>\n          <awsui-button data-disabled="currentPage==1" icon="angle-left" label="Previous Page" variant="standalone-icon" click="currentPage=currentPage-1"></awsui-button>\n          <span class="tax-table-page-controller">{{ (\'_Tax_Settings_Table_Footer_\' | i18n).replace(\'{start}\', filteredAccounts.length != 0 ? (currentPage-1) * pageSize + 1 : 0).replace(\'{end}\', currentPage * pageSize > filteredAccounts.length ? filteredAccounts.length : currentPage * pageSize).replace(\'{total}\', filteredAccounts.length) }} </span>\n          <awsui-button data-disabled="currentPage >= filteredAccounts.length/pageSize" icon="angle-right" label="Next Page" variant="standalone-icon" click="currentPage=currentPage+1"></awsui-button>\n          <awsui-button data-disabled="currentPage >= filteredAccounts.length/pageSize" icon="angle-double-right" label="Last Page" variant="standalone-icon" click="currentPage=Math.ceil(filteredAccounts.length/pageSize)"></awsui-button>\n          <span style="float:right;width:150px">\n            <span once-text="\'_Tax_Settings_Rows_\' | i18n"></span>:\n            <awsui-select style="width:60%" items="rowOptions" ng-model="pageSize" data-disabled="false" adjust-width="true"></awsui-select>\n          </span>\n        </div>\n\n        <awsui-modal header="{{\'__Tax_Settings_Manage_PAN_Button_\' | i18n }}" class="tax-modal" size="large" visible="isEditingPanInfo && !isShowingConfirmation" dismiss="reset()">\n            <span dom-region="footer">\n              <awsui-button text="{{ \'_Button_Update_\' | i18n }}" variant="primary" loading="isUpdatingTaxInfo" class="awsui-util-f-r" onclick="document.getElementById(\'submitPANForm\').click();"></awsui-button>\n              <awsui-button text="{{ \'_Button_Cancel_\' | i18n }}" variant="link" class="awsui-util-f-r" click="reset()" form-action="none" data-disabled="isUpdatingTaxInfo"></awsui-button>\n            </span>\n            <span dom-region="content">\n                <form name="panInfoForm" ng-submit="panInfoForm.$valid && updatePAN()">\n                  <awsui-control-group label="{{ \'_Tax_Settings_PAN_\' | i18n }}" validation-message="{{ !panInfoForm.$submitted ? \'\' : panInfoForm.customerPAN.$error.required ? (\'_Field_Required_\' | i18n) :\n                  panInfoForm.customerPAN.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : panInfoForm.customerPAN.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) :\n                  panInfoForm.customerPAN.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : panInfoForm.customerPAN.$error.invalidPan ? (\'_Invalid_PAN_\' | i18n) : \'\' }}">\n                    <awsui-textfield name="customerPAN" ng-model="panInfo.customerPAN" character-limit="50" validate-characters-apostrophe-ok validate-latin-characters required validate-pan-number></awsui-textfield>\n                  </awsui-control-group>\n                  <button type="submit" id="submitPANForm" style="display: none;" ng-init="$parent.panInfoForm=panInfoForm" />\n                </form>\n            </span>\n        </awsui-modal>\n\n        <awsui-modal header="{{ \'_Tax_Settings_Button_Manage_\' | i18n }}" class="tax-modal" size="large" visible="isEditingTaxInfo && !isShowingConfirmation" dismiss="reset()">\n          <span dom-region="footer">\n            <awsui-button text="{{ \'_Button_Update_\' | i18n }}" variant="primary" loading="isUpdatingTaxInfo || isPendingPreview || isPendingAddressValidation" class="awsui-util-f-r" onclick="document.getElementById(\'submitTaxForm\').click();"></awsui-button>\n            <awsui-button text="{{ \'_Button_Cancel_\' | i18n }}" variant="link" class="awsui-util-f-r" click="reset()" form-action="none" data-disabled="isUpdatingTaxInfo"></awsui-button>\n          </span>\n          <span dom-region="content">\n            <form name="taxInfoForm" novalidate ng-submit="taxInfoForm.$valid && updateTaxRegistration()">\n              <awsui-alert id="setRegistrationError" ng-if="setTaxRegistrationError" type="error">{{setTaxRegistrationError}}</awsui-alert>\n              <awsui-control-group ng-show="accountsToUpdate.length === 1" label="{{ \'_Tax_Settings_Account_ID_\' | i18n }}">\n                <span>{{ accountsToUpdate[0] }}</span>\n              </awsui-control-group>\n\n              <awsui-control-group label="{{ \'_Tax_Settings_Country_\' | i18n }}" validation-message="{{ taxInfoForm.$submitted && taxInfoForm.taxCountry.$error.required ? (\'_Field_Required_\' | i18n) : \'\' }}"\n                                   detail="{{ \'_Tax_Settings_Unsupported_Country_Info_\' | i18n }}">\n                <awsui-select name="taxCountry" items="taxAuthorities" adjust-width="false" ng-model="taxInfo.taxRegistration.authority.country" required change="changeCountry(taxInfo)"></awsui-select>\n              </awsui-control-group>\n\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country === \'IN\'" label="{{ \'_Tax_Settings_State_\' | i18n }}" validation-message="{{ taxInfoForm.$submitted && taxInfoForm.taxState.$error.required ? (\'_Field_Required_\' | i18n) : \'\' }}">\n                <awsui-select name="taxState" items="indiaStatesDropdown" adjust-width="false" ng-model="taxInfo.taxRegistration.authority.state" required change="changeCountry(taxInfo)"></awsui-select>\n              </awsui-control-group>\n\n              <awsui-control-group ng-show="vrnVerification.isLocalVATRegistrationCountry(taxInfo.taxRegistration.authority.country)" label="{{ \'_Tax_Settings_Registration_Type_\' | i18n }}" validation-message="{{ taxInfoForm.$submitted && taxInfoForm.isLocal.$error.required ? (\'_Field_Required_\' | i18n) : \'\' }}" detail="{{ \'_Tax_Settings_Intra_EU_Registration_Type_\' | i18n }} {{ \'_Tax_Settings_Local_Registration_Type_\' | i18n }}">\n                <awsui-radio-group name="isLocal" data-ng-model="taxInfo.taxRegistration.isLocalTaxRegistration" ng-required="vrnVerification.isLocalVATRegistrationCountry(taxInfo.taxRegistration.authority.country)">\n                  <awsui-radio-button value="false" label="{{ \'_Tax_Settings_Intra_EU_Registration_\' | i18n }}"></awsui-radio-button>\n                  <awsui-radio-button value="true" label="{{ \'_Tax_Settings_Local_Registration_\' | i18n }}"></awsui-radio-button>\n                </awsui-radio-group>\n              </awsui-control-group>\n\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country === \'IT\'" label="{{\'_Tax_Settings_SDI_Account_ID_\' | i18n}}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.customerSDI.$error.invalidSdi ? (\'_Tax_Settings_Invalid_SDI_Account_ID_\' | i18n) : taxInfoForm.customerSDI.$error.requiredSdiAndEmail ? (\'_Tax_Settings_Email_SDI_Or_Account_ID_Required_\' | i18n) : \'\' }}" detail="{{\'_Tax_Settings_SDI_Instruction_\' | i18n}}">\n                <awsui-textfield ng-if="!showSDIAccount && taxInfo.taxRegistration.customerSDI" data-disabled="true" type="text" value="*******"></awsui-textfield>\n                <awsui-textfield ng-if= "showSDIAccount || !taxInfo.taxRegistration.customerSDI" name="customerSDI" type="text" ng-model="taxInfo.taxRegistration.customerSDI" check-sdi-unnecessity validate-sdi-number placeholder="1234567/123456" certified-email="{{taxInfo.taxRegistration.certifiedEmail}}"></awsui-textfield>\n                <awsui-checkbox ng-model="showSDIAccount" data-disabled="!taxInfo.taxRegistration.customerSDI" ng-init="showSDIAccount = !taxInfo.taxRegistration.customerSDI">{{\'_Tax_Settings_Show_SDI_Account_Id_\' | i18n}}</awsui-checkbox>\n              </awsui-control-group>\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country === \'IT\'" label="{{\'_Tax_Settings_Certified_Email_Address_\' | i18n}}"\n              validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.certifiedEmail.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.certifiedEmail.$error.invalidEmail ? (\'_Tax_Settings_Invalid_Email_\' | i18n) : taxInfoForm.certifiedEmail.$error.requiredSdiAndEmail ? (\'_Tax_Settings_Email_SDI_Or_Account_ID_Required_\' | i18n) : \'\' }}" detail="{{\'_Tax_Settings_Certified_Email_Instruction_\' | i18n}}">\n                <awsui-textfield name="certifiedEmail" type="text" ng-model="taxInfo.taxRegistration.certifiedEmail" validate-characters-apostrophe-ok validate-email check-email-unnecessity placeholder="example@domain.com" customer-sdi="{{taxInfo.taxRegistration.customerSDI}}" ng-keyup="console.log(taxInfoForm.customerSDI.$error)"></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group label="{{ getVRNLabel(taxInfo.taxRegistration.authority.country) }}" instructional="{{ getInstruction(taxInfo.taxRegistration.authority.country) }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.taxId.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.taxId.$error.armeniaNonBusiness ? (\'_Armenia_Non_Business_TRN\' | i18n) : taxInfoForm.taxId.$error.invalidTaxNumber ? (\'_TCS_INVALID_TAX_REGISTRATION_NUMBER_\' | i18n) : taxInfoForm.taxId.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : \'\' }}">\n                <awsui-textfield name="taxId" type="text" ng-model="taxInfo.taxRegistration.registrationId" required validate-characters-apostrophe-ok validate-tax-number placeholder="{{ getTaxRegistrationPlaceholder(taxInfo.taxRegistration.authority.country) }}" tax-country="{{ taxInfo.taxRegistration.authority.country }}"></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group ng-if="vrnVerification.shouldShowVrnUpload(taxInfo.taxRegistration)"\n              instructional="{{ (\'_Tax_Settings_Documentation_Upload_Instruction_\' | i18n).replace(\'{maximumFileSize}\', (vrnVerification.maximumFileSize / (1000 * 1000)) ).replace(\'{fileTypes}\', vrnVerification.acceptedFileTypes.join(\', \')) }}"\n              label="{{ \'_Tax_Settings_Registration_Documentation_Upload_\' | i18n }}"\n              detail="{{ vrnVerification.documentationTooltip(taxInfo.taxRegistration) }}"\n              validation-message="{{ taxInfoForm.$submitted && taxInfoForm.isDocumentsUploaded.$error.required ? (\'_Field_Required_\' | i18n) : \'\' }}">\n\n              <b>{{ \'_Tax_Settings_Registration_Documentation_Uploaded_Header_\' | i18n }}</b><hr />\n                <awsui-textfield name="isDocumentsUploaded" ng-model="vrnVerification.isDocumentsUploaded" type="text" style="display: none;" ng-required="vrnVerification.isDocumentsUploadRequired(taxInfo.taxRegistration)"></awsui-textfield>\n                <span ng-if="vrnVerification.uploadedDocuments.length == 0">{{ \'_Tax_Settings_No_Documents_Uploaded_\' | i18n }}</span>\n\n                <existing-documents for-account="{{ taxInfo.accounts[0] }}" vrn-verification="vrnVerification"></existing-documents>\n                <br />\n                <div ng-if="vrnVerification.maximumNumDocuments > vrnVerification.uploadedDocuments.length">\n                  <document-upload-group ng-if="vrnVerification.maximumNumDocuments >= vrnVerification.uploadedDocuments.length"></document-upload-group>\n                  <awsui-button ng-if="vrnVerification.documentUploadEntries.length < vrnVerification.maximumNumDocuments - vrnVerification.uploadedDocuments.length" ng-click="vrnVerification.triggerUpload()" data-disabled="false" loading="false" icon="plus-circle" form-action="none" label="" size="small" variant="primary">\n                    {{ \'_Tax_Settings_Add_File_Button_Text_\' | i18n }}\n                  </awsui-button>\n                </div>\n                <span ng-show="vrnVerification.documentUploadEntries.length >= vrnVerification.maximumNumDocuments - vrnVerification.uploadedDocuments.length">{{ \'_Tax_Settings_Maximum_Number_Documents_\' | i18n}}</span>\n                <span class="document-validation-error" id="document-maximum-file-size"><br /><i class="awsui-icon alert-exclamation-circle" />&nbsp;{{ (\'_Tax_Settings_Maximum_File_Size_\' | i18n).replace(\'{maximumFileSize}\', vrnVerification.maximumFileSize / (1000 * 1000)) }}</span>\n                <span class="document-validation-error" id="document-incorrect-file-type"><br /><i class="awsui-icon alert-exclamation-circle" />&nbsp;{{ (\'_Tax_Settings_Incorrect_File_Type_\' | i18n).replace(\'{fileTypes}\', vrnVerification.acceptedFileTypes.join(\', \')) }}</span>\n              </awsui-control-group>\n\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country !== \'IT\'" label="{{ \'_Tax_Settings_Business_Legal_Name_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.legalName.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.legalName.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.legalName.$error.invalidCharacters ? (\'_Tax_Invalid_Business_Legal_Name_Characters_\' | i18n) : taxInfoForm.legalName.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="legalName" ng-model="taxInfo.taxRegistration.legalName" character-limit="256" validate-latin-characters validate-business-legal-name required></awsui-textfield>\n              </awsui-control-group>\n\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country === \'IT\'" label="{{ \'_Tax_Settings_Business_Legal_Name_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.legalName.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.legalName.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.legalName.$error.invalidCharactersForItaly ? (\'_Tax_Invalid_Italy_Business_Legal_Name_Characters_\' | i18n) : taxInfoForm.legalName.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="legalName" ng-model="taxInfo.taxRegistration.legalName" character-limit="80" validate-latin-characters validate-italy-business-legal-name required></awsui-textfield>\n              </awsui-control-group>\n\n              <span class="tax-modal-address-label">{{ \'_Tax_Settings_Business_Legal_Address_\' | i18n }}</span>\n\n              <awsui-control-group ng-if="taxStack === \'NA\'" label="" ng-show="linkedAccountDetails[taxInfo.accountId].billingAddress.countryCode === taxInfo.taxRegistration.authority.country || linkedAccountDetails[taxInfo.accountId].contactAddress.countryCode === taxInfo.taxRegistration.authority.country">\n                <awsui-radio-group ng-show="taxInfo.taxRegistration.addressType" ng-model="taxInfo.taxRegistration.addressType" change="selectAddress(taxInfo)">\n                  <awsui-radio-button value="billing" label="{{ \'_Tax_Settings_Billing_Address_\' | i18n }}" ng-show="linkedAccountDetails[taxInfo.accountId].billingAddress.countryCode === taxInfo.taxRegistration.authority.country"></awsui-radio-button>\n                  <awsui-radio-button value="contact" label="{{ \'_Tax_Settings_Contact_Address_\' | i18n }}" ng-show="linkedAccountDetails[taxInfo.accountId].contactAddress.countryCode === taxInfo.taxRegistration.authority.country"></awsui-radio-button>\n                  <awsui-radio-button value="new" label="{{ \'_Tax_Settings_New_Address_\' | i18n }}"></awsui-radio-button>\n                </awsui-radio-group>\n              </awsui-control-group>\n\n              <awsui-control-group label="{{ \'_Tax_Settings_Country_\' | i18n }}" detail="{{ \'_Tax_Settings_Edit_Address_Country_Tooltip_\' | i18n }}">\n                <awsui-select name="countryCode" items="taxAuthorities" data-disabled="true" adjust-width="false" ng-model="taxInfo.taxRegistration.address.countryCode"></awsui-select>\n              </awsui-control-group>\n              <awsui-control-group label="{{ \'_Tax_Settings_Label_Address_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.addressLine1.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.addressLine1.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.addressLine1.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.addressLine1.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="addressLine1" ng-model="taxInfo.taxRegistration.address.addressLine1" character-limit="50" validate-characters-apostrophe-ok validate-latin-characters required></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group label="" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.addressLine2.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.addressLine2.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.addressLine2.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="addressLine2" ng-model="taxInfo.taxRegistration.address.addressLine2" character-limit="50" validate-characters-apostrophe-ok validate-latin-characters></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country !== \'IT\'" label="{{ \'_Tax_Settings_Zip_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.postalCode.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.postalCode.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.postalCode.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.postalCode.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="postalCode" ng-model="taxInfo.taxRegistration.address.postalCode" character-limit="10" validate-characters validate-latin-characters required></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country === \'IT\'" label="{{ \'_Tax_Settings_Zip_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.postalCode.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.postalCode.$error.fieldLength ? (\'_Character_Length_Error_\' | i18n) : taxInfoForm.postalCode.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.postalCode.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="postalCode" ng-model="taxInfo.taxRegistration.address.postalCode" field-length="5" validate-characters validate-latin-characters required></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group label="{{ \'_Tax_Settings_City_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.city.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.city.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.city.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.city.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="city" ng-model="taxInfo.taxRegistration.address.city" character-limit="50" validate-characters-apostrophe-ok validate-latin-characters required></awsui-textfield>\n              </awsui-control-group>\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country === \'IN\'" label="{{ \'_Tax_Settings_State_\' | i18n }}" validation-message="{{ taxInfoForm.$submitted && taxInfoForm.state.$error.required ? (\'_Field_Required_\' | i18n) : \'\' }}">\n                <awsui-select name="state" items="getIndiaStatesDropdown(taxInfo)" adjust-width="false" ng-model="taxInfo.taxRegistration.address.state" required change="changeState(taxInfo)"></awsui-select>\n              </awsui-control-group>\n              <awsui-control-group ng-if="taxInfo.taxRegistration.authority.country !== \'IN\'" label="{{ \'_Tax_Settings_State_\' | i18n }}" validation-message="{{ !taxInfoForm.$submitted ? \'\' : taxInfoForm.state.$error.required ? (\'_Field_Required_\' | i18n) : taxInfoForm.state.$error.characterLimit ? (\'_Character_Limit_Exceeded_\' | i18n) : taxInfoForm.state.$error.invalidCharacters ? (\'_Invalid_Characters_Apostrophe_Ok_\' | i18n) : taxInfoForm.state.$error.hasNonLatinCharacters ? (\'_Non_Latin_Characters_\' | i18n) : \'\' }}">\n                <awsui-textfield name="state" ng-model="taxInfo.taxRegistration.address.state" character-limit="50" validate-characters validate-latin-characters require-state="taxInfo.taxRegistration.address.countryCode"></awsui-textfield>\n              </awsui-control-group>\n              <button type="submit" id="submitTaxForm" style="display: none;" ng-init="$parent.taxInfoForm=taxInfoForm" />\n            </form>\n          </span>\n        </awsui-modal>\n        <awsui-modal header="{{ heritageMessageMap[isHeritageEnabled] }}" class="tax-modal" size="small" visible="isModalEnabled && isUpdatingHeritageStatus" dismiss="reset();">\n            <span dom-region="footer">\n              <awsui-button text="{{ \'_Button_Continue_\' | i18n }}" variant="primary" class="awsui-util-f-r" click="toggleHeritage()"></awsui-button>\n              <awsui-button text="{{ \'_Button_Cancel_\' | i18n }}" variant="link" class="awsui-util-f-r" click="reset()" form-action="none"></awsui-button>\n            </span>\n            <div dom-region="content">\n                <div ng-if="!isHeritageEnabled" compile-dynamic-html="\'_Tax_Settings_Heritage_Enable_Message_\' | i18n"></div>\n                <div ng-if="isHeritageEnabled" compile-dynamic-html="\'_Tax_Settings_Heritage_Disable_Message_\' | i18n"></div>\n            </div>\n        </awsui-modal>\n\n        <tax-deletion-modal show="isDeletingTaxInfo" is-pending-preview="isPendingPreview"\n                            sor-change-text="sorChangeText" payment-method-validation-text="paymentMethodValidationText"\n                            on-cancel="reset()" on-confirm="deleteTaxRegistration()"></tax-deletion-modal>\n\n        <tax-confirmation-modal show="isShowingConfirmation" accounts="accountsToUpdate" succeeded-count="succeededCount"\n                                failures="failures" is-pan-update="isEditingPanInfo"\n                                sor-change-text="sorChangeText" payment-method-validation-text="paymentMethodValidationText"\n                                suggested-address="suggestedAddress" tax-registration="taxInfo.taxRegistration"\n                                on-cancel="cancelChange()" on-confirm="confirmChange()"></tax-confirmation-modal>\n      </div>\n\n\n      <div ng-if="taxStack === \'NA\'" class="margin-bottom-40 margin-top-10">\n        <h3 id="TaxSettingsHeader" once-text="\'_ACCOUNT_ATEP_TITLE_\' | i18n"></h3>\n        <div class="margin-top-5">\n          <a target="_blank" href="https://console.aws.amazon.com/support/home#/case/create?issueType=customer-service&serviceCode=billing&categoryCode=us-sales-tax-exemption"> {{ \'_ACCOUNT_ENROLL_EXEMPTIONS_\' | i18n }}\n            <span class="awsui-icon external-link awsui-icon-link" />\n          </a>\n        </div>\n        <div class="margin-top-5">\n          <a target="_blank" ng-href="https://www.amazon.com/ap/signin?_encoding=UTF8&openid.assoc_handle={{assoc_handle}}&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&openid.pape.max_auth_age=0&openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fgp%2FtaxExemption">{{ \'_ACCOUNT_MANAGE_EXEMPTIONS_\' | i18n }}\n            <span class="awsui-icon external-link awsui-icon-link" />\n          </a>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/tax-settings.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-switch on="region">\n    \x3c!-- <aispltax ng-switch-when="AISPL"></aispltax> --\x3e\n    <cntax ng-switch-when="CN"></cntax>\n    \x3c!--  NA stack is default --\x3e\n    <natax ng-switch-default></natax>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/warning-messages/address-length-exceeded.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="modal-header">\n    <h3 once-text="\'_Tax_Settings_Address_Warning_Header_\' | i18n"></h3>\n</div>\n<div class="modal-body">\n    <p once-text="\'_Tax_Settings_Address_Warning_Description_\' | i18n"></p>\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary" ng-click="close()" once-text="\'_Tax_Settings_Address_Warning_Done_\' | i18n"></button>\n</div>')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax-settings/warning-messages/tax-cn-fapiao-helptext.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="modal-header">\n    <h3 ng-show="invoiceType === \'SPECIAL\'" once-text="\'_Special_Invoice_Type_Header_\' | i18n"></h3>\n    <h3 ng-show="invoiceType === \'COMMON\'" once-text="\'_Standard_Invoice_Type_Header_\' | i18n"></h3>\n</div>\n<div class="modal-body">\n    <p ng-show="invoiceType === \'SPECIAL\'" once-text="\'_Invoice_Type_Special_Popup_\' | i18n"></p>\n    <p ng-show="invoiceType === \'COMMON\'" once-text="\'_Invoice_Type_Standard_Popup_\' | i18n"></p>\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary" ng-click="close()" once-text="\'_Invoice_Type_Popup_Done_\' | i18n"></button>\n</div>')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/tax.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="plutonium aws-billing-console-root awsui-v1-root aws-billing-console-tax-root">\n  <div class="row-fluid">\n    <span ng-if="!loaded" class="tax-spinner"></span>\n    <div ng-if="loaded" ng-view></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/vendor/angular-ui/modal/backdrop.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>\n')}]),e.exports=n},function(e,t){var n="/aws-billing-console/tax/vendor/angular-ui/modal/window.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude></div>')}]),e.exports=n},function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=i(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)o.call(n,u)&&(c[u]=n[u]);if(a){s=a(n);for(var d=0;d<s.length;d++)r.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}},function(e,t,n){"use strict";function i(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[o(t,e),"[",i,"]"].join(""):[o(t,e),"[",o(i,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}function a(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(i[e]=n);void 0===i[e]&&(i[e]={}),i[e][t[1]]=n};case"bracket":return function(e,n,i){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===i[e]?void(i[e]=[n]):void(i[e]=[].concat(i[e],n)):void(i[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function o(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function r(e){return Array.isArray(e)?e.sort():"object"==typeof e?r(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(214),c=n(211),l=n(89);t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){t=c({arrayFormat:"none"},t);var n=a(t),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:l(o),n(l(a),o,i)}),Object.keys(i).sort().reduce(function(e,t){var n=i[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=r(n):e[t]=n,e},Object.create(null))):i},t.stringify=function(e,t){t=c({encode:!0,strict:!0,arrayFormat:"none"},t);var n=i(t);return e?Object.keys(e).sort().map(function(i){var a=e[i];if(void 0===a)return"";if(null===a)return o(i,t);if(Array.isArray(a)){var r=[];return a.slice().forEach(function(e){void 0!==e&&r.push(n(i,e,r.length))}),r.join("&")}return o(i,t)+"="+o(a,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[c]=i,s(c),c++}function a(e){delete l[e]}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function r(e){if(u)setTimeout(r,0,e);else{var t=l[e];if(t){u=!0;try{o(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var s,c=1,l={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){r(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&r(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){r(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){r(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(r,0,e)}}(),p.setImmediate=i,p.clearImmediate=a}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(16),n(40))},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){(function(e){function i(e,t){this._id=e,this._clearFn=t}var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new i(o.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(213),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(16))},function(e,t){e.exports=[{code:"AP",name:"Andhra Pradesh",tin:"37"},{code:"AR",name:"Arunachal Pradesh",tin:"12"},{code:"AS",name:"Assam",tin:"18"},{code:"BR",name:"Bihar",tin:"10"},{code:"CT",name:"Chhattisgarh",tin:"22"},{code:"GA",name:"Goa",tin:"30"},{code:"GJ",name:"Gujarat",tin:"24"},{code:"HR",name:"Haryana",tin:"06"},{code:"HP",name:"Himachal Pradesh",tin:"02"},{code:"JK",name:"Jammu and Kashmir",tin:"01"},{code:"JH",name:"Jharkhand",tin:"20"},{code:"KA",name:"Karnataka",tin:"29"},{code:"KL",name:"Kerala",tin:"32"},{code:"MP",name:"Madhya Pradesh",tin:"23"},{code:"MH",name:"Maharashtra",tin:"27"},{code:"MN",name:"Manipur",tin:"14"},{code:"ML",name:"Meghalaya",tin:"17"},{code:"MZ",name:"Mizoram",tin:"15"},{code:"NL",name:"Nagaland",tin:"13"},{code:"OR",name:"Odisha",tin:"21"},{code:"PB",name:"Punjab",tin:"03"},{code:"RJ",name:"Rajasthan",tin:"08"},{code:"SK",name:"Sikkim",tin:"11"},{code:"TN",name:"Tamil Nadu",tin:"33"},{code:"TG",name:"Telangana",tin:"36"},{code:"TR",name:"Tripura",tin:"16"},{code:"UT",name:"Uttarakhand",tin:"05"},{code:"UP",name:"Uttar Pradesh",tin:"09"},{code:"WB",name:"West Bengal",tin:"19"},{code:"AN",name:"Andaman and Nicobar Islands",tin:"35"},{code:"CH",name:"Chandigarh",tin:"04"},{code:"DN",name:"Dadra and Nagar Haveli",tin:"26"},{code:"DD",name:"Daman and Diu",tin:"25"},{code:"DL",name:"Delhi",tin:"07"},{code:"LD",name:"Lakshadweep",tin:"31"},{code:"PY",name:"Puducherry",tin:"34"}]},function(e,t){e.exports=[{code:"AF"},{code:"AX"},{code:"AL"},{code:"DZ"},{code:"AS"},{code:"AD"},{code:"AO"},{code:"AI"},{code:"AQ"},{code:"AG"},{code:"AR"},{code:"AM"},{code:"AW"},{code:"AU"},{code:"AT"},{code:"AZ"},{code:"BS"},{code:"BH"},{code:"BD"},{code:"BB"},{code:"BY"},{code:"BE"},{code:"BZ"},{code:"BJ"},{code:"BM"},{code:"BT"},{code:"BO"},{code:"BQ"},{code:"BA"},{code:"BW"},{code:"BV"},{code:"BR"},{code:"IO"},{code:"BN"},{code:"BG"},{code:"BF"},{code:"BI"},{code:"KH"},{code:"CM"},{code:"CA"},{code:"CV"},{code:"KY"},{code:"CF"},{code:"TD"},{code:"CL"},{code:"CN"},{code:"CX"},{code:"CC"},{code:"CO"},{code:"KM"},{code:"CG"},{code:"CD"},{code:"CK"},{code:"CR"},{code:"CI"},{code:"HR"},{code:"CW"},{code:"CY"},{code:"CZ"},{code:"DK"},{code:"DJ"},{code:"DM"},{code:"DO"},{code:"EC"},{code:"EG"},{code:"SV"},{code:"GQ"},{code:"ER"},{code:"EE"},{code:"ET"},{code:"FK"},{code:"FO"},{code:"FJ"},{code:"FI"},{code:"FR"},{code:"GF"},{code:"PF"},{code:"TF"},{code:"GA"},{code:"GM"},{code:"GE"},{code:"DE"},{code:"GH"},{code:"GI"},{code:"GR"},{code:"GL"},{code:"GD"},{code:"GP"},{code:"GU"},{code:"GT"},{code:"GG"},{code:"GN"},{code:"GW"},{code:"GY"},{code:"HT"},{code:"HM"},{code:"VA"},{code:"HN"},{code:"HK"},{code:"HU"},{code:"IS"},{code:"IN"},{code:"ID"},{code:"IQ"},{code:"IE"},{code:"IM"},{code:"IL"},{code:"IT"},{code:"JM"},{code:"JP"},{code:"JE"},{code:"JO"},{code:"KZ"},{code:"KE"},{code:"KI"},{code:"KR"},{code:"KW"},{code:"KG"},{code:"LA"},{code:"LV"},{code:"LB"},{code:"LS"},{code:"LR"},{code:"LY"},{code:"LI"},{code:"LT"},{code:"LU"},{code:"MO"},{code:"MK"},{code:"MG"},{code:"MW"},{code:"MY"},{code:"MV"},{code:"ML"},{code:"MT"},{code:"MH"},{code:"MQ"},{code:"MR"},{code:"MU"},{code:"YT"},{code:"MX"},{code:"FM"},{code:"MD"},{code:"MC"},{code:"MN"},{code:"ME"},{code:"MS"},{code:"MA"},{code:"MZ"},{code:"MM"},{code:"NA"},{code:"NR"},{code:"NP"},{code:"NL"},{code:"NC"},{code:"NZ"},{code:"NI"},{code:"NE"},{code:"NG"},{code:"NU"},{code:"NF"},{code:"MP"},{code:"NO"},{code:"OM"},{code:"PK"},{code:"PW"},{code:"PS"},{code:"PA"},{code:"PG"},{code:"PY"},{code:"PE"},{code:"PH"},{code:"PN"},{code:"PL"},{code:"PT"},{code:"PR"},{code:"QA"},{code:"RE"},{code:"RO"},{code:"RU"},{code:"RW"},{code:"BL"},{code:"SH"},{code:"KN"},{code:"LC"},{code:"MF"},{code:"PM"},{code:"VC"},{code:"WS"},{code:"SM"},{code:"ST"},{code:"SA"},{code:"SN"},{code:"RS"},{code:"SC"},{code:"SL"},{code:"SG"},{code:"SX"},{code:"SK"},{code:"SI"},{code:"SB"},{code:"SO"},{code:"ZA"},{code:"GS"},{code:"SS"},{code:"ES"},{code:"LK"},{code:"SR"},{code:"SJ"},{code:"SZ"},{code:"SE"},{code:"CH"},{code:"TW"},{code:"TJ"},{code:"TZ"},{code:"TH"},{code:"TL"},{code:"TG"},{code:"TK"},{code:"TO"},{code:"TT"},{code:"TN"},{code:"TR"},{code:"TM"},{code:"TC"},{code:"TV"},{code:"UG"},{code:"UA"},{code:"AE"},{code:"GB"},{code:"US"},{code:"UM"},{code:"UY"},{code:"UZ"},{code:"VU"},{code:"VE"},{code:"VN"},{code:"VG"},{code:"VI"},{code:"WF"},{code:"EH"},{code:"YE"},{code:"ZM"},{code:"ZW"}]},function(e,t){e.exports={AT:"ATU12345678 or 123456789",BE:"BE1234567890",BG:"BG123456789 or BG1234567890",HR:"HR12345678901",CY:"CY12345678A",CZ:"CZ12345678 or CZ1234567890",DK:"DK12345678",EE:"EE123456789",FI:"FI12345678",FR:"FRXX123456789",DE:"DE123456789",GR:"EL123456789",HU:"HU12345678",IE:"IE1234567A or IE1234567AB",IT:"IT12345678901",LV:"LV12345678901",LT:"LT123456789 or LT123456789012",LU:"LU12345678",MT:"MT12345678",NL:"NL123456789B12",PL:"PL1234567890",PT:"PT123456789",RO:"RO1234567890",SK:"SK1234567890",SI:"SI12345678",ES:"ES12345678A or ESA1234567X",SE:"SE123456789012",GB:"GB123456789 or GBGD123",LI:"12345",CH:"123456 or CHE-123.456.789MWST",NO:"1234567MVA or NO123456789MVA",IS:"123456",BY:"123456789",AL:"A12345678B",RS:"123456789",TR:"1234567890",BD:"123456789 or 12345678901",SG:"1234567890",KR:"KR123-12-12345",NZ:"12345678 or 123456789",TW:"12345678",SA:"1234567890 or 123456789012345",AE:"1234567890 or 123456789012345",IL:"123456789",RU:"1234567890123 or 123456789012345",AU:"12 123 456 789",IN:"12AAAAA0000AXXX",AM:"01234567",BH:"123456789012345",ZA:"1234567890"}},function(e,t){e.exports={supportedCountries:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],localVATsupportedCountries:["ES"],maximumNumDocuments:5,maximumFileSize:5e6,acceptedFileTypes:[".doc",".docx",".pdf",".jpg",".png",".odt"]}},function(e,t){e.exports=[{key:"_Tax_Button_Add_",value:"Add",description:"Add Button Text"},{key:"_Tax_VAT_Information_",value:"VAT Information",description:"Static text VAT Information"},{key:"_TCS_GTCS_CONTACT_CS_",value:"This account is in an invalid state for VAT Tax Registration, please contact customer support.",description:""},{key:"_BD_Tax_Settings_Registration_Number_",value:"BIN / VAT Registration Number",description:"Vat registration label"},{key:"_BH_Tax_Settings_Registration_Number_",value:"VAT Account Number",description:"Vat registration label"},{key:"_KR_Tax_Settings_Registration_Number_",value:"Business Registration Number",description:"Vat registration label"},{key:"_SG_Tax_Settings_Registration_Number_",value:"GST Registration Number",description:"Vat registration label"},{key:"_NZ_Tax_Settings_Registration_Number_",value:"GST Registration Number",description:"Vat registration label"},{key:"_TCS_Tax_Settings_Registration_Status_",value:"Registration Status",description:"The status of the VAT Registration"},{key:"_Account_Manage_Tax_other_",value:"Tax Registration Numbers",description:"Title"},{key:"_TCS_Tax_Settings_Registration_Status_Verified_",value:"Verified",description:"Verified status of the Tax Exemptions Registration"},{key:"_TCS_Tax_Settings_Registration_Status_Pending_",value:"Pending",description:"Pending status of the Tax Exemptions Registration"},{key:"_TCS_Tax_Table_Header_",value:"Tax Registration Numbers",description:"Static text "},{key:"_TCS_Tax_Settings_Legal_Message_",value:"Please be advised, previously submitted tax registration numbers that have been rejected or are no longer in effect cannot be displayed. If you believe your tax registration number has been rejected in error, please contact AWS Customer Service via the Support Center: [http://aws.amazon.com/contact-us/ http://aws.amazon.com/contact-us/]. In addition, please allow three to four days for new tax number registrations to take effect.",description:"Legal message to be displayed to customers setting their VAT information."},{key:"_TCS_Account_HeaderText_Manage_Tax_",value:"Manage Tax Registration Numbers",description:"Title"},{key:"_RU_Tax_Settings_Registration_Number_",value:"SRN/SRNIE Registration Number",description:"Vat registration label"},{key:"_TCS_Tax_Settings_Header_",value:"Tax Settings",description:""},{key:"_Tax_Account_ContactInformation_Address_",value:"Address",description:"Label for Contact Information - Address"},{key:"_Tax_Account_ContactInformation_State_",value:"State",description:"Label for Contact Information - State"},{key:"_TCS_INVALID_TAX_REGISTRATION_NUMBER_",value:"Incorrect tax registration number format. Please modify.",description:""},{key:"_BILLING_ADDRESS_NOT_MATCH_TAX_AUTHORITY_",value:"The Tax Registration Number that you are attempting to add to your account does not match the country of your billing address. Please change your billing address in order to add your Tax Registration Number from India.",description:""},{key:"_Tax_Delete_VAT_Information_Header_",value:"Delete Tax Registration",description:"Tax registration delete popup header"},{key:"_Tax_Delete_VAT_Information_Content_",value:"Are you sure you want to remove this tax registration number from your account?",description:"Tax registration delete popup content"},{key:"_General_Tax_Settings_Registration_Number_",value:"Tax Registration Number",description:"Reports page header text"},{key:"_RS_Tax_Settings_Registration_Number_",value:"VAT Registration Number",description:"Vat registration label"},{key:"_TIN_Tax_Settings_Registration_Number_",value:"Tax Identification Number",description:"Vat registration label"},{key:"_TW_Tax_Settings_Registration_Number_",value:"Unified Business Number",description:"Vat registration label"},{key:"_AU_Tax_Settings_Instruction_",value:"If you are GST registered, please provide your ABN: XX XXX XXX XXX.",description:"Instruction for ABN input."},{key:"_IN_Tax_Settings_Registration_Number_",value:"GSTIN",description:"India GSTIN label"},{key:"_ACCOUNT_ATEP_TITLE_",value:" Amazon Tax Exemption Program",description:"ATEP Title"},{key:"_ACCOUNT_CREATE_EXEMPTION_",value:"Create New Tax Exemption Certificate",description:"ATEP creation wizzard link text"},{key:"_ACCOUNT_MANAGE_EXEMPTIONS_",value:"Manage Existing Tax Exemption Certificates",description:"ATEP download expire link text"},{key:"_ACCOUNT_ENROLL_EXEMPTIONS_",value:"Enroll in the Amazon Tax Exemption Program",description:"Enroll in the Amazon Tax Exemption Program"},{key:"_Tax_Invalid_Business_Legal_Name_Characters_",value:'Cannot include invalid characters ("<>\\%| tab newline)',description:"Invalid characters in business legal name."},{key:"_Tax_Invalid_Italy_Business_Legal_Name_Characters_",value:'Cannot include invalid characters ("-<>\\%| tab newline)',description:"Invalid characters in business legal name."},{key:"_Tax_Settings_Business_Legal_Address_",value:"Business Legal Address",description:"Business Legal Address"},{key:"_Tax_Settings_Contact_Address_",value:"Contact address",description:"Contact address"},{key:"_Tax_Settings_Billing_Address_",value:"Billing address",description:"Billing address"},{key:"_Tax_Settings_New_Address_",value:"New address",description:"New address"},{key:"_Tax_Settings_Header_",value:"Tax Settings",description:""},{key:"_Tax_Settings_Header_EU_",value:"EU Tax Settings",description:""},{key:"_Tax_Settings_Loading_",value:"Loading Tax Settings...",description:""},{key:"_Tax_Settings_Registration_Status_",value:"Registration Status",description:"The status of the VAT Registration"},{key:"_Tax_Settings_Intra_EU_Registration_",value:"Intra-EU",description:"Describes the kind of registration, either EU-wide or Local."},{key:"_Tax_Settings_Local_Registration_",value:"Local",description:"Describes the kind of registration, either EU-wide or Local."},{key:"_Tax_Settings_Information_Note_",value:'Please note that "General VAT fapiao" cannot be used to claim input VAT credit and "Special VAT fapiao" can be used to claim input VAT credit.',description:""},{key:"_Tax_Settings_Information_Guide_",value:"Please click [http://www.amazonaws.cn/support/fapiao/ Web link] for fapiao information guide.",description:""},{key:"_Tax_Settings_Preview_Prologue_",value:"Dear Customer, thank you for providing the tax/Fapiao setting information",description:""},{key:"_Tax_Settings_Preview_Epilogue_",value:"Please confirm it.",description:""},{key:"_Tax_Settings_Preview_Warning_",value:"AWS will validate this information and may contact you for further confirmation if necessary. This process can take up to a week. After that, we will be able to provide you fapiaos based on payment demand and payment status.",description:""},{key:"_Tax_Settings_Address_Warning_Header_",value:"Verify Address",description:""},{key:"_Tax_Settings_Address_Warning_Description_",value:"Your fapiao address exceeds the maximum length allowed. Please re-verify and re-enter. If the address is accurate then please note that there may be delays with printing your fapioa document. If you have any questions, please consult your financial department for confirmation.",description:""},{key:"_Tax_Settings_Address_Warning_Done_",value:"Done",description:""},{key:"_Tax_Settings_Status_",value:"Status",description:""},{key:"_Tax_Settings_PENDING_",value:"Pending",description:""},{key:"_Tax_Settings_APPROVED_",value:"Approved",description:""},{key:"_Tax_Settings_ACTIVE_",value:"Active",description:""},{key:"_Tax_Settings_NONE_",value:"None",description:""},{key:"_Tax_Settings_China_",value:"China",description:""},{key:"_Tax_Settings_Review_",value:"Review your invoice type, tax registration number, taxation address, and mailing address.",description:""},{key:"_Tax_Settings_Edit_",value:"Edit your invoice type, tax registration number, taxation address, or mailing address.",description:""},{key:"_Tax_Settings_Special_Pending_",value:"Your special invoice status application is pending approval.",description:""},{key:"_Tax_Settings_Special_Edit_",value:"You can edit your mailing address and banking information.",description:""},{key:"_Tax_Settings_Host_Content_",value:"Your account is able to host web content publicly.",description:""},{key:"_Tax_Settings_Invoice_Type_",value:"Invoice Type",description:"Reports page header text"},{key:"_Tax_Settings_Registration_Type_",value:"Registration Type",description:"VAT registration type which can be either 'Intra-EU' or 'Local'"},{key:"_Tax_Settings_Invoice_None_",value:"None",description:"AWS usage report description"},{key:"_Tax_Settings_Invoice_Standard_",value:"Standard",description:"AWS usage report description"},{key:"_Tax_Settings_Invoice_Special_",value:"Special",description:"AWS usage report description"},{key:"_Tax_Settings_PAN_",value:"Permanent Account Number (PAN)",description:"Permanent Account Number"},{key:"_Tax_Settings_Abbreviation_PAN_",value:"PAN",description:""},{key:"_Invalid_PAN_",value:"Invalid PAN format.",description:"Invalid PAN format"},{key:"_Tax_Settings_Delete_PAN_",value:"Delete PAN",description:"Permanent Account Number Deletion"},{key:"_Tax_Settings_Delete_PAN_Message_",value:"Are you sure you want to delete your current PAN?",description:"PAN deletion question"},{key:"_Tax_Settings_PAN_Status_Question_",value:"I have another PAN number which I will enter at a later time.",description:"Question about future PAN entries"},{key:"_Tax_Settings_Registration_Number_",value:"Tax Registration Number",description:"Reports page header text"},{key:"_Tax_Settings_KR_Registration_Number_",value:"Business Registration Number",description:"Vat registration label"},{key:"_Tax_Settings_Regulation_Optional_",value:"Optional",description:"Reports page header text"},{key:"_Tax_Settings_Taxation_Address_",value:"Contact Address",description:"AWS usage report description"},{key:"_Tax_Settings_POE_Address_",value:"Company Address",description:"Denotes the address of the company."},{key:"_Tax_Settings_Business_Legal_Name_",value:"Business Legal Name",description:"The legal name of the business in question."},{key:"_Tax_Settings_Company_Name_",value:"Company Name",description:"AWS usage report description"},{key:"_Tax_Settings_VAT_State_",value:"Registration State",description:"AWS usage report description"},{key:"_Tax_Settings_Warning_Header_",value:"Invalid Address",description:"AWS usage report description"},{key:"_Tax_Settings_Warning_Description_",value:"Make sure you have a company name and valid China address on the [#/account Account Settings] page.",description:"AWS usage report description"},{key:"_Tax_Settings_Taxation_Address_",value:"Contact Address",description:"AWS usage report description"},{key:"_Tax_Settings_Company_Name_",value:"Company Name",description:"AWS usage report description"},{key:"_Tax_Settings_Contact_Name_",value:"Contact Name",description:""},{key:"_Tax_Settings_Label_Address_",value:"Address",description:"AWS usage report description"},{key:"_Tax_Settings_Province_",value:"Province",description:"AWS usage report description"},{key:"_Tax_Settings_City_",value:"City",description:"AWS usage report description"},{key:"_Tax_Settings_County_",value:"County",description:"AWS usage report description"},{key:"_Tax_Settings_State_",value:"State",description:"AWS usage report description"},{key:"_Tax_Settings_Zip_",value:"Postal Code",description:""},{key:"_Tax_Settings_Country_",value:"Country/Region",description:""},{key:"_Tax_Settings_Phone_",value:"Phone",description:""},{key:"_Tax_Settings_Denotes_Required_Field_",value:"Denotes required field",description:"Label for contact full name"},{key:"_Tax_Settings_Separate_Mailing_",value:"Add separate mailing address",description:""},{key:"_Tax_Settings_Mailing_Address_",value:"Mailing Address",description:""},{key:"_Tax_Settings_Required_Documentation_",value:"Address will be added by customer services based on required documentation.",description:""},{key:"_Tax_Settings_License_",value:"Business License",description:""},{key:"_Tax_Settings_Certification_",value:"VAT Certification",description:""},{key:"_Tax_Settings_Bank_Information_",value:"Bank Information",description:""},{key:"_Tax_Settings_Bank_Name_",value:"Bank Name",description:""},{key:"_Tax_Settings_Bank_Branch_Name_",value:"Bank Branch Name",description:""},{key:"_Invalid_Bank_Branch_Name_",value:"Bank branch and bank name should be different, please carefully verify.",description:""},{key:"_Tax_Settings_Bank_Province_",value:"Bank Province",description:""},{key:"_Tax_Settings_Bank_City_",value:"Bank City",description:""},{key:"_Tax_Settings_Bank_Account_Number_",value:"Bank Account Number",description:""},{key:"_Tax_Settings_Bank_Account_Holder_Name_",value:"Bank Account Holder Name",description:""},{key:"_Tax_Settings_Special_Complete_Process_",value:"For Special fapiao, please create a case with subject of 'Apply for Special Fapiao' in Support Center and upload the following 4 documents:<p> Business license;</p><p> Tax registration certificate;</p><p> Supporting document for General VAT Payer (also known as Certificate for General Taxpayers);</p><p> Bank license</p><p>Please note that each case allows 3 attachments and total 5MB at maximum. Please make compressed file as needed.</p>",description:""},{key:"_Tax_Settings_Standard_Complete_Process_",value:"For Standard fapiao, please create a case with subject of 'Apply for Standard Fapiao' in Support Center and upload the following 2 documents:<p> Business license;</p><p> Tax registration certificate;</p>",description:""},{key:"_Tax_Settings_Customer_Service_",value:"Go to Support Center",description:""},{key:"_Tax_Settings_Uploaded_",value:"I have uploaded my documents to Support Center and am ready to continue.",description:""},{key:"_Tax_Settings_Saved_",value:"Tax settings saved",description:""},{key:"_Tax_Settings_Error_Saving_",value:"Error saving tax settings",description:""},{key:"_INVALID_TAX_REGISTRATION_NUMBER_",value:"Incorrect tax registration number format. Please include the country code if applicable",description:""},{key:"_InvalidCharacterEncoding_",value:"Please enter in English or another Latin character based language",description:""},{key:"_Tax_Settings_Save_",value:"Save",description:""},{key:"_Tax_Settings_Saving_",value:"Saving...",description:""},{key:"_Tax_Settings_Cancel_",value:"Cancel",description:""},{key:"_Button_Modify_",value:"Edit",description:"Modify Button text"},{key:"_Field_Required_",value:"This field is required.",description:""},{key:"_Invalid_Characters_Apostrophe_Ok_",value:'Cannot include invalid characters ("&<>\\%| tab newline)',description:""},{key:"_Character_Limit_Exceeded_",value:"Character limit exceeded",description:""},{key:"_Button_Update_",value:"Update",description:"Modify Button text"},{key:"_Button_Updating_",value:"Updating...",description:"Modify Button text"},{key:"_Button_Cancel_",value:"Cancel",description:"Modify Button text"},{key:"_Button_Delete_",value:"Delete",description:"Delete Button text"},{key:"_Button_Continue_",value:"Continue",description:"Continue Button text"},{key:"_Account_ContactInformation_Country_",value:"Country",description:"Label for Contact Information - Country"},{key:"_Non_Latin_Characters_",value:"Please enter in English or another Latin character based language",description:""},{key:"_Account_ContactInformation_City_",value:"City",description:"Label for Contact Information - City"},{key:"_Account_ContactInformation_ZIP_",value:"Postal Code",description:"Label for Contact Information - ZIP"},{key:"_Remark_Tax_Registration_Number_Hover_",value:'This Number is "Shui zi ()", to be found on your tax registration certificate, and will be printed on the Fapiao. Please carefully verify it ',description:""},{key:"_Invalid_Characters_",value:"Cannot include invalid characters (\"&<>'\\%| tab newline)",description:""},{key:"_Account_ContactInformation_Company_",value:"Company Name",description:"Label for Contact Information - Company"},{key:"_Company_Name_Direct_Hover_",value:"Company name can be updated in your Account Setting page",description:""},{key:"_Account_ContactInformation_ContactName_CN_",value:"Contact Name",description:"Label for Contact Information - Name"},{key:"_Contact_Name_Hover_",value:"If your AWS account is 'Personal', this Contact Name will be printed on your fapiao as the fapiao title. Please carefully verify it. ",description:""},{key:"_Account_ContactInformation_FapiaoAddress_CN_",value:"Taxation/Fapiao Address",description:"Label for Contact Information - Fapiao Address"},{key:"_Special_Tax_Address_Hover_",value:"Please input the complete Fapiao Address including, if relevant, Province, City, District, Street, Building and Room. This Fapiao Address should be consistent with the one on your Tax Registration Certificate. This information will be printed on your Special VAT fapiao, please carefully verify it.",description:""},{key:"_Standard_Tax_Address_Hover",value:"Please input the complete Fapiao Address including, if relevant, Province, City, District, Street, Building and Room. This Fapiao Address should be consistent with the one on your Tax Registration Certificate. This information will be printed on your Special VAT fapiao, please carefully verify it. If you do not need a Special fapiao at this time, you can enter your details at a later time.",description:""},{key:"_Account_ContactInformation_Phone_CN_",value:"Tax Reg Phone Number",description:"Label for Contact Information - Phone"},{key:"_Tax_Phone_Number_Hover_",value:"Please enter the Registration Phone Number registered with the in-charge tax authority (e.g 010-85XXXXXX), and carefully verify it. This phone number will be printed on fapiao, please ensure both number and format is consistent with the one in tax authority's record. If you have any questions about Tax Registration Phone Number, please consult your financial department for confirmation.",description:""},{key:"_Invalid_Phone_Number_",value:'Please enter valid format of phone number. Cannot include invalid characters ("&<>\\%| tab newline).Length should be 11 to 12 digits.',description:""},{key:"_Bank_Information_Line2_Hover_",value:'According to relevant tax law in China, VAT Special Fapiao would be issued if and only if the complete bank information is filled in. We would gather "Bank name" and "Branch name" as bank information required necessarily by local tax bureau. So please note that the two names should not be duplicated but clear and different, otherwise issuing VAT Special Fapiao would be delayed because of irregularity.',description:""},{key:"_Bank_Account_Number_Hover_",value:"This Bank Account Number will be printed on your Fapiao. Please carefully verify it.",description:""},{key:"_Bank_Account_Holder_Name_Hover_",value:"Pleases ensure bank account holder name is consistent with company name on the bank certificate",description:""},{key:"_Bank_Name_Hover_",value:"This Bank Name will be printed on your Fapiao. Please carefully verify it. ",description:""},{key:"_Bank_Branch_Name_Hover_",value:"This Bank Branch Name will be printed on your Fapiao. Please carefully verify it. ",description:""},{key:"_Account_ContactInformation_Name_",value:"Full Name",description:"Label for Contact Information - Name"},{key:"_Mailing_Full_Name_Hover_",value:"Full Name of the fapiao recipient",description:""},{key:"_Account_ContactInformation_Province_",value:"Province",description:"Label for Contact Information - City"},{key:"_Account_ContactInformation_Mailing_Address_CN_",value:"Mailing Address",description:"Label for Contact Information - Mailling Address"},{key:"_Mailing_Address_Hover_",value:"Detailed Mailing Address to which the fapiao will be sent",description:""},{key:"_Mailing_Company_Name_Hover_",value:"Full name of the Company for which the fapiao will be issued",description:""},{key:"_Mailing_Postal_Code_Hover_",value:"This Postal Code will be used as part of the mailing address for your Fapiao.",description:""},{key:"_Account_ContactInformation_Phone_",value:"Phone Number",description:"Label for Contact Information - Phone"},{key:"_Mailing_Phone_Number_Hover_",value:'This Contact Phone Number will be used to contact the recipient of the Fapiao. Please fill in landline phone number of your company, and Area Code in the first field prior to "-".',description:""},{key:"_Account_ContactInformation_Cell_Phone_",value:"Cell Phone Number",description:"Label for Contact Information - Cell Phone"},{key:"_Button_Preview_",value:"Preview",description:"Preview Button text"},{key:"_Account_ContactInformation_State_",value:"State",description:"Label for Contact Information - State"},{key:"_Special_Invoice_Type_Header_",value:"Special Invoice Type",description:""},{key:"_Standard_Invoice_Type_Header_",value:"Standard Invoice Type",description:""},{key:"_Invoice_Type_Special_Popup_",value:"The special Value-added Tax (VAT) invoice (fapiao) is issued to General Taxpayers and can be used to claim input VAT credit. The buyer shall fill up Company Name, Tax Registration Number, company address and telephone number registered with the in-charge tax authority, bank name and bank account registered with the in-charge tax authority and Mailing Address to apply for special VAT invoice (fapiao). If you have any questions about VAT fapiao related information, please consult your financial department for confirmation.",description:""},{key:"_Invoice_Type_Standard_Popup_",value:"The standard Value-added Tax (VAT) invoice (fapiao) is issued to Non-General Taxpayers and cannot be used to claim input VAT credit. The buyer shall fill up Company Name, Tax Registration Number, company address and telephone number registered with the in-charge tax authority and Mailing Address to apply for general VAT invoice (fapiao). If you have any questions about VAT fapiao related information, please consult your financial department for confirmation.",description:""},{key:"_Invoice_Type_Popup_Done_",value:"Done",description:""},{key:"_Tax_Settings_Account_ID_",value:"Account ID",description:""},{key:"_Tax_Settings_Account_Name_",value:"Account Name",description:""},{key:"_Tax_Settings_Tax_Address_",value:"Tax Address",description:""},{key:"_Tax_Settings_Tax_ID_",value:"Tax ID",description:""},{key:"_Tax_Settings_Seller_",value:"Seller",description:""},{key:"_Tax_Settings_Button_Manage_",value:"Manage Tax Registration",description:""},{key:"_Tax_Settings_Table_Footer_",value:"Viewing {start} - {end} of {total} accounts",description:""},{key:"_Tax_Settings_Edit_Tax_Country_Tooltip_",value:"To change the country of your tax registration, you must delete the current tax registration then add a new one.",description:""},{key:"_Tax_Settings_Edit_Address_Country_Tooltip_",value:"The country of your business legal address must match the country of your tax registration number.",description:""},{key:"_Tax_Settings_India_GST_Legal_Business_Info_Note_",value:"Your Business Legal Name and Address should match the information on your GSTIN certificate. This information will be used to calculate GST and be included on your tax invoice.",description:""},{key:"_Tax_Settings_India_GST_Note_Head_",value:"The GSTIN address is currently not validated nor does it appear on the invoice. This may change in the future. In the meantime, please ensure your billing address, which will appear on your tax invoice and used to calculate GST, matches with your GSTIN registered address. You can modify your billing address by clicking on ",description:""},{key:"_Tax_Settings_India_GST_Note_Tail_",value:" link. Contact customer support if you have additional questions.",description:""},{key:"_Tax_Settings_India_GST_Note_Link_",value:"this",description:""},{key:"_Tax_Settings_Fapiao_Detail_Header_",value:"Fapiao Detail Information",description:""},{key:"_Tax_Settings_Save_Changes_Button_",value:"Save Changes",description:""},{key:"_Tax_Settings_Save_And_Continue_Mailing_Address_",value:"Save and continue to fill in mail address information",description:""},{key:"_Tax_Settings_Save_And_Continue_Bank_Detail_",value:"Save and continue to fill in bank detail information",description:""},{key:"_Tax_Settings_Save_And_Continue_Supporting_Documents_",value:"Save and continue to upload supporting documents",description:""},{key:"_Tax_Settings_Sample_",value:"Sample",description:""},{key:"_Tax_Settings_Button_Update_",value:"Update",description:""},{key:"_Tax_Settings_Supporting_Doc_",value:"Supporting Documents",description:""},{key:"_Tax_Settings_Standand_Fapiao_Doc_Hint_Header_",value:"For standard fapiao, please upload the image/scan copy of following document",description:""},{key:"_Tax_Settings_Special_Fapiao_Doc_Hint_Header_",value:"For special fapiao, please upload the image/scan copy of following documents",description:""},{key:"_TAX_SETTINGS_BUSINESS_LICENSE_",value:"Business license",description:""},{key:"_TAX_SETTINGS_TAX_REGISTRATION_CERTIFICATE_",value:"Tax registration certificate",description:""},{key:"_TAX_SETTINGS_VAT_PAYER_",value:"Supporting document for General VAT Payer (also known as Certificate for Generaral Taxpayers)",description:""},{key:"_TAX_SETTINGS_BANK_LICENSE_",value:"Bank license",description:""},{key:"_Tax_Settings_File_Size_Warning_",value:"Support PDF,JEG,PNG format File size less than 5M each. File number limit 5",description:""},{key:"_Tax_Settings_Upload_File_",value:"Upload a File",description:""},{key:"_Tax_Settings_Choose_A_File_",value:"Choose a File",description:""},{key:"_Tax_Settings_Choose_File_",value:"Choose File",description:""},{key:"_Tax_Settings_No_File_Chosen_",value:"No files chosen",description:""},{key:"_Tax_Settings_Upload_Button_",value:"Upload",description:""},{key:"_Tax_Settings_Preview_Button_",value:"Preview",description:""},{key:"_Tax_Settings_Cancel_Button_",value:"Cancel",description:""},{key:"_Tax_Settings_Edit_Button_",value:"Edit",description:""},{key:"_Tax_Settings_Submit_Button_",value:"Submit",description:""},{key:"_Tax_Settings_Submit_Warning_",value:"We will validate this information and may contact you for further confirmation if necessary. After that, we will be able to provide you fapiaos based on payment demand and payment status.",description:""},{key:"_Tax_Settings_Fapiao_Preview_",value:"Preview",description:""},{key:"_Tax_Settings_Validation_In_Progress_",value:"Validation in progress",description:""},{key:"_Tax_Settings_Validation_Status_",value:"Validation",description:""},{key:"_Tax_Settings_Click_To_Continue_Button_",value:"Click to Continue",description:""},{key:"_Tax_Settings_Incompleted_Settings_",value:"You have incompleted tax setting changes",description:""},{key:"_Tax_Settings_Fapiao_Information_",value:"Fapiao Information",description:""},{key:"_Tax_Settings_Back_Button_",value:"Back",description:""},{key:"_Tax_Settings_Exceeding_File_Size_Warning_",value:"File size too large",description:""},{key:"_Tax_Settings_File_Number_Warning_",value:"You have to upload at least one file to proceed. You can upload up to five files.",description:""},{key:"_Tax_Settings_File_Type_Warning_",value:"Only PDF, JPEG and PNG files are allowed.",description:""},{key:"_Tax_Settings_Button_Edit_All_",value:"Edit All ({count})",description:""},{key:"_Tax_Settings_Modal_Please_Confirm_",value:"Please Confirm",description:""},{key:"_Tax_Settings_Modal_Confirmation_Msg_",value:"Are you sure you want to update tax registration information for {count} accounts?",description:""},{key:"_Tax_Settings_Modal_Change_Pan_Confirmation_Msg_",value:"Are you sure you want to update PAN for {count} accounts?",description:""},{key:"_Tax_Settings_Bulk_Edit_Warning_",value:"Please note that any updates made on this page will affect {count} accounts in your organization.",description:""},{key:"_INVALID_ADDRESS_",value:"The address provided is not a valid address, please check the Country/City/Postal Code and/or contact customer support.",description:""},{key:"_Tax_Settings_Bulk_Edit_ERROR_",value:"We encountered an error while updating the following accounts.",description:""},{key:"_Tax_Settings_Progress_Text_",value:"{finished} of {total} accounts updated",description:""},{key:"_SERVICE_ERROR_",value:"We encountered an error while updating the account, please try again later.",description:""},{key:"_Tax_Settings_Change_Fapiao_Hint_",value:'Please create a new "Account and Billing" case in [https://console.amazonaws.cn/support Support Center] if you want to <b>change the fapiao type</b>, and state the reason(s) for changing the fapiao type in the case and provide supporting documents.',description:""},{key:"_Tax_Settings_Unsupported_Country_Info_",value:"If your country is not in the dropdown, we do not collect your Tax Registration Number at this time.",description:""},{key:"_Tax_Settings_China_Taxpayer_Identification_Number_",value:"Taxpayer's Identification Number",description:""},{key:"_Tax_Settings_China_Taxpayer_Identification__Number_Hover_",value:"It is the Taxpayer's Identification Number (18 digits code) that can be found on your business license, and will be printed on the Fapiao. Please verify it carefully.",description:""},{key:"__Tax_Settings_Manage_PAN_Button_",value:"Manage PAN",description:""},{key:"_Tax_Settings_Rows_",value:"Rows",description:""},{key:"_Unauthorized_User_",value:"You Need Permissions",description:""},{key:"_Unauthorized_User_Description_",value:"You don't have permission to access billing information for this account. Contact your AWS administrator if you need help. If you are an AWS administrator, you can provide permissions for your users or groups by making sure that (1) [https://docs.aws.amazon.com/console/iam/billing-enable this account allows IAM and federated users to access billing information] and (2) [https://docs.aws.amazon.com/console/iam/billing-permissions you have the required IAM permissions].",description:""},{key:"_General_AccessDenied_",value:"IAM Access Denied.",description:""},{key:"_Error_Ocurred_",value:"An error occurred while processing your request.",description:""},{key:"_Throttling_Exception_",value:"We are experiencing a high volume of calls right now, please try again.",description:""},{key:"_ViewBilling_AccessDenied_",value:"Access Denied, you need ViewBilling to view this page.",description:""},{key:"_ModifyBilling_AccessDenied_",value:"Access Denied, you need ModifyBilling to modify this page.",description:""},{key:"_ViewAccount_AccessDenied_",value:"Access Denied, you need ViewAccount to view this page.",description:""},{key:"_ModifyAccount_AccessDenied_",value:"Access Denied, you need ModifyAccount to modify this page",description:""},{key:"_Will_Send_Email_",value:"An email will be sent with more information.",description:"Notifies the customer of email"},{key:"_SOR_Change_Notification_",value:"This action will change your contracting entity from <b>{{previousSOR}}</b> to <b>{{newSOR}}</b>.",description:"Notifies customer of SOR change"},{key:"_Invalid_Default_Payment_Notification_",value:"<b>Please note</b>, {{newSOR}} does not support your current default payment instrument. Please go to the [#/paymentmethods Payment Methods] page and select a different payment method.",description:"Notifies customer if their payment method is invalid during SOR change"},{key:"_Invalid_Currency_Notification_",value:"{{newSOR}} does not support your current currency preference. To continue with the update, please visit the [#/account Account Settings] page and change your currency preference to: {{validCurrencies}}.",description:"Notifies a customer if their payment method is invalid."},{key:"_Tax_Settings_Export_To_CSV_Button_",value:"Export to CSV",description:""},{key:"_Tax_Settings_Address_Role_Contact_Address_",value:"This is the Contact Address for this account",description:""},{key:"_Tax_Settings_Address_Role_Billing_Address_",value:"This is the Billing Address provided in Payment method for this account",description:""},{key:"_Tax_Settings_Address_Role_VRN_Address_",value:"This is the Business Legal Address provided in this accounts VRN",description:""},{key:"_Tax_Settings_Filter_Hint_",value:"Filter by columns.(e.g., Country Code : US)",description:""},{key:"_Tax_Settings_Country_Code_",value:"Country Code",description:""},{key:"_Address_Suggestion_Prompt_",value:"We have a suggested change for the address you entered: ",description:"Prompts the customer to choose an address"},{key:"_Suggested_Address_Label_",value:"Suggested Address: ",description:"Label for suggested address"},{key:"_Entered_Address_Label_",value:"Address as Entered: ",description:"Label for entered address"},{key:"_Tax_Settings_Certified_Email_Address_",value:"Certified Email Address",description:""},{key:"_Tax_Settings_SDI_Account_ID_",value:"SDI Account ID",description:""},{key:"_Tax_Settings_Invalid_SDI_Account_ID_",value:"Incorrect SDI Account ID format. Please modify.",description:""},{key:"_Tax_Settings_Email_SDI_Or_Account_ID_Required_",value:"You should provide either SDI account ID or certified email, but not both",description:""},{key:"_Tax_Settings_Invalid_Email_",value:"Incorrect Certified Email Address format. Please modify.",description:""},{key:"_Tax_Settings_SDI_Instruction_",value:"CodiceDestinatario  It is used by customers who want to receive their invoices via web service (API) or FTP",description:""},{key:"_Tax_Settings_Certified_Email_Instruction_",value:"PECDestinatario  It is used by customers who want to receive their invoices sent to the identified certified email mailbox",description:""},{key:"_Tax_Settings_Show_SDI_Account_Id_",value:"show SDI Account ID",description:""},{key:"_Character_Length_Error_",value:"Incorrect character length",description:""},{key:"_Armenia_Non_Business_TRN",value:"Only businesses are required to enter the Tax Registration Number in this field. If you are a business, please enter a Tax Registration Number which begins with a 0.",description:"Only for Armenia"},{key:"_Tax_Settings_Heritage_Enable_Header_",value:"Enable Inheritance",description:"Heritage enable message header"},{key:"_Tax_Settings_Heritage_Address_Role_Contact_Address_",value:"The inherited Contact Address from the master account",description:"Heritage obtained Contact Address"},{key:"_Tax_Settings_Heritage_Address_Role_Billing_Address_",value:"The inherited Billing Address from the master account",description:"Heritage obtained Billing Address"},{key:"_Tax_Settings_Heritage_Address_Role_VRN_Address_",value:"The inherited VRN Address from the master account",description:"Heritage obtained VRN Address"},{key:"_Tax_Settings_Heritage_Enable_Message_",value:"Enable tax settings inheritance? This will apply the business legal name, tax address, tax registration number (if present), and non-U.S. tax exemptions (if present) to all of your member accounts.",description:"Heritage enable message"},{key:"_Tax_Settings_Heritage_Enable_Success_Message_",value:"Tax settings inheritance has been enabled. This change applies to ${numOfAccounts} of your accounts. Please wait up to 15 minutes for all your accounts to update. To return the setting to the original information, uncheck *Enable tax settings inheritance*",description:"Heritage enable success message"},{key:"_Tax_Settings_Heritage_Disable_Header_",value:"Disable Inheritance",description:"Heritage disable message header"},{key:"_Tax_Settings_Heritage_Disable_Message_",value:"Disable tax settings inheritance? This will stop applying the business legal name, tax address, tax registration number (if present), and non-U.S. tax exemptions (if present) from your master account to all of your member accounts.",description:"Heritage disable message"},{key:"_Tax_Settings_Heritage_Disable_Success_Message_",value:"Tax settings inheritance has been disabled. This change applies to ${numOfAccounts} of your accounts. Please wait up to 15 minutes for all your accounts to update.",description:"Heritage disable success message"},{key:"_Tax_Settings_Heritage_Inherited_Registration_Text_",value:"You can't modify this tax registration for this profile because it is inherited from the master account",description:"Heritage inherited information text"},{key:"_Tax_Settings_Heritage_Manage_Text_",value:"Enable Tax Settings Inheritance",description:"Manage Heritage label text"},{key:"_Tax_Settings_Heritage_Wait_Message_",value:"Please wait up to 15 minutes for your accounts to update.",description:"Heritage wait message"},{key:"_Tax_Settings_Registration_Documentation_Upload_",value:"Tax Registration Documentation",description:"Field header that denotes to a customer that documentation can be uploaded."},{key:"_Tax_Settings_Registration_Documentation_Uploaded_Header_",value:"Documents",description:"Field header that contains the customer's uploaded tax documents."},{key:"_Tax_Settings_No_Documents_Uploaded_",value:"(no documents uploaded)",description:"A message that tells the customer that they have no uploaded tax documents."},{key:"_Tax_Settings_Documentation_Upload_Instruction_",value:"{maximumFileSize} MB maximum. File types accepted: {fileTypes}",description:"An instructional message that tells the customer the maximum file size and suggested file types."},{key:"_Tax_Settings_Add_File_Button_Text_",value:"Add a file",description:"For a button that the customer can click to upload more tax documents."},{key:"_Tax_Settings_Remove_File_Button_Text_",value:"Remove",description:"For a button that the customer to click to remove uploaded tax documents."},{key:"_Tax_Settings_Maximum_Number_Documents_",value:"You have reached the maximum number of documents.",description:"A message that tells the customer that they have reached the maximum number of documents."},{key:"_Tax_Settings_Maximum_File_Size_",value:"Uploaded documentation may not exceed {maximumFileSize} MB.",description:"An error message that tells the customer that they attempted to upload a document that exceeds the maximum file size."},{key:"_Tax_Settings_Documentation_Tooltip_",value:"Provide documents where your business name and tax registration number are clearly visible. Your account will be marked as PENDING while a specialist verifies your documents.",description:"A tooltip to let customers know what sort of documentation to provide."},{key:"_Tax_Settings_Incorrect_File_Type_",value:"Accepted file types: {fileTypes}",description:"An error when the customer uploads an incorrect document type."},{key:"_Tax_Settings_Intra_EU_Registration_Type_",value:"Intra-EU: Choose this option to verify the validity of a VAT number issued by any Member State against VIES.",description:"Selection of the registration type IE or Local."},{key:"_Tax_Settings_Local_Registration_Type_",value:"Local: Choose this option If you have a TRN associated with local VAT that is in a different format.",description:"Selection of the registration type IE or Local."}]}])}]);